<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>DUTs &mdash; pcdshub/lcls-plc-lfe-gem  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
        <script src="_static/docs-versions-menu.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Data Types" href="plc-lfe-gem_plc_lfe_gem_epics.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            pcdshub/lcls-plc-lfe-gem
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">plc-lfe-gem</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="plc-lfe-gem_pragmas.html">Pragmas</a></li>
<li class="toctree-l1"><a class="reference internal" href="plc-lfe-gem_nc.html">NC Settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="plc-lfe-gem_ethercat.html">Box Hierarchy</a></li>
<li class="toctree-l1"><a class="reference internal" href="plc-lfe-gem_boxes.html">Boxes</a></li>
<li class="toctree-l1"><a class="reference internal" href="plc-lfe-gem_links.html">Links</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">plc_lfe_gem</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="plc-lfe-gem_plc_lfe_gem_summary.html">Settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="plc-lfe-gem_plc_lfe_gem_summary.html#pragmas">Pragmas</a></li>
<li class="toctree-l1"><a class="reference internal" href="plc-lfe-gem_plc_lfe_gem_summary.html#libraries">Libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="plc-lfe-gem_plc_lfe_gem_summary.html#symbols">Symbols</a></li>
<li class="toctree-l1"><a class="reference internal" href="plc-lfe-gem_plc_lfe_gem_epics.html">Data Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="plc-lfe-gem_plc_lfe_gem_epics.html#database-records">Database Records</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">DUTs</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#e-positionstate">E_PositionState</a></li>
<li class="toctree-l2"><a class="reference internal" href="#st-mpa">ST_MPA</a></li>
<li class="toctree-l2"><a class="reference internal" href="#st-pressuresensor">ST_PressureSensor</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#gvls">GVLs</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#gvl-control">GVL_Control</a></li>
<li class="toctree-l2"><a class="reference internal" href="#gvl-devices">GVL_Devices</a></li>
<li class="toctree-l2"><a class="reference internal" href="#gvl-ilk">GVL_ILK</a></li>
<li class="toctree-l2"><a class="reference internal" href="#gvl-sensors">GVL_Sensors</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#pous">POUs</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#diagnostics">DIAGNOSTICS</a></li>
<li class="toctree-l2"><a class="reference internal" href="#fb-mpa">FB_MPA</a></li>
<li class="toctree-l2"><a class="reference internal" href="#fb-pressuresensor-px219">FB_PressureSensor_PX219</a></li>
<li class="toctree-l2"><a class="reference internal" href="#fb-vgc-1">FB_VGC_1</a></li>
<li class="toctree-l2"><a class="reference internal" href="#main">MAIN</a></li>
<li class="toctree-l2"><a class="reference internal" href="#prg-gatt">PRG_GATT</a></li>
<li class="toctree-l2"><a class="reference internal" href="#prg-gem1">PRG_GEM1</a></li>
<li class="toctree-l2"><a class="reference internal" href="#prg-gem1-diff-pump">PRG_GEM1_DIFF_PUMP</a></li>
<li class="toctree-l2"><a class="reference internal" href="#prg-gem2">PRG_GEM2</a></li>
<li class="toctree-l2"><a class="reference internal" href="#prg-gem2-diff-pump">PRG_GEM2_DIFF_PUMP</a></li>
<li class="toctree-l2"><a class="reference internal" href="#prg-ilk">PRG_ILK</a></li>
<li class="toctree-l2"><a class="reference internal" href="#prg-pmps">PRG_PMPS</a></li>
<li class="toctree-l2"><a class="reference internal" href="#prg-roots">PRG_ROOTS</a></li>
<li class="toctree-l2"><a class="reference internal" href="#prg-satt">PRG_SATT</a></li>
<li class="toctree-l2"><a class="reference internal" href="#prg-sensors">PRG_SENSORS</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">pcdshub/lcls-plc-lfe-gem</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">DUTs</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/plc-lfe-gem_plc_lfe_gem_source.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="duts">
<h1>DUTs<a class="headerlink" href="#duts" title="Permalink to this heading"></a></h1>
<section id="e-positionstate">
<h2>E_PositionState<a class="headerlink" href="#e-positionstate" title="Permalink to this heading"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;qualified_only&#39;</span><span class="p">}</span>
<span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;strict&#39;</span><span class="p">}</span>
<span class="n">TYPE</span> <span class="n">E_PositionState</span> <span class="p">:</span>
<span class="p">(</span>
<span class="n">RETRACTED</span>   <span class="o">:=</span> <span class="mi">0</span><span class="p">,</span>
<span class="n">INSERTED</span>    <span class="o">:=</span> <span class="mi">1</span><span class="p">,</span>
<span class="n">MOVING</span>      <span class="o">:=</span> <span class="mi">2</span><span class="p">,</span>
<span class="n">INVALID</span> <span class="o">:=</span><span class="mi">3</span>
<span class="p">);</span>
<span class="n">END_TYPE</span>
</pre></div>
</div>
<dl class="simple">
<dt>Related:</dt><dd><ul class="simple">
<li><p><a class="reference internal" href="#e-positionstate">E_PositionState</a></p></li>
</ul>
</dd>
</dl>
</section>
<section id="st-mpa">
<h2>ST_MPA<a class="headerlink" href="#st-mpa" title="Permalink to this heading"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">TYPE</span> <span class="n">ST_MPA</span> <span class="p">:</span>
<span class="n">STRUCT</span>
    <span class="o">//</span><span class="n">Readbacks</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span> <span class="s1">&#39;</span>
    <span class="n">pv</span><span class="p">:</span> <span class="n">IN</span><span class="p">;</span>
    <span class="n">io</span><span class="p">:</span> <span class="n">i</span><span class="p">;</span>
    <span class="s1">&#39;}</span>
    <span class="n">i_bInLS</span> <span class="p">:</span>       <span class="n">BOOL</span><span class="p">;</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span> <span class="s1">&#39;</span>
    <span class="n">pv</span><span class="p">:</span> <span class="n">OUT</span><span class="p">;</span>
    <span class="n">io</span><span class="p">:</span> <span class="n">i</span><span class="p">;</span>
    <span class="s1">&#39;}</span>
    <span class="n">i_bOutLS</span>        <span class="p">:</span>       <span class="n">BOOL</span><span class="p">;</span>
    <span class="o">//</span><span class="n">Controls</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span> <span class="s1">&#39;</span>
    <span class="n">pv</span><span class="p">:</span> <span class="n">INSERT_DO</span><span class="p">;</span>
    <span class="n">io</span><span class="p">:</span> <span class="n">i</span><span class="p">;</span>
    <span class="s1">&#39;}</span>
    <span class="n">q_bRetract</span>      <span class="p">:</span>       <span class="n">BOOL</span><span class="p">;</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span> <span class="s1">&#39;</span>
    <span class="n">pv</span><span class="p">:</span> <span class="n">RETRACT_DO</span><span class="p">;</span>
    <span class="n">io</span><span class="p">:</span> <span class="n">i</span><span class="p">;</span>
    <span class="s1">&#39;}</span>
    <span class="n">q_bInsert</span>       <span class="p">:</span>       <span class="n">BOOL</span><span class="p">;</span>
<span class="o">//</span>    <span class="n">q_xRetract_Do</span> <span class="p">:</span> <span class="n">Bool</span><span class="p">;</span>


    <span class="o">//</span><span class="n">Logic</span> <span class="ow">and</span> <span class="n">supervisory</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span> <span class="s1">&#39;</span>
    <span class="n">pv</span><span class="p">:</span> <span class="n">ILKOK</span><span class="p">;</span>
    <span class="n">io</span><span class="p">:</span> <span class="n">i</span><span class="p">;</span>
    <span class="s1">&#39;}</span>
    <span class="n">bILK_OK</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span> <span class="s1">&#39;</span>
    <span class="n">pv</span><span class="p">:</span> <span class="n">INSERT_OK</span><span class="p">;</span>
    <span class="n">io</span><span class="p">:</span> <span class="n">i</span><span class="p">;</span>
    <span class="s1">&#39;}</span>
    <span class="n">bInsertOK</span>       <span class="p">:</span>       <span class="n">BOOL</span><span class="p">;</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span> <span class="s1">&#39;</span>
    <span class="n">pv</span><span class="p">:</span> <span class="n">RETRACT_OK</span><span class="p">;</span>
    <span class="n">io</span><span class="p">:</span> <span class="n">i</span><span class="p">;</span>
    <span class="s1">&#39;}</span>
    <span class="n">bRetractOK</span>      <span class="p">:</span>       <span class="n">BOOL</span><span class="p">;</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span> <span class="s1">&#39;</span>
    <span class="n">pv</span><span class="p">:</span> <span class="n">IN_CMD</span><span class="p">;</span>
    <span class="n">io</span><span class="p">:</span> <span class="n">io</span><span class="p">;</span>
    <span class="s1">&#39;}</span>
    <span class="n">bInsert_SW</span>              <span class="p">:</span>       <span class="n">BOOL</span><span class="p">;</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span> <span class="s1">&#39;</span>
    <span class="n">pv</span><span class="p">:</span> <span class="n">OUT_CMD</span><span class="p">;</span>
    <span class="n">io</span><span class="p">:</span> <span class="n">io</span><span class="p">;</span>
    <span class="s1">&#39;}</span>
    <span class="n">bRetract_SW</span>     <span class="p">:</span>       <span class="n">BOOL</span><span class="p">;</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span> <span class="s1">&#39;</span>
    <span class="n">pv</span><span class="p">:</span> <span class="n">ERROR</span><span class="p">;</span>
    <span class="n">io</span><span class="p">:</span> <span class="n">io</span><span class="p">;</span>
    <span class="s1">&#39;}</span>
    <span class="n">bErrorPresent</span> <span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span> <span class="s1">&#39;</span>
    <span class="n">pv</span><span class="p">:</span> <span class="n">POS_STATE</span> <span class="p">;</span>
    <span class="nb">type</span><span class="p">:</span> <span class="n">mbbi</span> <span class="p">;</span>
    <span class="n">field</span><span class="p">:</span> <span class="n">ZRST</span> <span class="n">RETRACTED</span> <span class="p">;</span>
    <span class="n">field</span><span class="p">:</span> <span class="n">ONST</span> <span class="n">INSERTED</span> <span class="p">;</span>
    <span class="n">field</span><span class="p">:</span> <span class="n">TWST</span> <span class="n">MOVING</span> <span class="p">;</span>
    <span class="n">field</span><span class="p">:</span> <span class="n">THST</span> <span class="n">INVALID</span> <span class="p">;</span>
    <span class="n">io</span><span class="p">:</span> <span class="n">i</span>
    <span class="s1">&#39;}</span>

    <span class="n">eState</span>  <span class="p">:</span>       <span class="n">E_PositionState</span> <span class="o">:=</span> <span class="n">E_PositionState</span><span class="o">.</span><span class="n">INVALID</span><span class="p">;</span>

<span class="n">END_STRUCT</span>
<span class="n">END_TYPE</span>
</pre></div>
</div>
<dl class="simple">
<dt>Related:</dt><dd><ul class="simple">
<li><p><a class="reference internal" href="#e-positionstate">E_PositionState</a></p></li>
</ul>
</dd>
</dl>
</section>
<section id="st-pressuresensor">
<h2>ST_PressureSensor<a class="headerlink" href="#st-pressuresensor" title="Permalink to this heading"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">TYPE</span> <span class="n">ST_PressureSensor</span> <span class="p">:</span>
<span class="n">STRUCT</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span> <span class="s1">&#39;</span>
    <span class="n">pv</span><span class="p">:</span> <span class="n">PRESS</span><span class="p">;</span>
    <span class="n">io</span><span class="p">:</span> <span class="n">i</span><span class="p">;</span>
    <span class="s1">&#39;}</span>
    <span class="n">rPRESS</span><span class="p">:</span> <span class="n">REAL</span><span class="p">;</span> <span class="o">//</span><span class="n">This</span> <span class="ow">is</span> <span class="n">the</span> <span class="n">human</span><span class="o">-</span><span class="n">readable</span> <span class="n">pressure</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span> <span class="s1">&#39;</span>
    <span class="n">pv</span><span class="p">:</span> <span class="n">iPRESS</span><span class="p">;</span>
    <span class="n">io</span><span class="p">:</span> <span class="n">i</span><span class="p">;</span>
    <span class="s1">&#39;}</span>
    <span class="n">iPRESS_R</span> <span class="p">:</span> <span class="n">INT</span> <span class="p">;</span> <span class="o">//</span><span class="nb">input</span> <span class="n">pressure</span> <span class="ow">in</span> <span class="n">machine</span> <span class="n">form</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span> <span class="s1">&#39;</span>
    <span class="n">pv</span><span class="p">:</span> <span class="n">PRESS_SP</span><span class="p">;</span>
    <span class="n">io</span><span class="p">:</span> <span class="n">io</span><span class="p">;</span>
    <span class="s1">&#39;}</span>
    <span class="n">rPressSP</span><span class="p">:</span> <span class="n">REAL</span> <span class="p">;</span> <span class="o">//</span> <span class="n">EPICS</span> <span class="n">Pressure</span> <span class="n">setpoint</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span> <span class="s1">&#39;</span>
    <span class="n">pv</span><span class="p">:</span> <span class="n">MIN_SP</span><span class="p">;</span>
    <span class="n">io</span><span class="p">:</span> <span class="n">io</span><span class="p">;</span>
    <span class="s1">&#39;}</span>
    <span class="n">rMinPressSP</span> <span class="p">:</span> <span class="n">REAL</span><span class="p">;</span>  <span class="o">//</span> <span class="n">Low</span> <span class="n">limit</span> <span class="n">of</span> <span class="n">pressure</span> <span class="n">setpoint</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span> <span class="s1">&#39;</span>
    <span class="n">pv</span><span class="p">:</span> <span class="n">MAX_SP</span><span class="p">;</span>
    <span class="n">io</span><span class="p">:</span> <span class="n">io</span><span class="p">;</span>
    <span class="s1">&#39;}</span>
    <span class="n">rMaxPressSP</span> <span class="p">:</span> <span class="n">REAL</span><span class="p">;</span>     <span class="o">//</span> <span class="n">High</span> <span class="n">limit</span> <span class="n">of</span> <span class="n">pressure</span> <span class="n">setpoint</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span> <span class="s1">&#39;</span>
    <span class="n">pv</span><span class="p">:</span> <span class="n">SCALE</span><span class="p">;</span>
    <span class="n">io</span><span class="p">:</span> <span class="n">io</span><span class="p">;</span>
    <span class="s1">&#39;}</span>
    <span class="n">rFULL_SCALE</span><span class="p">:</span> <span class="n">REAL</span><span class="p">;</span> <span class="o">//</span> <span class="n">Full</span> <span class="n">scale</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span> <span class="s1">&#39;</span>
    <span class="n">pv</span><span class="p">:</span> <span class="n">ALARM</span><span class="p">;</span>
    <span class="n">field</span><span class="p">:</span> <span class="n">ZNAM</span> <span class="n">Normal</span><span class="p">;</span>
    <span class="n">field</span><span class="p">:</span> <span class="n">ONAM</span> <span class="n">Alarm</span><span class="p">;</span>
    <span class="n">io</span><span class="p">:</span> <span class="n">i</span><span class="p">;</span>
    <span class="s1">&#39;}</span>
    <span class="n">xPstateAlarm</span> <span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span> <span class="o">//</span> <span class="mi">0</span><span class="p">:</span><span class="n">Normal</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span><span class="n">Alarm</span>


<span class="n">END_STRUCT</span>
<span class="n">END_TYPE</span>
</pre></div>
</div>
</section>
</section>
<section id="gvls">
<h1>GVLs<a class="headerlink" href="#gvls" title="Permalink to this heading"></a></h1>
<section id="gvl-control">
<h2>GVL_Control<a class="headerlink" href="#gvl-control" title="Permalink to this heading"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">VAR_GLOBAL</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM1L0:GEM:CNTRL:SP;</span>
    <span class="n">field</span><span class="p">:</span> <span class="n">HOPR</span> <span class="mi">1000</span><span class="p">;</span>
    <span class="n">field</span><span class="p">:</span> <span class="n">LOPR</span> <span class="mi">0</span><span class="p">;</span>
    <span class="n">field</span><span class="p">:</span> <span class="n">PREC</span> <span class="mi">2</span><span class="p">;</span>
    <span class="n">field</span><span class="p">:</span> <span class="n">EGU</span> <span class="s2">&quot;TORR&quot;</span><span class="p">;</span>
    <span class="s1">&#39;}</span>
    <span class="n">fGEM1SetpointValue</span> <span class="p">:</span> <span class="n">REAL</span><span class="o">:=</span><span class="mi">0</span><span class="p">;</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM2L0:GEM:CNTRL:SP;</span>
    <span class="n">field</span><span class="p">:</span> <span class="n">HOPR</span> <span class="mi">1000</span><span class="p">;</span>
    <span class="n">field</span><span class="p">:</span> <span class="n">LOPR</span> <span class="mi">0</span><span class="p">;</span>
    <span class="n">field</span><span class="p">:</span> <span class="n">PREC</span> <span class="mi">2</span><span class="p">;</span>
    <span class="n">field</span><span class="p">:</span> <span class="n">EGU</span> <span class="s2">&quot;TORR&quot;</span><span class="p">;</span>
    <span class="s1">&#39;}</span>
    <span class="n">fGEM2SetpointValue</span> <span class="p">:</span> <span class="n">REAL</span><span class="o">:=</span><span class="mi">0</span><span class="p">;</span>


    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM1L0:GEM:CNTRL:GO;</span>
      <span class="n">field</span><span class="p">:</span> <span class="n">ZNAM</span> <span class="n">STOP</span><span class="p">;</span>
     <span class="n">field</span><span class="p">:</span> <span class="n">ONAM</span> <span class="n">START</span><span class="p">;</span>
     <span class="n">io</span><span class="p">:</span> <span class="n">io</span><span class="p">;</span>
     <span class="s1">&#39;}</span>
    <span class="n">GEM1_GO</span> <span class="p">:</span> <span class="n">BOOL</span><span class="o">:=</span><span class="n">false</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM2L0:GEM:CNTRL:GO;</span>
     <span class="n">field</span><span class="p">:</span> <span class="n">ZNAM</span> <span class="n">STOP</span><span class="p">;</span>
     <span class="n">field</span><span class="p">:</span> <span class="n">ONAM</span> <span class="n">START</span><span class="p">;</span>
     <span class="n">io</span><span class="p">:</span> <span class="n">io</span><span class="p">;</span> <span class="s1">&#39;}</span>
    <span class="n">GEM2_GO</span> <span class="p">:</span> <span class="n">BOOL</span><span class="o">:=</span><span class="n">false</span><span class="p">;</span>
<span class="n">END_VAR</span>
</pre></div>
</div>
</section>
<section id="gvl-devices">
<h2>GVL_Devices<a class="headerlink" href="#gvl-devices" title="Permalink to this heading"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">VAR_GLOBAL</span>

    <span class="p">(</span><span class="o">*</span><span class="n">Upstream</span> <span class="n">Interface</span><span class="o">*</span><span class="p">)</span>
    <span class="p">(</span><span class="o">*</span><span class="n">Gauges</span><span class="o">*</span><span class="p">)</span>
    <span class="n">USG_PIN</span><span class="p">:</span> <span class="n">FB_TPIP_ADS</span><span class="p">;</span>
    <span class="n">USG_GCC</span><span class="p">:</span> <span class="n">FB_TGCC_ADS</span><span class="p">;</span>
    <span class="n">DSG_PIN</span><span class="p">:</span> <span class="n">FB_TPIP_ADS</span><span class="p">;</span>
    <span class="p">(</span><span class="o">*</span><span class="n">Valves</span><span class="o">*</span><span class="p">)</span>
    <span class="n">DSV_VGC</span><span class="p">:</span> <span class="n">FB_Valve_Interface</span><span class="p">;</span>

    <span class="n">iWatchdog</span><span class="p">:</span><span class="n">UDINT</span><span class="p">;</span><span class="o">//</span><span class="n">The</span> <span class="n">watchdog</span> <span class="n">variable</span> <span class="n">name</span> <span class="n">written</span> <span class="n">to</span> <span class="n">by</span> <span class="n">the</span> <span class="n">remote</span> <span class="n">plc</span>


<span class="p">(</span><span class="o">*</span><span class="n">EM1L0</span><span class="o">*</span><span class="p">)</span>
<span class="p">(</span><span class="o">*</span><span class="n">Gauges</span><span class="o">*</span><span class="p">)</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM1L0:GEM:GCC:10 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_iPRESS_R    :=      TIIB[MKS_E1 (EL3064)]^AI Standard Channel 1^Value;</span>
                                 <span class="o">.</span><span class="n">q_xHV_DIS</span>         <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">MKS_E3</span> <span class="p">(</span><span class="n">EL2794</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">1</span><span class="o">^</span><span class="n">Output</span><span class="s1">&#39;}</span>
    <span class="n">GEM1_GCC_10</span> <span class="p">:</span> <span class="n">FB_MKS422</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM1L0:GEM:GPI:10 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_iPRESS_R    :=      TIIB[MKS_E1 (EL3064)]^AI Standard Channel 4^Value&#39;</span><span class="p">}</span>
    <span class="n">GEM1_GPI_10</span> <span class="p">:</span> <span class="n">FB_MKS317A</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM1L0:GEM:GCC:20 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_iPRESS_R    :=      TIIB[MKS_E1 (EL3064)]^AI Standard Channel 3^Value;</span>
                                 <span class="o">.</span><span class="n">q_xHV_DIS</span>         <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">MKS_E3</span> <span class="p">(</span><span class="n">EL2794</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Output</span><span class="s1">&#39;}</span>
    <span class="n">GEM1_GCC_20</span> <span class="p">:</span> <span class="n">FB_MKS422</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM1L0:GEM:GPI:20 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_iPRESS_R    :=      TIIB[MKS_E2 (EL3064)]^AI Standard Channel 1^Value&#39;</span><span class="p">}</span>
    <span class="n">GEM1_GPI_20</span> <span class="p">:</span> <span class="n">FB_MKS317A</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM1L0:GEM:GCC:30 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_iPRESS_R    :=      TIIB[MKS_E4 (EL3064)]^AI Standard Channel 1^Value;</span>
                                 <span class="o">.</span><span class="n">q_xHV_DIS</span>         <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">MKS_E6</span> <span class="p">(</span><span class="n">EL2794</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">1</span><span class="o">^</span><span class="n">Output</span><span class="s1">&#39;}</span>
    <span class="n">GEM1_GCC_30</span> <span class="p">:</span> <span class="n">FB_MKS422</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM1L0:GEM:GPI:30 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_iPRESS_R    :=      TIIB[MKS_E4 (EL3064)]^AI Standard Channel 4^Value&#39;</span><span class="p">}</span>
    <span class="n">GEM1_GPI_30</span> <span class="p">:</span> <span class="n">FB_MKS317A</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM1L0:GEM:GCC:50 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_iPRESS_R    :=      TIIB[MKS_E4 (EL3064)]^AI Standard Channel 3^Value;</span>
                                 <span class="o">.</span><span class="n">q_xHV_DIS</span>         <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">MKS_E6</span> <span class="p">(</span><span class="n">EL2794</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Output</span><span class="s1">&#39;}</span>
    <span class="n">GEM1_GCC_50</span> <span class="p">:</span> <span class="n">FB_MKS422</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM1L0:GEM:GPI:50 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_iPRESS_R    :=      TIIB[MKS_E5 (EL3064)]^AI Standard Channel 1^Value&#39;</span><span class="p">}</span>
    <span class="n">GEM1_GPI_50</span> <span class="p">:</span> <span class="n">FB_MKS317A</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM1L0:GEM:GPI:11 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_iPRESS_R    :=      TIIB[L0S3_PNL_01_EB_5 (EP3174-0002)]^AI Standard Channel 3^Value&#39;</span><span class="p">}</span>
    <span class="n">GEM1_GPI_11</span> <span class="p">:</span> <span class="n">FB_MKS275</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM1L0:GEM:GPI:31 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_iPRESS_R    :=      TIIB[L0S3_PNL_01_EB_5 (EP3174-0002)]^AI Standard Channel 4^Value&#39;</span><span class="p">}</span>
    <span class="n">GEM1_GPI_31</span> <span class="p">:</span> <span class="n">FB_MKS275</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM1L0:GEM:GPI:51 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_iPRESS_R    :=      TIIB[L0S3_PNL_03_EB_4 (EP3174-0002)]^AI Standard Channel 3^Value&#39;</span><span class="p">}</span>
    <span class="n">GEM1_GPI_51</span> <span class="p">:</span> <span class="n">FB_MKS275</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM1L0:GEM:GPI:60 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_iPRESS_R    :=      TIIB[MKS_E14 (EL3064)]^AI Standard Channel 1^Value&#39;</span><span class="p">}</span>
    <span class="n">GEM1_GPI_60</span> <span class="p">:</span> <span class="n">FB_MKS317A</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM1L0:GEM:GPI:61 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_iPRESS_R    :=      TIIB[L0S3_PNL_03_EB_5 (EP3174-0002)]^AI Standard Channel 2^Value&#39;</span><span class="p">}</span>
    <span class="n">GEM1_GPI_61</span> <span class="p">:</span> <span class="n">FB_MKS275</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM1L0:GEM:GPI:71 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_iPRESS_R    :=      TIIB[L0S3_PNL_03_EB_5 (EP3174-0002)]^AI Standard Channel 3^Value&#39;</span><span class="p">}</span>
    <span class="n">GEM1_GPI_71</span> <span class="p">:</span> <span class="n">FB_MKS275</span><span class="p">;</span>

<span class="p">(</span><span class="o">*</span><span class="n">detector</span><span class="o">*</span><span class="p">)</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM1L0:GEM:GCM:41 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_iPRESS_R    :=      TIIB[L0S3_PNL_02_EB_4 (EP3174-0002)]^AI Standard Channel 1^Value&#39;</span><span class="p">}</span>
    <span class="n">GEM1_GCM_41</span> <span class="p">:</span> <span class="n">FB_GCM</span><span class="p">;</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM1L0:GEM:GCM:42 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_iPRESS_R    :=      TIIB[L0S3_PNL_02_EB_4 (EP3174-0002)]^AI Standard Channel 2^Value&#39;</span><span class="p">}</span>
    <span class="n">GEM1_GCM_42</span> <span class="p">:</span> <span class="n">FB_GCM</span><span class="p">;</span>
    <span class="p">(</span><span class="o">*</span><span class="n">Pseudo</span> <span class="n">gauge</span> <span class="n">device</span> <span class="n">Structure</span> <span class="n">to</span> <span class="n">combine</span> <span class="n">the</span> <span class="n">readings</span> <span class="n">of</span> <span class="n">two</span> <span class="n">GCM</span> <span class="n">gauges</span><span class="o">*</span><span class="p">)</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM1L0:GEM:GCM:40 &#39;</span><span class="p">}</span>
    <span class="n">GEM1_GCM_40</span> <span class="p">:</span> <span class="n">ST_VG</span><span class="p">;</span>
<span class="p">(</span><span class="o">*</span> <span class="n">N2</span> <span class="n">cutt</span> <span class="n">off</span> <span class="n">valve</span> <span class="o">*</span><span class="p">)</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM1L0:GEM:VVC:40&#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.q_xOPN_DO     :=      TIIB[L0S3_PNL_02_EB_2 (EP2338-0002)]^Channel 15^Output&#39;</span><span class="p">}</span>
    <span class="n">GEM1_VVC_40</span><span class="p">:</span> <span class="n">FB_VVC</span><span class="p">;</span>
<span class="p">(</span><span class="o">*</span><span class="n">Pressure</span> <span class="n">Control</span> <span class="n">valve</span><span class="o">*</span><span class="p">)</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM1L0:GEM:VCN:40 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.q_iRawPosition        :=      TIIB[L0S3_PNL_02_EB_3 (EP4374-0002)]^AO Outputs Channel 4^Analog output&#39;</span><span class="p">}</span>
    <span class="n">GEM1_VCN_40</span> <span class="p">:</span> <span class="n">FB_VCN</span><span class="p">;</span>

<span class="p">(</span><span class="o">*</span> <span class="n">aperture</span> <span class="n">valves</span><span class="o">*</span><span class="p">)</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM1L0:GEM:VGC:10 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_xOpnLS      :=      TIIB[L0S3_PNL_01_EB_1 (EP2338-0002)]^Channel 1^Input;</span>
                                 <span class="o">.</span><span class="n">i_xClsLS</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S3_PNL_01_EB_1</span> <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xOPN_DO</span> <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S3_PNL_01_EB_1</span> <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">11</span><span class="o">^</span><span class="n">Output</span><span class="s1">&#39;}</span>
    <span class="n">GEM1_VGC_10</span><span class="p">:</span> <span class="n">FB_VGC</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM1L0:GEM:VGC:20 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_xOpnLS      :=      TIIB[L0S3_PNL_01_EB_2 (EP2338-0002)]^Channel 1^Input;</span>
                                 <span class="o">.</span><span class="n">i_xClsLS</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S3_PNL_01_EB_2</span> <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xOPN_DO</span> <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S3_PNL_01_EB_2</span> <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">11</span><span class="o">^</span><span class="n">Output</span><span class="s1">&#39;}</span>
    <span class="n">GEM1_VGC_20</span><span class="p">:</span> <span class="n">FB_VGC</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM1L0:GEM:VGC:30 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_xOpnLS      :=      TIIB[L0S3_PNL_01_EB_2 (EP2338-0002)]^Channel 5^Input;</span>
                                 <span class="o">.</span><span class="n">i_xClsLS</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S3_PNL_01_EB_2</span> <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">6</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xOPN_DO</span> <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S3_PNL_01_EB_2</span> <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">15</span><span class="o">^</span><span class="n">Output</span><span class="s1">&#39;}</span>
    <span class="n">GEM1_VGC_30</span><span class="p">:</span> <span class="n">FB_VGC</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM1L0:GEM:VGC:40 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_xOpnLS      :=      TIIB[L0S3_PNL_02_EB_1 (EP2338-0002)]^Channel 1^Input;</span>
                                 <span class="o">.</span><span class="n">i_xClsLS</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S3_PNL_02_EB_1</span> <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xOPN_DO</span> <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S3_PNL_02_EB_1</span> <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">11</span><span class="o">^</span><span class="n">Output</span><span class="s1">&#39;}</span>
    <span class="n">GEM1_VGC_40</span><span class="p">:</span> <span class="n">FB_VGC</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM1L0:GEM:VGC:50 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_xOpnLS      :=      TIIB[L0S3_PNL_02_EB_1 (EP2338-0002)]^Channel 5^Input;</span>
                                 <span class="o">.</span><span class="n">i_xClsLS</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S3_PNL_02_EB_1</span> <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">6</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xOPN_DO</span> <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S3_PNL_02_EB_1</span> <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">15</span><span class="o">^</span><span class="n">Output</span><span class="s1">&#39;}</span>
    <span class="n">GEM1_VGC_50</span><span class="p">:</span> <span class="n">FB_VGC</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM1L0:GEM:VGC:60 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_xOpnLS      :=      TIIB[L0S3_PNL_03_EB_1 (EP2338-0002)]^Channel 5^Input;</span>
                                 <span class="o">.</span><span class="n">i_xClsLS</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S3_PNL_03_EB_1</span> <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">6</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xOPN_DO</span> <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S3_PNL_03_EB_1</span> <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">15</span><span class="o">^</span><span class="n">Output</span><span class="s1">&#39;}</span>
    <span class="n">GEM1_VGC_60</span><span class="p">:</span> <span class="n">FB_VGC</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM1L0:GEM:VGC:70 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_xOpnLS      :=      TIIB[L0S3_PNL_03_EB_3 (EP2338-0002)]^Channel 1^Input;</span>
                                 <span class="o">.</span><span class="n">i_xClsLS</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S3_PNL_03_EB_3</span> <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xOPN_DO</span> <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S3_PNL_03_EB_3</span> <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">11</span><span class="o">^</span><span class="n">Output</span><span class="s1">&#39;}</span>
    <span class="n">GEM1_VGC_70</span><span class="p">:</span> <span class="n">FB_VGC</span><span class="p">;</span>

<span class="p">(</span><span class="o">*</span><span class="n">Turbo</span> <span class="n">Isolation</span> <span class="n">valves</span><span class="o">*</span><span class="p">)</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM1L0:GEM:VRC:10 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_xOpnLS      :=      TIIB[L0S3_PNL_01_EB_1 (EP2338-0002)]^Channel 5^Input;</span>
                                 <span class="o">.</span><span class="n">i_xClsLS</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S3_PNL_01_EB_1</span> <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">6</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xOPN_DO</span> <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S3_PNL_01_EB_1</span> <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">15</span><span class="o">^</span><span class="n">Output</span><span class="s1">&#39;}</span>
    <span class="n">GEM1_VRC_10</span><span class="p">:</span> <span class="n">FB_VRC</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM1L0:GEM:VRC:20 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_xOpnLS      :=      TIIB[L0S3_PNL_01_EB_3 (EP2338-0002)]^Channel 5^Input;</span>
                                 <span class="o">.</span><span class="n">i_xClsLS</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S3_PNL_01_EB_3</span> <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">6</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xOPN_DO</span> <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S3_PNL_01_EB_3</span> <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">15</span><span class="o">^</span><span class="n">Output</span><span class="s1">&#39;}</span>
    <span class="n">GEM1_VRC_20</span><span class="p">:</span> <span class="n">FB_VRC</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM1L0:GEM:VRC:30 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_xOpnLS      :=      TIIB[L0S3_PNL_01_EB_4 (EP2338-0002)]^Channel 5^Input;</span>
                                 <span class="o">.</span><span class="n">i_xClsLS</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S3_PNL_01_EB_4</span> <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">6</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xOPN_DO</span> <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S3_PNL_01_EB_4</span> <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">15</span><span class="o">^</span><span class="n">Output</span><span class="s1">&#39;}</span>
    <span class="n">GEM1_VRC_30</span><span class="p">:</span> <span class="n">FB_VRC</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM1L0:GEM:VRC:50 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_xOpnLS      :=      TIIB[L0S3_PNL_03_EB_1 (EP2338-0002)]^Channel 1^Input;</span>
                                 <span class="o">.</span><span class="n">i_xClsLS</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S3_PNL_03_EB_1</span> <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xOPN_DO</span> <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S3_PNL_03_EB_1</span> <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">11</span><span class="o">^</span><span class="n">Output</span><span class="s1">&#39;}</span>
    <span class="n">GEM1_VRC_50</span><span class="p">:</span> <span class="n">FB_VRC</span><span class="p">;</span>

<span class="p">(</span><span class="o">*</span><span class="n">Kashiyama</span> <span class="n">Valves</span><span class="o">*</span><span class="p">)</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM1L0:GEM:VRC:60 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_xOpnLS      :=      TIIB[L0S3_PNL_03_EB_2 (EP2338-0002)]^Channel 5^Input;</span>
                                 <span class="o">.</span><span class="n">i_xClsLS</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S3_PNL_03_EB_2</span> <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">6</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xOPN_DO</span> <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S3_PNL_03_EB_2</span> <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">15</span><span class="o">^</span><span class="n">Output</span><span class="s1">&#39;}</span>
    <span class="n">GEM1_VRC_60</span><span class="p">:</span><span class="n">FB_Kashiyama_VRC</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM1L0:GEM:VRC:70 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_xOpnLS      :=      TIIB[L0S3_PNL_03_EB_3 (EP2338-0002)]^Channel 5^Input;</span>
                                 <span class="o">.</span><span class="n">i_xClsLS</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S3_PNL_03_EB_3</span> <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">6</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xOPN_DO</span> <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S3_PNL_03_EB_3</span> <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">15</span><span class="o">^</span><span class="n">Output</span><span class="s1">&#39;}</span>
    <span class="n">GEM1_VRC_70</span><span class="p">:</span><span class="n">FB_Kashiyama_VRC</span><span class="p">;</span>

<span class="p">(</span><span class="o">*</span><span class="n">Kashiyama</span> <span class="n">pumps</span><span class="o">*</span><span class="p">)</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM1L0:GEM:PRO:60 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_xIsRun      :=      TIIB[L0S3_PNL_03_EB_7 (EP2338-0002)]^Channel 1^Input;</span>
                                 <span class="o">.</span><span class="n">i_xLocal</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S3_PNL_03_EB_7</span> <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xWarning</span> <span class="o">:=</span>     <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S3_PNL_03_EB_7</span> <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">5</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xAlarm</span> <span class="o">:=</span>       <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S3_PNL_03_EB_7</span> <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">6</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xRunDO</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S3_PNL_03_EB_6</span> <span class="p">(</span><span class="n">EP2624</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">1</span><span class="o">^</span><span class="n">Output</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xLspdDo</span> <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S3_PNL_03_EB_6</span> <span class="p">(</span><span class="n">EP2624</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Output</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xResetDo</span><span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S3_PNL_03_EB_6</span> <span class="p">(</span><span class="n">EP2624</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">3</span><span class="o">^</span><span class="n">Output</span><span class="s1">&#39;}</span>
    <span class="n">GEM1_PRO_60</span><span class="p">:</span> <span class="n">FB_KashiyamaPump</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM1L0:GEM:PRO:70 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_xIsRun      :=      TIIB[L0S3_PNL_03_EB_9 (EP2338-0002)]^Channel 1^Input;</span>
                                 <span class="o">.</span><span class="n">i_xLocal</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S3_PNL_03_EB_9</span> <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xWarning</span> <span class="o">:=</span>     <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S3_PNL_03_EB_9</span> <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">5</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xAlarm</span> <span class="o">:=</span>       <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S3_PNL_03_EB_9</span> <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">6</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xRunDO</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S3_PNL_03_EB_8</span> <span class="p">(</span><span class="n">EP2624</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">1</span><span class="o">^</span><span class="n">Output</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xLspdDo</span> <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S3_PNL_03_EB_8</span> <span class="p">(</span><span class="n">EP2624</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Output</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xResetDo</span><span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S3_PNL_03_EB_8</span> <span class="p">(</span><span class="n">EP2624</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">3</span><span class="o">^</span><span class="n">Output</span><span class="s1">&#39;}</span>
    <span class="n">GEM1_PRO_70</span><span class="p">:</span> <span class="n">FB_KashiyamaPump</span><span class="p">;</span>

<span class="p">(</span><span class="o">*</span><span class="n">Turbos</span><span class="o">*</span><span class="p">)</span>
    <span class="p">(</span><span class="o">*</span><span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM1L0:GEM:PTM:10 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_xR1 :=      TIIB[PLC_EL_2 (EL1088)]^Channel 1^Input;</span>
                                 <span class="o">.</span><span class="n">i_xLSpd</span> <span class="o">:=</span>        <span class="n">TIIB</span><span class="p">[</span><span class="n">PLC_EL_2</span> <span class="p">(</span><span class="n">EL1088</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xSTART</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">PLC_EL_2</span> <span class="p">(</span><span class="n">EL1088</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">3</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xFault</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">PLC_EL_2</span> <span class="p">(</span><span class="n">EL1088</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">4</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_iPowerMon</span> <span class="o">:=</span> <span class="n">TIIB</span><span class="p">[</span><span class="n">PLC_EL_4</span> <span class="p">(</span><span class="n">EL3064</span><span class="p">)]</span><span class="o">^</span><span class="n">AI</span> <span class="n">Standard</span> <span class="n">Channel</span> <span class="mi">1</span><span class="o">^</span><span class="n">Value</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_RunDO</span>   <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">PLC_EL_1</span> <span class="p">(</span><span class="n">EL2088</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">1</span><span class="o">^</span><span class="n">Output</span><span class="s1">&#39;}</span>
    <span class="n">GEM1_PTM_10</span> <span class="p">:</span> <span class="n">FB_PTM_Agilent</span><span class="p">;</span><span class="o">*</span><span class="p">)</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM1L0:GEM:PTM:10 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_xAtSpd      :=      TIIB[PTM_E21_EL1088]^Channel 1^Input;</span>
                                 <span class="o">.</span><span class="n">i_xFault</span> <span class="o">:=</span>       <span class="n">TIIB</span><span class="p">[</span><span class="n">PTM_E21_EL1088</span><span class="p">]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_RunDO</span>   <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">PTM_E20_EL2624</span><span class="p">]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">1</span><span class="o">^</span><span class="n">Output</span><span class="s1">&#39;}</span>
    <span class="n">GEM1_PTM_10</span> <span class="p">:</span> <span class="n">FB_PTM_TwisTorr</span><span class="p">;</span>
    <span class="p">(</span><span class="o">*</span><span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM1L0:GEM:PTM:20 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_xR1 :=      TIIB[PLC_EL_2 (EL1088)]^Channel 5^Input;</span>
                                 <span class="o">.</span><span class="n">i_xLSpd</span> <span class="o">:=</span>        <span class="n">TIIB</span><span class="p">[</span><span class="n">PLC_EL_2</span> <span class="p">(</span><span class="n">EL1088</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">6</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xSTART</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">PLC_EL_2</span> <span class="p">(</span><span class="n">EL1088</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">7</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xFault</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">PLC_EL_2</span> <span class="p">(</span><span class="n">EL1088</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">8</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_iPowerMon</span> <span class="o">:=</span> <span class="n">TIIB</span><span class="p">[</span><span class="n">PLC_EL_4</span> <span class="p">(</span><span class="n">EL3064</span><span class="p">)]</span><span class="o">^</span><span class="n">AI</span> <span class="n">Standard</span> <span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Value</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_RunDO</span>   <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">PLC_EL_1</span> <span class="p">(</span><span class="n">EL2088</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Output</span><span class="s1">&#39;}</span>
    <span class="n">GEM1_PTM_20</span> <span class="p">:</span> <span class="n">FB_PTM_Agilent</span><span class="p">;</span><span class="o">*</span><span class="p">)</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM1L0:GEM:PTM:20 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_xAtSpd      :=      TIIB[PTM_E21_EL1088]^Channel 3^Input;</span>
                                 <span class="o">.</span><span class="n">i_xFault</span> <span class="o">:=</span>       <span class="n">TIIB</span><span class="p">[</span><span class="n">PTM_E21_EL1088</span><span class="p">]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">4</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_RunDO</span>   <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">PTM_E20_EL2624</span><span class="p">]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Output</span><span class="s1">&#39;}</span>
    <span class="n">GEM1_PTM_20</span> <span class="p">:</span> <span class="n">FB_PTM_TwisTorr</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM1L0:GEM:PTM:30 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_xDecel      :=      TIIB[PTM_E1_EL1004]^Channel 1^Input;</span>
                                 <span class="o">.</span><span class="n">i_xAtSpd</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">PTM_E1_EL1004</span><span class="p">]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xNCFault</span> <span class="o">:=</span>     <span class="n">TIIB</span><span class="p">[</span><span class="n">PTM_E1_EL1004</span><span class="p">]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">3</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xRotate</span> <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">PTM_E1_EL1004</span><span class="p">]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">4</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xAccel</span> <span class="o">:=</span>       <span class="n">TIIB</span><span class="p">[</span><span class="n">PTM_E2_EL1004</span><span class="p">]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">1</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_iRawSpeed</span> <span class="o">:=</span> <span class="n">TIIB</span><span class="p">[</span><span class="n">PTM_E4_EL3064</span><span class="p">]</span><span class="o">^</span><span class="n">AI</span> <span class="n">Standard</span> <span class="n">Channel</span> <span class="mi">1</span><span class="o">^</span><span class="n">Value</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_iCurrentMon</span> <span class="o">:=</span> <span class="n">TIIB</span><span class="p">[</span><span class="n">PTM_E4_EL3064</span><span class="p">]</span><span class="o">^</span><span class="n">AI</span> <span class="n">Standard</span> <span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Value</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_iTempMon</span> <span class="o">:=</span> <span class="n">TIIB</span><span class="p">[</span><span class="n">PTM_E4_EL3064</span><span class="p">]</span><span class="o">^</span><span class="n">AI</span> <span class="n">Standard</span> <span class="n">Channel</span> <span class="mi">3</span><span class="o">^</span><span class="n">Value</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xReset</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">PTM_E3_EL2798</span><span class="p">]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">1</span><span class="o">^</span><span class="n">Output</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xStart</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">PTM_E3_EL2798</span><span class="p">]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Output</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xStop</span>   <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">PTM_E3_EL2798</span><span class="p">]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">3</span><span class="o">^</span><span class="n">Output</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xProtection</span>     <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">PTM_E3_EL2798</span><span class="p">]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">4</span><span class="o">^</span><span class="n">Output</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xSetSpeed</span>       <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">PTM_E3_EL2798</span><span class="p">]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">5</span><span class="o">^</span><span class="n">Output</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_iSpeedSet</span>       <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">PTM_E5_EL4004</span><span class="p">]</span><span class="o">^</span><span class="n">AO</span> <span class="n">Outputs</span> <span class="n">Channel</span> <span class="mi">1</span><span class="o">^</span><span class="n">Analog</span> <span class="n">output</span><span class="s1">&#39;}</span>
    <span class="n">GEM1_PTM_30</span> <span class="p">:</span> <span class="n">FB_PTM_Ebara_010M</span><span class="p">;</span>
    <span class="p">(</span><span class="o">*</span><span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM1L0:GEM:PTM:50 &#39;</span><span class="p">}</span> <span class="n">REMOVE</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_xR1 :=      TIIB[PLC_EL_3 (EL1088)]^Channel 5^Input;</span>
                                 <span class="o">.</span><span class="n">i_xLSpd</span> <span class="o">:=</span>        <span class="n">TIIB</span><span class="p">[</span><span class="n">PLC_EL_3</span> <span class="p">(</span><span class="n">EL1088</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">6</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xSTART</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">PLC_EL_3</span> <span class="p">(</span><span class="n">EL1088</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">7</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xFault</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">PLC_EL_3</span> <span class="p">(</span><span class="n">EL1088</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">8</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_iCurrentMon</span> <span class="o">:=</span> <span class="n">TIIB</span><span class="p">[</span><span class="n">PLC_EL_4</span> <span class="p">(</span><span class="n">EL3064</span><span class="p">)]</span><span class="o">^</span><span class="n">AI</span> <span class="n">Standard</span> <span class="n">Channel</span> <span class="mi">4</span><span class="o">^</span><span class="n">Value</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_RunDO</span>   <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">PLC_EL_1</span> <span class="p">(</span><span class="n">EL2088</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">4</span><span class="o">^</span><span class="n">Output</span><span class="s1">&#39;}</span>
    <span class="n">GEM1_PTM_50</span> <span class="p">:</span> <span class="n">FB_PTM_Agilent</span><span class="p">;</span><span class="o">*</span><span class="p">)</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM1L0:GEM:PTM:50 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_xDecel      :=      TIIB[PTM_E8_EL1004]^Channel 1^Input;</span>
                                 <span class="o">.</span><span class="n">i_xAtSpd</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">PTM_E8_EL1004</span><span class="p">]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xNCFault</span> <span class="o">:=</span>     <span class="n">TIIB</span><span class="p">[</span><span class="n">PTM_E8_EL1004</span><span class="p">]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">3</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xRotate</span> <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">PTM_E8_EL1004</span><span class="p">]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">4</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xAccel</span> <span class="o">:=</span>       <span class="n">TIIB</span><span class="p">[</span><span class="n">PTM_E9_EL1004</span><span class="p">]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">1</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_iRawSpeed</span> <span class="o">:=</span> <span class="n">TIIB</span><span class="p">[</span><span class="n">PTM_E6_EL3064</span><span class="p">]</span><span class="o">^</span><span class="n">AI</span> <span class="n">Standard</span> <span class="n">Channel</span> <span class="mi">1</span><span class="o">^</span><span class="n">Value</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_iCurrentMon</span> <span class="o">:=</span> <span class="n">TIIB</span><span class="p">[</span><span class="n">PTM_E6_EL3064</span><span class="p">]</span><span class="o">^</span><span class="n">AI</span> <span class="n">Standard</span> <span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Value</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_iTempMon</span> <span class="o">:=</span> <span class="n">TIIB</span><span class="p">[</span><span class="n">PTM_E6_EL3064</span><span class="p">]</span><span class="o">^</span><span class="n">AI</span> <span class="n">Standard</span> <span class="n">Channel</span> <span class="mi">3</span><span class="o">^</span><span class="n">Value</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xReset</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">PTM_E7_EL2798</span><span class="p">]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">1</span><span class="o">^</span><span class="n">Output</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xStart</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">PTM_E7_EL2798</span><span class="p">]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Output</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xStop</span>   <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">PTM_E7_EL2798</span><span class="p">]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">3</span><span class="o">^</span><span class="n">Output</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xProtection</span>     <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">PTM_E7_EL2798</span><span class="p">]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">4</span><span class="o">^</span><span class="n">Output</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xSetSpeed</span>       <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">PTM_E7_EL2798</span><span class="p">]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">5</span><span class="o">^</span><span class="n">Output</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_iSpeedSet</span>       <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">PTM_E5_EL4004</span><span class="p">]</span><span class="o">^</span><span class="n">AO</span> <span class="n">Outputs</span> <span class="n">Channel</span> <span class="mi">3</span><span class="o">^</span><span class="n">Analog</span> <span class="n">output</span><span class="s1">&#39;}</span>
    <span class="n">GEM1_PTM_50</span> <span class="p">:</span> <span class="n">FB_PTM_Ebara_010M</span><span class="p">;</span>


<span class="p">(</span><span class="o">*</span><span class="n">Turbo</span> <span class="n">vent</span> <span class="n">valves</span><span class="o">*</span><span class="p">)</span> <span class="p">(</span><span class="o">*</span><span class="n">deprecated</span><span class="o">*</span><span class="p">)</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM1L0:GEM:VVC:20 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.q_xCLS_DO     :=      TIIB[L0S3_PNL_01_EB_3 (EP2338-0002)]^Channel 11^Output&#39;</span><span class="p">}</span>
    <span class="n">GEM1_VVC_20</span><span class="p">:</span> <span class="n">FB_TurbVentvalve_NO</span><span class="p">;</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM1L0:GEM:VVC:30 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.q_xCLS_DO     :=      TIIB[L0S3_PNL_01_EB_4 (EP2338-0002)]^Channel 11^Output&#39;</span><span class="p">}</span>
    <span class="n">GEM1_VVC_30</span><span class="p">:</span> <span class="n">FB_TurbVentvalve_NO</span><span class="p">;</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM1L0:GEM:VVC:50 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.q_xCLS_DO     :=      TIIB[L0S3_PNL_03_EB_2 (EP2338-0002)]^Channel 11^Output&#39;</span><span class="p">}</span>
    <span class="n">GEM1_VVC_50</span><span class="p">:</span> <span class="n">FB_TurbVentvalve_NO</span><span class="p">;</span>

<span class="p">(</span><span class="o">*</span><span class="n">Scroll</span> <span class="n">Pumps</span><span class="o">*</span><span class="p">)</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM1L0:GEM:PRO:20 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.q_xRunDo      :=      TIIB[L0S3_PNL_03_EB_7 (EP2338-0002)]^Channel 11^Output&#39;</span><span class="p">}</span>
    <span class="n">GEM1_PRO_20</span> <span class="p">:</span> <span class="n">FB_ScrollPump</span><span class="p">;</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM1L0:GEM:PRO:30 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.q_xRunDo      :=      TIIB[L0S3_PNL_03_EB_7 (EP2338-0002)]^Channel 12^Output&#39;</span><span class="p">}</span>
    <span class="n">GEM1_PRO_30</span> <span class="p">:</span> <span class="n">FB_ScrollPump</span><span class="p">;</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM1L0:GEM:PRO:50 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.q_xRunDo      :=      TIIB[L0S3_PNL_03_EB_7 (EP2338-0002)]^Channel 15^Output&#39;</span><span class="p">}</span>
    <span class="n">GEM1_PRO_50</span> <span class="p">:</span> <span class="n">FB_ScrollPump</span><span class="p">;</span>

<span class="p">(</span><span class="o">******************</span><span class="p">)</span>
<span class="p">(</span><span class="o">******</span><span class="n">AT1L0</span><span class="o">*******</span><span class="p">)</span>
<span class="p">(</span><span class="o">******************</span><span class="p">)</span>
<span class="p">(</span><span class="o">*</span><span class="n">Gauges</span><span class="o">*</span><span class="p">)</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: AT1L0:GAS:GPI:10 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_iPRESS_R    :=      TIIB[MKS_E7 (EL3064)]^AI Standard Channel 2^Value&#39;</span><span class="p">}</span>
    <span class="n">GATT_GPI_10</span> <span class="p">:</span> <span class="n">FB_MKS317A</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: AT1L0:GAS:GCM:11 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_iPRESS_R    :=      TIIB[L0S6_PNL_04_EB_3 (EP4374-0002)]^AI Inputs Channel 1^Value&#39;</span><span class="p">}</span>
    <span class="n">GATT_GMP_11</span> <span class="p">:</span> <span class="n">FB_CMR362</span><span class="p">;</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: AT1L0:GAS:GCM:10 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_iPRESS_R    :=      TIIB[L0S6_PNL_04_EB_2 (EP3174-0002)]^AI Standard Channel 2^Value&#39;</span><span class="p">}</span>
    <span class="n">GATT_GMP_10</span> <span class="p">:</span> <span class="n">FB_GCM</span><span class="p">;</span>
<span class="p">(</span><span class="o">*</span><span class="n">Valves</span><span class="o">*</span><span class="p">)</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: AT1L0:GAS:VCN:10 &#39;</span><span class="p">}</span>
    <span class="n">GATT_VCN_10</span> <span class="p">:</span> <span class="n">FB_VCN</span><span class="p">;</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: AT1L0:GAS:VRC:10 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_xOpnLS      :=      TIIB[L0S6_PNL_04_EB_1 (EP2338-0002)]^Channel 1^Input;</span>
                                 <span class="o">.</span><span class="n">i_xClsLS</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S6_PNL_04_EB_1</span> <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xOPN_DO</span> <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S6_PNL_04_EB_1</span> <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">11</span><span class="o">^</span><span class="n">Output</span><span class="s1">&#39;}</span>
    <span class="n">GATT_VRC_10</span> <span class="p">:</span> <span class="n">FB_VRC</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: AT1L0:GAS:VVC:10 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.q_xOPN_DO     :=      TIIB[L0S6_PNL_04_EB_1 (EP2338-0002)]^Channel 15^Output&#39;</span><span class="p">}</span>
    <span class="n">GATT_VVC_10</span><span class="p">:</span> <span class="n">FB_VVC</span><span class="p">;</span>



<span class="p">(</span><span class="o">******************</span><span class="p">)</span>
<span class="p">(</span><span class="o">******</span><span class="n">EM2L0</span><span class="o">*******</span><span class="p">)</span>
<span class="p">(</span><span class="o">******************</span><span class="p">)</span>

<span class="p">(</span><span class="o">*</span><span class="n">Gauges</span><span class="o">*</span><span class="p">)</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM2L0:GEM:GPI:10 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_iPRESS_R    :=      TIIB[MKS_E7 (EL3064)]^AI Standard Channel 4^Value&#39;</span><span class="p">}</span>
    <span class="n">GEM2_GPI_10</span> <span class="p">:</span> <span class="n">FB_MKS317A</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM2L0:GEM:GPI:11 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_iPRESS_R    :=      TIIB[L0S6_PNL_01_EB_4 (EP3174-0002)]^AI Standard Channel 2^Value&#39;</span><span class="p">}</span>
    <span class="n">GEM2_GPI_11</span> <span class="p">:</span> <span class="n">FB_MKS275</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM2L0:GEM:GPI:21 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_iPRESS_R    :=      TIIB[L0S6_PNL_01_EB_4 (EP3174-0002)]^AI Standard Channel 3^Value&#39;</span><span class="p">}</span>
    <span class="n">GEM2_GPI_21</span> <span class="p">:</span> <span class="n">FB_MKS275</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM2L0:GEM:GCC:30 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_iPRESS_R    :=      TIIB[MKS_E7 (EL3064)]^AI Standard Channel 1^Value;</span>
                                 <span class="o">.</span><span class="n">q_xHV_DIS</span>         <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">MKS_E9</span> <span class="p">(</span><span class="n">EL2794</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">1</span><span class="o">^</span><span class="n">Output</span><span class="s1">&#39;}</span>
    <span class="n">GEM2_GCC_30</span> <span class="p">:</span> <span class="n">FB_MKS422</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM2L0:GEM:GPI:30 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_iPRESS_R    :=      TIIB[MKS_E7 (EL3064)]^AI Standard Channel 3^Value&#39;</span><span class="p">}</span>
    <span class="n">GEM2_GPI_30</span> <span class="p">:</span> <span class="n">FB_MKS317A</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM2L0:GEM:GPI:31 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_iPRESS_R    :=      TIIB[L0S6_PNL_01_EB_4 (EP3174-0002)]^AI Standard Channel 4^Value&#39;</span><span class="p">}</span>
    <span class="n">GEM2_GPI_31</span> <span class="p">:</span> <span class="n">FB_MKS275</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM2L0:GEM:GCC:50 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_iPRESS_R    :=      TIIB[MKS_E10 (EL3064)]^AI Standard Channel 1^Value;</span>
                                 <span class="o">.</span><span class="n">q_xHV_DIS</span>         <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">MKS_E12</span> <span class="p">(</span><span class="n">EL2794</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">1</span><span class="o">^</span><span class="n">Output</span><span class="s1">&#39;}</span>
    <span class="n">GEM2_GCC_50</span> <span class="p">:</span> <span class="n">FB_MKS422</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM2L0:GEM:GPI:50 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_iPRESS_R    :=      TIIB[MKS_E10 (EL3064)]^AI Standard Channel 4^Value&#39;</span><span class="p">}</span>
    <span class="n">GEM2_GPI_50</span> <span class="p">:</span> <span class="n">FB_MKS317</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM2L0:GEM:GPI:51 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_iPRESS_R    :=      TIIB[L0S6_PNL_03_EB_6 (EP3174-0002)]^AI Standard Channel 2^Value&#39;</span><span class="p">}</span>
    <span class="n">GEM2_GPI_51</span> <span class="p">:</span> <span class="n">FB_MKS275</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM2L0:GEM:GCC:60 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_iPRESS_R    :=      TIIB[MKS_E10 (EL3064)]^AI Standard Channel 3^Value;</span>
                                 <span class="o">.</span><span class="n">q_xHV_DIS</span>         <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">MKS_E12</span> <span class="p">(</span><span class="n">EL2794</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Output</span><span class="s1">&#39;}</span>
    <span class="n">GEM2_GCC_60</span> <span class="p">:</span> <span class="n">FB_MKS422</span><span class="p">;</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM2L0:GEM:GPI:60 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_iPRESS_R    :=      TIIB[MKS_E11 (EL3064)]^AI Standard Channel 1^Value&#39;</span><span class="p">}</span>
    <span class="n">GEM2_GPI_60</span> <span class="p">:</span> <span class="n">FB_MKS317A</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM2L0:GEM:GPI:61 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_iPRESS_R    :=      TIIB[L0S6_PNL_03_EB_6 (EP3174-0002)]^AI Standard Channel 1^Value&#39;</span><span class="p">}</span>
    <span class="n">GEM2_GPI_61</span> <span class="p">:</span> <span class="n">FB_MKS275</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM2L0:GEM:GCC:70 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_iPRESS_R    :=      TIIB[MKS_E13 (EL3064)]^AI Standard Channel 1^Value;</span>
                                 <span class="o">.</span><span class="n">q_xHV_DIS</span>         <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">MKS_E15</span> <span class="p">(</span><span class="n">EL2794</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">1</span><span class="o">^</span><span class="n">Output</span><span class="s1">&#39;}</span>
    <span class="n">GEM2_GCC_70</span> <span class="p">:</span> <span class="n">FB_MKS422</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM2L0:GEM:GPI:70 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_iPRESS_R    :=      TIIB[MKS_E13 (EL3064)]^AI Standard Channel 4^Value&#39;</span><span class="p">}</span>
    <span class="n">GEM2_GPI_70</span> <span class="p">:</span> <span class="n">FB_MKS317A</span><span class="p">;</span>

<span class="p">(</span><span class="o">*</span> <span class="n">GAS</span> <span class="n">Cell</span> <span class="n">CM</span><span class="o">*</span><span class="p">)</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM2L0:GEM:GCM:41 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_iPRESS_R    :=      TIIB[L0S6_PNL_02_EB_4 (EP3174-0002)]^AI Standard Channel 1^Value&#39;</span><span class="p">}</span>
    <span class="n">GEM2_GCM_41</span> <span class="p">:</span> <span class="n">FB_GCM</span><span class="p">;</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM2L0:GEM:GCM:42 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_iPRESS_R    :=      TIIB[L0S6_PNL_02_EB_4 (EP3174-0002)]^AI Standard Channel 2^Value&#39;</span><span class="p">}</span>
    <span class="n">GEM2_GCM_42</span> <span class="p">:</span> <span class="n">FB_GCM</span><span class="p">;</span>
    <span class="p">(</span><span class="o">*</span><span class="n">Pseudo</span> <span class="n">gauge</span> <span class="n">device</span> <span class="n">Structure</span> <span class="n">to</span> <span class="n">combine</span> <span class="n">the</span> <span class="n">readings</span> <span class="n">of</span> <span class="n">two</span> <span class="n">GCM</span> <span class="n">gauges</span><span class="o">*</span><span class="p">)</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM2L0:GEM:GCM:40 &#39;</span><span class="p">}</span>
    <span class="n">GEM2_GCM_40</span> <span class="p">:</span> <span class="n">ST_VG</span><span class="p">;</span>

<span class="p">(</span><span class="o">*</span><span class="n">valves</span><span class="o">*</span><span class="p">)</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM2L0:GEM:VGC:10 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_xOpnLS      :=      TIIB[L0S6_PNL_01_EB_1 (EP2338-0002)]^Channel 1^Input;</span>
                                 <span class="o">.</span><span class="n">i_xClsLS</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S6_PNL_01_EB_1</span> <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xOPN_DO</span> <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S6_PNL_01_EB_1</span> <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">11</span><span class="o">^</span><span class="n">Output</span><span class="s1">&#39;}</span>
    <span class="n">GEM2_VGC_10</span><span class="p">:</span> <span class="n">FB_VGC</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM2L0:GEM:VGC:20&#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_xOpnLS      :=      TIIB[L0S6_PNL_01_EB_1 (EP2338-0002)]^Channel 5^Input;</span>
                                 <span class="o">.</span><span class="n">i_xClsLS</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S6_PNL_01_EB_1</span> <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">6</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xOPN_DO</span> <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S6_PNL_01_EB_1</span> <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">15</span><span class="o">^</span><span class="n">Output</span><span class="s1">&#39;}</span>
    <span class="n">GEM2_VGC_20</span><span class="p">:</span> <span class="n">FB_VGC</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM2L0:GEM:VGC:30 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_xOpnLS      :=      TIIB[L0S6_PNL_02_EB_1 (EP2338-0002)]^Channel 1^Input;</span>
                                 <span class="o">.</span><span class="n">i_xClsLS</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S6_PNL_02_EB_1</span> <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xOPN_DO</span> <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S6_PNL_02_EB_1</span> <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">11</span><span class="o">^</span><span class="n">Output</span><span class="s1">&#39;}</span>
    <span class="n">GEM2_VGC_30</span><span class="p">:</span> <span class="n">FB_VGC</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM2L0:GEM:VGC:40 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_xOpnLS      :=      TIIB[L0S6_PNL_02_EB_1 (EP2338-0002)]^Channel 5^Input;</span>
                                 <span class="o">.</span><span class="n">i_xClsLS</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S6_PNL_02_EB_1</span> <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">6</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xOPN_DO</span> <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S6_PNL_02_EB_1</span> <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">15</span><span class="o">^</span><span class="n">Output</span><span class="s1">&#39;}</span>
    <span class="n">GEM2_VGC_40</span><span class="p">:</span> <span class="n">FB_VGC</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM2L0:GEM:VGC:50 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_xOpnLS      :=      TIIB[L0S6_PNL_03_EB_1 (EP2338-0002)]^Channel 1^Input;</span>
                                 <span class="o">.</span><span class="n">i_xClsLS</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S6_PNL_03_EB_1</span> <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xOPN_DO</span> <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S6_PNL_03_EB_1</span> <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">11</span><span class="o">^</span><span class="n">Output</span><span class="s1">&#39;}</span>
    <span class="n">GEM2_VGC_50</span><span class="p">:</span> <span class="n">FB_VGC</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM2L0:GEM:VGC:60 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_xOpnLS      :=      TIIB[L0S6_PNL_03_EB_3 (EP2338-0002)]^Channel 1^Input;</span>
                                 <span class="o">.</span><span class="n">i_xClsLS</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S6_PNL_03_EB_3</span> <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xOPN_DO</span> <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S6_PNL_03_EB_3</span> <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">11</span><span class="o">^</span><span class="n">Output</span><span class="s1">&#39;}</span>
    <span class="n">GEM2_VGC_60</span><span class="p">:</span> <span class="n">FB_VGC</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM2L0:GEM:VGC:70 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_xOpnLS      :=      TIIB[L0S6_PNL_03_EB_3 (EP2338-0002)]^Channel 5^Input;</span>
                                 <span class="o">.</span><span class="n">i_xClsLS</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S6_PNL_03_EB_3</span> <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">6</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xOPN_DO</span> <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S6_PNL_03_EB_3</span> <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">15</span><span class="o">^</span><span class="n">Output</span><span class="s1">&#39;}</span>
    <span class="n">GEM2_VGC_70</span><span class="p">:</span> <span class="n">FB_VGC</span><span class="p">;</span>

<span class="p">(</span><span class="o">*</span><span class="n">Turbo</span> <span class="n">isolation</span> <span class="n">valves</span><span class="o">*</span><span class="p">)</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM2L0:GEM:VRC:30 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_xOpnLS      :=      TIIB[L0S6_PNL_01_EB_3 (EP2338-0002)]^Channel 1^Input;</span>
                                 <span class="o">.</span><span class="n">i_xClsLS</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S6_PNL_01_EB_3</span> <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xOPN_DO</span> <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S6_PNL_01_EB_3</span> <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">11</span><span class="o">^</span><span class="n">Output</span><span class="s1">&#39;}</span>
    <span class="n">GEM2_VRC_30</span><span class="p">:</span> <span class="n">FB_VRC</span><span class="p">;</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM2L0:GEM:VRC:50 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_xOpnLS      :=      TIIB[L0S6_PNL_03_EB_1 (EP2338-0002)]^Channel 5^Input;</span>
                                 <span class="o">.</span><span class="n">i_xClsLS</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S6_PNL_03_EB_1</span> <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">6</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xOPN_DO</span> <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S6_PNL_03_EB_1</span> <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">15</span><span class="o">^</span><span class="n">Output</span><span class="s1">&#39;}</span>
    <span class="n">GEM2_VRC_50</span><span class="p">:</span> <span class="n">FB_VRC</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM2L0:GEM:VRC:60 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_xOpnLS      :=      TIIB[L0S6_PNL_03_EB_2 (EP2338-0002)]^Channel 1^Input;</span>
                                 <span class="o">.</span><span class="n">i_xClsLS</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S6_PNL_03_EB_2</span> <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xOPN_DO</span> <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S6_PNL_03_EB_2</span> <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">11</span><span class="o">^</span><span class="n">Output</span><span class="s1">&#39;}</span>
    <span class="n">GEM2_VRC_60</span><span class="p">:</span> <span class="n">FB_VRC</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM2L0:GEM:VRC:70 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_xOpnLS      :=      TIIB[L0S6_PNL_03_EB_2 (EP2338-0002)]^Channel 5^Input;</span>
                                 <span class="o">.</span><span class="n">i_xClsLS</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S6_PNL_03_EB_2</span> <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">6</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xOPN_DO</span> <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S6_PNL_03_EB_2</span> <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">15</span><span class="o">^</span><span class="n">Output</span><span class="s1">&#39;}</span>
    <span class="n">GEM2_VRC_70</span><span class="p">:</span> <span class="n">FB_VRC</span><span class="p">;</span>

<span class="p">(</span><span class="o">*</span><span class="n">Kashiyama</span><span class="o">*</span><span class="p">)</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM2L0:GEM:VRC:10 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_xOpnLS      :=      TIIB[L0S6_PNL_01_EB_2 (EP2338-0002)]^Channel 1^Input;</span>
                                 <span class="o">.</span><span class="n">i_xClsLS</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S6_PNL_01_EB_2</span> <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xOPN_DO</span> <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S6_PNL_01_EB_2</span> <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">11</span><span class="o">^</span><span class="n">Output</span><span class="s1">&#39;}</span>
    <span class="n">GEM2_VRC_10</span><span class="p">:</span><span class="n">FB_Kashiyama_VRC</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM2L0:GEM:VRC:20 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_xOpnLS      :=      TIIB[L0S6_PNL_01_EB_2 (EP2338-0002)]^Channel 5^Input;</span>
                                 <span class="o">.</span><span class="n">i_xClsLS</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S6_PNL_01_EB_2</span> <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">6</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xOPN_DO</span> <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S6_PNL_01_EB_2</span> <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">15</span><span class="o">^</span><span class="n">Output</span><span class="s1">&#39;}</span>
    <span class="n">GEM2_VRC_20</span><span class="p">:</span><span class="n">FB_Kashiyama_VRC</span><span class="p">;</span>

<span class="p">(</span><span class="o">*</span><span class="n">Turbo</span> <span class="n">vent</span> <span class="n">valves</span><span class="o">*</span><span class="p">)</span> <span class="p">(</span><span class="o">*</span><span class="n">deprecated</span><span class="o">*</span><span class="p">)</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM2L0:GEM:VVC:30 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.q_xCLS_DO     :=      TIIB[L0S6_PNL_01_EB_3 (EP2338-0002)]^Channel 15^Output&#39;</span><span class="p">}</span>
    <span class="n">GEM2_VVC_30</span><span class="p">:</span> <span class="n">FB_TurbVentvalve_NO</span><span class="p">;</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM2L0:GEM:VVC:50 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.q_xCLS_DO     :=      TIIB[L0S6_PNL_03_EB_4 (EP2338-0002)]^Channel 15^Output&#39;</span><span class="p">}</span>
    <span class="n">GEM2_VVC_50</span><span class="p">:</span> <span class="n">FB_TurbVentvalve_NO</span><span class="p">;</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM2L0:GEM:VVC:70 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.q_xCLS_DO     :=      TIIB[L0S6_PNL_03_EB_4 (EP2338-0002)]^Channel 16^Output&#39;</span><span class="p">}</span>
    <span class="n">GEM2_VVC_70</span><span class="p">:</span> <span class="n">FB_TurbVentvalve_NO</span><span class="p">;</span>

<span class="p">(</span><span class="o">*</span><span class="n">Gas</span> <span class="n">cell</span> <span class="n">vent</span> <span class="n">valve</span><span class="o">*</span><span class="p">)</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM2L0:GEM:VVC:40 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.q_xOPN_DO     :=      TIIB[L0S6_PNL_02_EB_2 (EP2338-0002)]^Channel 15^Output&#39;</span><span class="p">}</span>
    <span class="n">GEM2_VVC_40</span><span class="p">:</span> <span class="n">FB_VVC</span><span class="p">;</span>
<span class="p">(</span><span class="o">*</span><span class="n">Pressure</span> <span class="n">Control</span> <span class="n">Valve</span><span class="o">*</span><span class="p">)</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM2L0:GEM:VCN:40 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.q_iRawPosition        :=      TIIB[L0S6_PNL_02_EB_3 (EP4374-0002)]^AO Outputs Channel 4^Analog output&#39;</span><span class="p">}</span>
    <span class="n">GEM2_VCN_40</span> <span class="p">:</span> <span class="n">FB_VCN</span><span class="p">;</span>


<span class="p">(</span><span class="o">*</span><span class="n">Pumps</span><span class="o">*</span><span class="p">)</span>
<span class="p">(</span><span class="o">*</span><span class="n">Turbos</span><span class="o">*</span><span class="p">)</span>
<span class="p">(</span><span class="o">*</span><span class="n">REMOVE</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM2L0:GEM:PTM:30 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_xR1 :=      TIIB[PLC_EL_7 (EL1088)]^Channel 1^Input;</span>
                                 <span class="o">.</span><span class="n">i_xLSpd</span> <span class="o">:=</span>        <span class="n">TIIB</span><span class="p">[</span><span class="n">PLC_EL_7</span> <span class="p">(</span><span class="n">EL1088</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xSTART</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">PLC_EL_7</span> <span class="p">(</span><span class="n">EL1088</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">3</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xFault</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">PLC_EL_7</span> <span class="p">(</span><span class="n">EL1088</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">4</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_iCurrentMon</span> <span class="o">:=</span> <span class="n">TIIB</span><span class="p">[</span><span class="n">PLC_EL_5</span> <span class="p">(</span><span class="n">EL3064</span><span class="p">)]</span><span class="o">^</span><span class="n">AI</span> <span class="n">Standard</span> <span class="n">Channel</span> <span class="mi">1</span><span class="o">^</span><span class="n">Value</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_RunDO</span>   <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">PLC_EL_6</span> <span class="p">(</span><span class="n">EL2088</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">1</span><span class="o">^</span><span class="n">Output</span><span class="s1">&#39;}</span>
    <span class="n">GEM2_PTM_30</span> <span class="p">:</span> <span class="n">FB_PTM_Agilent</span><span class="p">;</span>
    <span class="o">*</span><span class="p">)</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM2L0:GEM:PTM:30 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_xDecel      :=      TIIB[PTM_E11_EL1004]^Channel 1^Input;</span>
                                 <span class="o">.</span><span class="n">i_xAtSpd</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">PTM_E11_EL1004</span><span class="p">]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xNCFault</span> <span class="o">:=</span>     <span class="n">TIIB</span><span class="p">[</span><span class="n">PTM_E11_EL1004</span><span class="p">]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">3</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xRotate</span> <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">PTM_E11_EL1004</span><span class="p">]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">4</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xAccel</span> <span class="o">:=</span>       <span class="n">TIIB</span><span class="p">[</span><span class="n">PTM_E12_EL1004</span><span class="p">]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">1</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_iRawSpeed</span> <span class="o">:=</span> <span class="n">TIIB</span><span class="p">[</span><span class="n">PTM_E14_EL3064</span><span class="p">]</span><span class="o">^</span><span class="n">AI</span> <span class="n">Standard</span> <span class="n">Channel</span> <span class="mi">1</span><span class="o">^</span><span class="n">Value</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_iCurrentMon</span> <span class="o">:=</span> <span class="n">TIIB</span><span class="p">[</span><span class="n">PTM_E14_EL3064</span><span class="p">]</span><span class="o">^</span><span class="n">AI</span> <span class="n">Standard</span> <span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Value</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_iTempMon</span> <span class="o">:=</span> <span class="n">TIIB</span><span class="p">[</span><span class="n">PTM_E14_EL3064</span><span class="p">]</span><span class="o">^</span><span class="n">AI</span> <span class="n">Standard</span> <span class="n">Channel</span> <span class="mi">3</span><span class="o">^</span><span class="n">Value</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xReset</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">PTM_E13_EL2798</span><span class="p">]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">1</span><span class="o">^</span><span class="n">Output</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xStart</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">PTM_E13_EL2798</span><span class="p">]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Output</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xStop</span>   <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">PTM_E13_EL2798</span><span class="p">]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">3</span><span class="o">^</span><span class="n">Output</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xProtection</span>     <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">PTM_E13_EL2798</span><span class="p">]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">4</span><span class="o">^</span><span class="n">Output</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xSetSpeed</span>       <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">PTM_E13_EL2798</span><span class="p">]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">5</span><span class="o">^</span><span class="n">Output</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_iSpeedSet</span>       <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">PTM_E15_EL4004</span><span class="p">]</span><span class="o">^</span><span class="n">AO</span> <span class="n">Outputs</span> <span class="n">Channel</span> <span class="mi">1</span><span class="o">^</span><span class="n">Analog</span> <span class="n">output</span><span class="s1">&#39;}</span>
    <span class="n">GEM2_PTM_30</span> <span class="p">:</span> <span class="n">FB_PTM_Ebara_010M</span><span class="p">;</span>
    <span class="p">(</span><span class="o">*</span><span class="n">REMOVE</span><span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM2L0:GEM:PTM:50 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_xR1 :=      TIIB[PLC_EL_7 (EL1088)]^Channel 5^Input;</span>
                                 <span class="o">.</span><span class="n">i_xLSpd</span> <span class="o">:=</span>        <span class="n">TIIB</span><span class="p">[</span><span class="n">PLC_EL_7</span> <span class="p">(</span><span class="n">EL1088</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">6</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xSTART</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">PLC_EL_7</span> <span class="p">(</span><span class="n">EL1088</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">7</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xFault</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">PLC_EL_7</span> <span class="p">(</span><span class="n">EL1088</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">8</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_iCurrentMon</span> <span class="o">:=</span> <span class="n">TIIB</span><span class="p">[</span><span class="n">PLC_EL_5</span> <span class="p">(</span><span class="n">EL3064</span><span class="p">)]</span><span class="o">^</span><span class="n">AI</span> <span class="n">Standard</span> <span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Value</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_RunDO</span>   <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">PLC_EL_6</span> <span class="p">(</span><span class="n">EL2088</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Output</span><span class="s1">&#39;}</span>
    <span class="n">GEM2_PTM_50</span> <span class="p">:</span> <span class="n">FB_PTM_Agilent</span><span class="p">;</span><span class="o">*</span><span class="p">)</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM2L0:GEM:PTM:50 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_xDecel      :=      TIIB[PTM_E18_EL1004]^Channel 1^Input;</span>
                                 <span class="o">.</span><span class="n">i_xAtSpd</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">PTM_E18_EL1004</span><span class="p">]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xNCFault</span> <span class="o">:=</span>     <span class="n">TIIB</span><span class="p">[</span><span class="n">PTM_E18_EL1004</span><span class="p">]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">3</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xRotate</span> <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">PTM_E18_EL1004</span><span class="p">]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">4</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xAccel</span> <span class="o">:=</span>       <span class="n">TIIB</span><span class="p">[</span><span class="n">PTM_E19_EL1004</span><span class="p">]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">1</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_iRawSpeed</span> <span class="o">:=</span> <span class="n">TIIB</span><span class="p">[</span><span class="n">PTM_E16_EL3064</span><span class="p">]</span><span class="o">^</span><span class="n">AI</span> <span class="n">Standard</span> <span class="n">Channel</span> <span class="mi">1</span><span class="o">^</span><span class="n">Value</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_iCurrentMon</span> <span class="o">:=</span> <span class="n">TIIB</span><span class="p">[</span><span class="n">PTM_E16_EL3064</span><span class="p">]</span><span class="o">^</span><span class="n">AI</span> <span class="n">Standard</span> <span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Value</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_iTempMon</span> <span class="o">:=</span> <span class="n">TIIB</span><span class="p">[</span><span class="n">PTM_E16_EL3064</span><span class="p">]</span><span class="o">^</span><span class="n">AI</span> <span class="n">Standard</span> <span class="n">Channel</span> <span class="mi">3</span><span class="o">^</span><span class="n">Value</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xReset</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">PTM_E17_EL2798</span><span class="p">]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">1</span><span class="o">^</span><span class="n">Output</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xStart</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">PTM_E17_EL2798</span><span class="p">]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Output</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xStop</span>   <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">PTM_E17_EL2798</span><span class="p">]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">3</span><span class="o">^</span><span class="n">Output</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xProtection</span>     <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">PTM_E17_EL2798</span><span class="p">]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">4</span><span class="o">^</span><span class="n">Output</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xSetSpeed</span>       <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">PTM_E17_EL2798</span><span class="p">]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">5</span><span class="o">^</span><span class="n">Output</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_iSpeedSet</span>       <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">PTM_E15_EL4004</span><span class="p">]</span><span class="o">^</span><span class="n">AO</span> <span class="n">Outputs</span> <span class="n">Channel</span> <span class="mi">3</span><span class="o">^</span><span class="n">Analog</span> <span class="n">output</span><span class="s1">&#39;}</span>
    <span class="n">GEM2_PTM_50</span> <span class="p">:</span> <span class="n">FB_PTM_Ebara_010M</span><span class="p">;</span>
    <span class="p">(</span><span class="o">*</span><span class="n">REMOVE</span><span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM2L0:GEM:PTM:60 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_xR1 :=      TIIB[PLC_EL_8 (EL1088)]^Channel 1^Input;</span>
                                 <span class="o">.</span><span class="n">i_xLSpd</span> <span class="o">:=</span>        <span class="n">TIIB</span><span class="p">[</span><span class="n">PLC_EL_8</span> <span class="p">(</span><span class="n">EL1088</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xSTART</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">PLC_EL_8</span> <span class="p">(</span><span class="n">EL1088</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">3</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xFault</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">PLC_EL_8</span> <span class="p">(</span><span class="n">EL1088</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">4</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_iPowerMon</span> <span class="o">:=</span> <span class="n">TIIB</span><span class="p">[</span><span class="n">PLC_EL_5</span> <span class="p">(</span><span class="n">EL3064</span><span class="p">)]</span><span class="o">^</span><span class="n">AI</span> <span class="n">Standard</span> <span class="n">Channel</span> <span class="mi">3</span><span class="o">^</span><span class="n">Value</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_RunDO</span>   <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">PLC_EL_6</span> <span class="p">(</span><span class="n">EL2088</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">3</span><span class="o">^</span><span class="n">Output</span><span class="s1">&#39;}</span>
    <span class="n">GEM2_PTM_60</span> <span class="p">:</span> <span class="n">FB_PTM_Agilent</span><span class="p">;</span>
    <span class="o">*</span><span class="p">)</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM2L0:GEM:PTM:60 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_xAtSpd      :=      TIIB[PTM_E21_EL1088]^Channel 5^Input;</span>
                                 <span class="o">.</span><span class="n">i_xFault</span> <span class="o">:=</span>       <span class="n">TIIB</span><span class="p">[</span><span class="n">PTM_E21_EL1088</span><span class="p">]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">6</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_RunDO</span>   <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">PTM_E20_EL2624</span><span class="p">]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">3</span><span class="o">^</span><span class="n">Output</span><span class="s1">&#39;}</span>
    <span class="n">GEM2_PTM_60</span> <span class="p">:</span> <span class="n">FB_PTM_TwisTorr</span><span class="p">;</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM2L0:GEM:PTM:70 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_xAtSpd      :=      TIIB[PTM_E21_EL1088]^Channel 7^Input;</span>
                                 <span class="o">.</span><span class="n">i_xFault</span> <span class="o">:=</span>       <span class="n">TIIB</span><span class="p">[</span><span class="n">PTM_E21_EL1088</span><span class="p">]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">8</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_RunDO</span>   <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">PTM_E20_EL2624</span><span class="p">]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">4</span><span class="o">^</span><span class="n">Output</span><span class="s1">&#39;}</span>
    <span class="n">GEM2_PTM_70</span> <span class="p">:</span> <span class="n">FB_PTM_TwisTorr</span><span class="p">;</span><span class="o">//</span><span class="n">FB_PTM_Agilent</span><span class="p">;</span>




<span class="p">(</span><span class="o">*</span><span class="n">Scroll</span> <span class="n">Pumps</span><span class="o">*</span><span class="p">)</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM2L0:GEM:PRO:30 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.q_xRunDo      :=      TIIB[L0S6_PNL_01_EB_7 (EP2338-0002)]^Channel 11^Output&#39;</span><span class="p">}</span>
    <span class="n">GEM2_PRO_30</span> <span class="p">:</span> <span class="n">FB_ScrollPump</span><span class="p">;</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM2L0:GEM:PRO:50 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.q_xRunDo      :=      TIIB[L0S6_PNL_01_EB_7 (EP2338-0002)]^Channel 12^Output&#39;</span><span class="p">}</span>
    <span class="n">GEM2_PRO_50</span> <span class="p">:</span> <span class="n">FB_ScrollPump</span><span class="p">;</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM2L0:GEM:PRO:60 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.q_xRunDo      :=      TIIB[L0S6_PNL_01_EB_7 (EP2338-0002)]^Channel 15^Output&#39;</span><span class="p">}</span>
    <span class="n">GEM2_PRO_60</span> <span class="p">:</span> <span class="n">FB_ScrollPump</span><span class="p">;</span>
<span class="p">(</span><span class="o">*</span><span class="n">Kashyiama</span> <span class="n">Dry</span> <span class="n">Pumps</span><span class="o">*</span><span class="p">)</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM2L0:GEM:PRO:10 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_xIsRun      :=      TIIB[L0S6_PNL_01_EB_7 (EP2338-0002)]^Channel 1^Input;</span>
                                 <span class="o">.</span><span class="n">i_xLocal</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S6_PNL_01_EB_7</span> <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xWarning</span> <span class="o">:=</span>     <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S6_PNL_01_EB_7</span> <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">5</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xAlarm</span> <span class="o">:=</span>       <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S6_PNL_01_EB_7</span> <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">6</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xRunDO</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S6_PNL_01_EB_6</span> <span class="p">(</span><span class="n">EP2624</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">1</span><span class="o">^</span><span class="n">Output</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xLspdDo</span> <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S6_PNL_01_EB_6</span> <span class="p">(</span><span class="n">EP2624</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Output</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xResetDo</span><span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S6_PNL_01_EB_6</span> <span class="p">(</span><span class="n">EP2624</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">3</span><span class="o">^</span><span class="n">Output</span><span class="s1">&#39;}</span>
    <span class="n">GEM2_PRO_10</span><span class="p">:</span> <span class="n">FB_KashiyamaPump</span><span class="p">;</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM2L0:GEM:PRO:20 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_xIsRun      :=      TIIB[L0S6_PNL_01_EB_9 (EP2338-0002)]^Channel 1^Input;</span>
                                 <span class="o">.</span><span class="n">i_xLocal</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S6_PNL_01_EB_9</span> <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xWarning</span> <span class="o">:=</span>     <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S6_PNL_01_EB_9</span> <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">5</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">i_xAlarm</span> <span class="o">:=</span>       <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S6_PNL_01_EB_9</span> <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">6</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xRunDO</span>  <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S6_PNL_01_EB_8</span> <span class="p">(</span><span class="n">EP2624</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">1</span><span class="o">^</span><span class="n">Output</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xLspdDo</span> <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S6_PNL_01_EB_8</span> <span class="p">(</span><span class="n">EP2624</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Output</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xResetDo</span><span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S6_PNL_01_EB_8</span> <span class="p">(</span><span class="n">EP2624</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">3</span><span class="o">^</span><span class="n">Output</span><span class="s1">&#39;}</span>
    <span class="n">GEM2_PRO_20</span><span class="p">:</span> <span class="n">FB_KashiyamaPump</span><span class="p">;</span>



<span class="p">(</span><span class="o">*************</span><span class="p">)</span>
<span class="p">(</span><span class="o">*</span><span class="n">AT1L0</span><span class="o">-</span><span class="n">SOLID</span><span class="o">*</span><span class="p">)</span>
<span class="p">(</span><span class="o">*************</span><span class="p">)</span>

<span class="p">(</span><span class="o">*</span><span class="n">Pneumatic</span> <span class="n">actuators</span><span class="o">*</span><span class="p">)</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: AT1L0:SOLID:MPA:01 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_xRetractedLS:=      TIIB[L0S6_PNL_04_EB_4 (EP2338-0002)]^Channel 1^Input;</span>
                                 <span class="o">.</span><span class="n">i_xInsertedLS</span>     <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S6_PNL_04_EB_4</span> <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xInsert_DO</span>      <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S6_PNL_04_EB_4</span> <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">11</span><span class="o">^</span><span class="n">Output</span><span class="s1">&#39;}</span>
    <span class="n">SATT_MPA_01</span><span class="p">:</span> <span class="n">FB_MPA</span><span class="p">;</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: AT1L0:SOLID:MPA:02 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_xRetractedLS:=      TIIB[L0S6_PNL_04_EB_4 (EP2338-0002)]^Channel 5^Input;</span>
                                 <span class="o">.</span><span class="n">i_xInsertedLS</span>     <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S6_PNL_04_EB_4</span> <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">6</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xInsert_DO</span>      <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S6_PNL_04_EB_4</span> <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">15</span><span class="o">^</span><span class="n">Output</span><span class="s1">&#39;}</span>
    <span class="n">SATT_MPA_02</span><span class="p">:</span> <span class="n">FB_MPA</span><span class="p">;</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: AT1L0:SOLID:MPA:03 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_xRetractedLS:=      TIIB[L0S6_PNL_04_EB_5 (EP2338-0002)]^Channel 1^Input;</span>
                                 <span class="o">.</span><span class="n">i_xInsertedLS</span>     <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S6_PNL_04_EB_5</span> <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xInsert_DO</span>      <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S6_PNL_04_EB_5</span> <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">11</span><span class="o">^</span><span class="n">Output</span><span class="s1">&#39;}</span>
    <span class="n">SATT_MPA_03</span><span class="p">:</span> <span class="n">FB_MPA</span><span class="p">;</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: AT1L0:SOLID:MPA:04 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_xRetractedLS:=      TIIB[L0S6_PNL_04_EB_5 (EP2338-0002)]^Channel 5^Input;</span>
                                 <span class="o">.</span><span class="n">i_xInsertedLS</span>     <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S6_PNL_04_EB_5</span> <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">6</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xInsert_DO</span>      <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S6_PNL_04_EB_5</span> <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">15</span><span class="o">^</span><span class="n">Output</span><span class="s1">&#39;}</span>
    <span class="n">SATT_MPA_04</span><span class="p">:</span> <span class="n">FB_MPA</span><span class="p">;</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: AT1L0:SOLID:MPA:05 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_xRetractedLS:=      TIIB[L0S6_PNL_04_EB_6 (EP2338-0002)]^Channel 1^Input;</span>
                                 <span class="o">.</span><span class="n">i_xInsertedLS</span>     <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S6_PNL_04_EB_6</span> <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xInsert_DO</span>      <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S6_PNL_04_EB_6</span> <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">11</span><span class="o">^</span><span class="n">Output</span><span class="s1">&#39;}</span>
    <span class="n">SATT_MPA_05</span><span class="p">:</span> <span class="n">FB_MPA</span><span class="p">;</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: AT1L0:SOLID:MPA:06 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_xRetractedLS:=      TIIB[L0S6_PNL_04_EB_6 (EP2338-0002)]^Channel 5^Input;</span>
                                 <span class="o">.</span><span class="n">i_xInsertedLS</span>     <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S6_PNL_04_EB_6</span> <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">6</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xInsert_DO</span>      <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S6_PNL_04_EB_6</span> <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">15</span><span class="o">^</span><span class="n">Output</span><span class="s1">&#39;}</span>
    <span class="n">SATT_MPA_06</span><span class="p">:</span> <span class="n">FB_MPA</span><span class="p">;</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: AT1L0:SOLID:MPA:07 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_xRetractedLS:=      TIIB[L0S6_PNL_04_EB_7 (EP2338-0002)]^Channel 1^Input;</span>
                                 <span class="o">.</span><span class="n">i_xInsertedLS</span>     <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S6_PNL_04_EB_7</span> <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xRetract_DO</span>     <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S6_PNL_04_EB_7</span> <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">11</span><span class="o">^</span><span class="n">Output</span><span class="s1">&#39;}</span>
    <span class="n">SATT_MPA_07</span><span class="p">:</span> <span class="n">FB_MPA</span><span class="p">;</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: AT1L0:SOLID:MPA:08 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_xRetractedLS:=      TIIB[L0S6_PNL_04_EB_7 (EP2338-0002)]^Channel 5^Input;</span>
                                 <span class="o">.</span><span class="n">i_xInsertedLS</span>     <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S6_PNL_04_EB_7</span> <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">6</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xRetract_DO</span>     <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S6_PNL_04_EB_7</span> <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">15</span><span class="o">^</span><span class="n">Output</span><span class="s1">&#39;}</span>
    <span class="n">SATT_MPA_08</span><span class="p">:</span> <span class="n">FB_MPA</span><span class="p">;</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: AT1L0:SOLID:MPA:09 &#39;</span><span class="p">}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span>        <span class="s1">&#39;.i_xRetractedLS:=      TIIB[L0S6_PNL_04_EB_8 (EP2338-0002)]^Channel 1^Input;</span>
                                 <span class="o">.</span><span class="n">i_xInsertedLS</span>     <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S6_PNL_04_EB_8</span> <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">2</span><span class="o">^</span><span class="n">Input</span><span class="p">;</span>
                                 <span class="o">.</span><span class="n">q_xRetract_DO</span>     <span class="o">:=</span>      <span class="n">TIIB</span><span class="p">[</span><span class="n">L0S6_PNL_04_EB_8</span> <span class="p">(</span><span class="n">EP2338</span><span class="o">-</span><span class="mi">0002</span><span class="p">)]</span><span class="o">^</span><span class="n">Channel</span> <span class="mi">11</span><span class="o">^</span><span class="n">Output</span><span class="s1">&#39;}</span>
    <span class="n">SATT_MPA_09</span><span class="p">:</span> <span class="n">FB_MPA</span><span class="p">;</span>


<span class="n">END_VAR</span>
</pre></div>
</div>
<dl class="simple">
<dt>Related:</dt><dd><ul class="simple">
<li><p><a class="reference internal" href="#fb-mpa">FB_MPA</a></p></li>
</ul>
</dd>
</dl>
</section>
<section id="gvl-ilk">
<h2>GVL_ILK<a class="headerlink" href="#gvl-ilk" title="Permalink to this heading"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">VAR_GLOBAL</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span> <span class="s1">&#39;</span>
    <span class="n">pv</span><span class="p">:</span> <span class="n">PLC</span><span class="p">:</span><span class="n">LFE</span><span class="p">:</span><span class="n">GEM</span><span class="p">:</span><span class="n">FFO</span><span class="p">:</span><span class="mi">01</span>
    <span class="s1">&#39;}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span> <span class="s1">&#39;.q_xFastFaultOut:=TIIB[PMPS_FFO]^Channel 1^Output&#39;</span><span class="p">}</span>
    <span class="n">g_FastFaultOutput1</span>  <span class="p">:</span>   <span class="n">FB_HardwareFFOutput</span> <span class="o">:=</span><span class="p">(</span><span class="n">i_sNetID</span><span class="o">:=</span><span class="s1">&#39;172.21.88.66.1.1&#39;</span><span class="p">);</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span> <span class="s1">&#39;</span>
    <span class="n">pv</span><span class="p">:</span> <span class="n">PLC</span><span class="p">:</span><span class="n">LFE</span><span class="p">:</span><span class="n">GEM</span><span class="p">:</span><span class="n">FFO</span><span class="p">:</span><span class="mi">02</span>
    <span class="s1">&#39;}</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;TcLinkTo&#39;</span> <span class="o">:=</span> <span class="s1">&#39;.q_xFastFaultOut:=TIIB[PMPS_FFO]^Channel 2^Output&#39;</span><span class="p">}</span>
    <span class="n">g_FastFaultOutput2</span>  <span class="p">:</span>   <span class="n">FB_HardwareFFOutput</span> <span class="o">:=</span><span class="p">(</span><span class="n">i_sNetID</span><span class="o">:=</span><span class="s1">&#39;172.21.88.66.1.1&#39;</span><span class="p">);</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span> <span class="s1">&#39;pv: EM1L0:GEM:ARB:01&#39;</span><span class="p">}</span>
    <span class="n">g_fbArbiter</span>   <span class="p">:</span>   <span class="n">FB_Arbiter</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span> <span class="s1">&#39;pv: EM1L0:GEM:ARB:02&#39;</span><span class="p">}</span>
    <span class="n">g_fbArbiter2</span>   <span class="p">:</span>   <span class="n">FB_Arbiter</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span> <span class="s1">&#39;pv: EM1L0:GEM:ARB:03&#39;</span><span class="p">}</span>
    <span class="n">g_fbArbiter3</span>   <span class="p">:</span>   <span class="n">FB_Arbiter</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>



    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span> <span class="s1">&#39;pv: EM1L0:GEM:VAC:OVRDON;</span>
    <span class="n">field</span><span class="p">:</span> <span class="n">ZNAM</span> <span class="n">Override</span> <span class="n">OFF</span><span class="p">;</span>
    <span class="n">field</span><span class="p">:</span> <span class="n">ONAM</span> <span class="n">Override</span> <span class="n">ON</span><span class="p">;</span>
     <span class="n">io</span><span class="p">:</span> <span class="n">io</span><span class="p">;</span>
    <span class="s1">&#39;}</span>
    <span class="n">xGEM1OverrideMode</span>       <span class="p">:</span>       <span class="n">BOOL</span><span class="p">;</span> <span class="p">(</span><span class="o">*</span> <span class="n">Global</span> <span class="n">system</span> <span class="n">override</span> <span class="k">for</span> <span class="n">the</span> <span class="n">EM1L0</span><span class="o">*</span><span class="p">)</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span> <span class="s1">&#39;pv: AT1L0:GAS:VAC:OVRDON;</span>
    <span class="n">field</span><span class="p">:</span> <span class="n">ZNAM</span> <span class="n">Override</span> <span class="n">OFF</span><span class="p">;</span>
    <span class="n">field</span><span class="p">:</span> <span class="n">ONAM</span> <span class="n">Override</span> <span class="n">ON</span><span class="p">;</span>
     <span class="n">io</span><span class="p">:</span> <span class="n">io</span><span class="p">;</span>
    <span class="s1">&#39;}</span>
    <span class="n">xGATTOverrideMode</span>       <span class="p">:</span>       <span class="n">BOOL</span><span class="p">;</span> <span class="p">(</span><span class="o">*</span> <span class="n">Global</span> <span class="n">system</span> <span class="n">override</span> <span class="k">for</span> <span class="n">the</span> <span class="n">GATT</span><span class="o">*</span><span class="p">)</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span> <span class="s1">&#39;pv: EM2L0:GEM:VAC:OVRDON;</span>
    <span class="n">field</span><span class="p">:</span> <span class="n">ZNAM</span> <span class="n">Override</span> <span class="n">OFF</span><span class="p">;</span>
    <span class="n">field</span><span class="p">:</span> <span class="n">ONAM</span> <span class="n">Override</span> <span class="n">ON</span><span class="p">;</span>
     <span class="n">io</span><span class="p">:</span> <span class="n">io</span><span class="p">;</span>
    <span class="s1">&#39;}</span>
    <span class="n">xGEM2OverrideMode</span>       <span class="p">:</span>       <span class="n">BOOL</span><span class="p">;</span> <span class="p">(</span><span class="o">*</span> <span class="n">Global</span> <span class="n">system</span> <span class="n">override</span> <span class="k">for</span> <span class="n">the</span> <span class="n">EM2L0</span><span class="o">*</span><span class="p">)</span>


<span class="p">(</span><span class="o">*</span> <span class="n">Interlock</span> <span class="n">related</span> <span class="n">bits</span><span class="p">,</span> <span class="n">local</span> <span class="n">to</span> <span class="n">the</span> <span class="n">PLC</span><span class="o">*</span><span class="p">)</span>
    <span class="n">GEM1_Turbo_Valves_Closed</span><span class="p">:</span>  <span class="n">BOOL</span><span class="p">;</span>
    <span class="n">GEM1_Turbo_Valves_Open</span><span class="p">:</span>  <span class="n">BOOL</span><span class="p">;</span>
    <span class="n">GEM2_Turbo_Valves_Closed</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
    <span class="n">GEM2_Turbo_Valves_Open</span><span class="p">:</span>  <span class="n">BOOL</span><span class="p">;</span>
    <span class="n">GEM1_Turbo_Running</span><span class="p">:</span>  <span class="n">BOOL</span><span class="p">;</span>
    <span class="n">GEM2_Turbo_Running</span><span class="p">:</span>  <span class="n">BOOL</span><span class="p">;</span>
    <span class="n">TwinscrewPumps_Valves_Closed</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
    <span class="n">GEM1_TwinscrewPumps_Valves_Open</span> <span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
    <span class="n">GEM2_TwinscrewPumps_Valves_Open</span> <span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
    <span class="n">GEM1_Aperture_Closed</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
    <span class="n">GEM2_Aperture_Closed</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>

    <span class="n">xGEM1_AperturesOpnOK</span> <span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
    <span class="n">xGEM2_AperturesOpnOK</span> <span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>



<span class="n">END_VAR</span>
</pre></div>
</div>
</section>
<section id="gvl-sensors">
<h2>GVL_Sensors<a class="headerlink" href="#gvl-sensors" title="Permalink to this heading"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">VAR_GLOBAL</span>

<span class="p">(</span><span class="o">*</span><span class="n">Pressure</span> <span class="n">Meter</span><span class="o">*</span><span class="p">)</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM1L0:GEM:AIR:1 &#39;</span><span class="p">}</span>
    <span class="n">GEM1_AIR_1</span> <span class="p">:</span><span class="n">FB_PressureSensor_PX219</span><span class="p">;</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM1L0:GEM:AIR:2 &#39;</span><span class="p">}</span>
    <span class="n">GEM1_AIR_2</span> <span class="p">:</span><span class="n">FB_PressureSensor_PX219</span><span class="p">;</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM2L0:GEM:N2:1 &#39;</span><span class="p">}</span>
    <span class="n">GEM2_N2_1</span> <span class="p">:</span><span class="n">FB_PressureSensor_PX219</span><span class="p">;</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM2L0:GEM:N2:2 &#39;</span><span class="p">}</span>
    <span class="n">GEM2_N2_2</span> <span class="p">:</span><span class="n">FB_PressureSensor_PX219</span><span class="p">;</span>
    <span class="p">(</span><span class="o">*</span><span class="n">Flow</span> <span class="n">Meters</span><span class="o">*</span><span class="p">)</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM1L0:GEM:GFM:41 &#39;</span><span class="p">}</span>
    <span class="n">GEM1_GFM_41</span> <span class="p">:</span><span class="n">FB_PressureSensor_PX219</span><span class="p">;</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM1L0:GEM:GFM:42 &#39;</span><span class="p">}</span>
    <span class="n">GEM1_GFM_42</span> <span class="p">:</span><span class="n">FB_PressureSensor_PX219</span><span class="p">;</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM2L0:GEM:GFM:41 &#39;</span><span class="p">}</span>
    <span class="n">GEM2_GFM_41</span> <span class="p">:</span><span class="n">FB_PressureSensor_PX219</span><span class="p">;</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: EM2L0:GEM:GFM:42 &#39;</span><span class="p">}</span>
    <span class="n">GEM2_GFM_42</span> <span class="p">:</span><span class="n">FB_PressureSensor_PX219</span><span class="p">;</span>

<span class="n">END_VAR</span>
</pre></div>
</div>
<dl class="simple">
<dt>Related:</dt><dd><ul class="simple">
<li><p><a class="reference internal" href="#fb-pressuresensor-px219">FB_PressureSensor_PX219</a></p></li>
</ul>
</dd>
</dl>
</section>
</section>
<section id="pous">
<h1>POUs<a class="headerlink" href="#pous" title="Permalink to this heading"></a></h1>
<section id="diagnostics">
<h2>DIAGNOSTICS<a class="headerlink" href="#diagnostics" title="Permalink to this heading"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PROGRAM</span> <span class="n">DIAGNOSTICS</span>
<span class="n">VAR</span>
    <span class="o">//</span><span class="n">Change</span> <span class="n">the</span> <span class="n">PLC</span> <span class="n">String</span> <span class="n">Name</span> <span class="n">to</span> <span class="n">the</span> <span class="n">actual</span> <span class="n">PLC</span> <span class="n">NAME</span>
    <span class="n">sPLCName</span> <span class="p">:</span><span class="n">STRING</span> <span class="o">:=</span> <span class="s1">&#39;PLC-LFE-GEM&#39;</span><span class="p">;</span>
    <span class="o">//</span><span class="n">Link</span> <span class="n">the</span> <span class="n">sAMSNetID</span> <span class="n">to</span> <span class="n">the</span> <span class="n">Etherat</span> <span class="n">Master</span> <span class="n">netID</span>
    <span class="n">i_sAMSNetID</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">AMSNETID</span><span class="p">;</span>
    <span class="o">//</span> <span class="n">DO</span> <span class="n">NOT</span> <span class="n">CHANGE</span>
    <span class="n">sAMSNetID</span> <span class="p">:</span> <span class="n">STRING</span><span class="p">;</span> <span class="o">//</span><span class="n">used</span> <span class="k">for</span> <span class="n">EPICS</span> <span class="n">PV</span>
    <span class="n">sLibVersion_LCLS_General</span> <span class="p">:</span> <span class="n">STRING</span><span class="p">;(</span><span class="o">*</span> <span class="o">:=</span> <span class="n">stLibVersion_LCLS_General</span><span class="o">.</span><span class="n">sVersion</span><span class="o">*</span><span class="p">)</span> <span class="p">;</span>
    <span class="n">fbEcatDiag</span><span class="p">:</span><span class="n">FB_EcatDiag</span><span class="p">;</span>
    <span class="n">bAllSlaveStateGood</span> <span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
    <span class="n">bMasterStateGood</span> <span class="p">:</span><span class="n">BOOL</span><span class="p">;</span>
    <span class="n">iMasterState</span><span class="p">:</span> <span class="n">WORD</span><span class="p">;</span>
    <span class="n">sMasterState</span><span class="p">:</span><span class="n">STRING</span><span class="p">;</span>
    <span class="n">nSlaveNumber</span> <span class="p">:</span> <span class="n">UINT</span><span class="p">;</span>
    <span class="n">aiSlaveStates</span><span class="p">:</span> <span class="n">ARRAY</span><span class="p">[</span><span class="mf">1..256</span><span class="p">]</span> <span class="n">OF</span> <span class="n">BYTE</span><span class="p">;</span>
    <span class="n">aEcSlaveInfo</span> <span class="p">:</span>  <span class="n">ARRAY</span><span class="p">[</span><span class="mf">1..256</span><span class="p">]</span> <span class="n">OF</span> <span class="n">ST_EcDevice</span><span class="p">;</span>
<span class="n">END_VAR</span>
<span class="o">//</span> <span class="n">Instaniating</span> <span class="n">a</span> <span class="n">call</span> <span class="n">to</span> <span class="n">the</span> <span class="n">fbEcatDiag</span>
<span class="n">fbEcatDiag</span><span class="p">(</span>
    <span class="n">I_AMSNetId</span><span class="o">:=</span><span class="n">i_sAMSNetID</span> <span class="p">,</span>
    <span class="n">i_xFirstPass</span><span class="o">:=</span> <span class="n">_TaskInfo</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">FirstCycle</span><span class="p">,</span>
    <span class="n">q_xAllSlaveStatesGood</span><span class="o">=&gt;</span> <span class="n">bAllSlaveStateGood</span> <span class="p">,</span>
    <span class="n">q_anTermStates</span><span class="o">=&gt;</span> <span class="n">aiSlaveStates</span><span class="p">,</span>
    <span class="n">q_xMasterStateGood</span><span class="o">=&gt;</span><span class="n">bMasterStateGood</span> <span class="p">,</span>
    <span class="n">q_nMasterState</span><span class="o">=&gt;</span> <span class="n">iMasterState</span><span class="p">,</span>
    <span class="n">q_sMasterState</span><span class="o">=&gt;</span> <span class="n">sMasterState</span> <span class="p">,</span>
    <span class="n">q_astEcConfSlaveInfo</span><span class="o">=&gt;</span> <span class="n">aEcSlaveInfo</span> <span class="p">,</span>
    <span class="n">q_nSlaves</span><span class="o">=&gt;</span> <span class="n">nSlaveNumber</span><span class="p">);</span>

<span class="n">END_PROGRAM</span>
</pre></div>
</div>
</section>
<section id="fb-mpa">
<h2>FB_MPA<a class="headerlink" href="#fb-mpa" title="Permalink to this heading"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">FUNCTION_BLOCK</span> <span class="n">FB_MPA</span>
<span class="n">VAR_INPUT</span>
    <span class="p">(</span><span class="o">*</span><span class="n">EPS</span> <span class="n">Interlock</span> <span class="n">Bits</span><span class="o">*</span><span class="p">)</span>
    <span class="n">ibInsertOK</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
    <span class="n">ibRetractOK</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
    <span class="n">ibOverrideInterlock</span><span class="p">:</span><span class="n">BOOL</span><span class="p">;</span> <span class="p">(</span><span class="o">*</span><span class="k">if</span> <span class="n">true</span> <span class="n">interlocks</span> <span class="n">are</span> <span class="n">ignored</span><span class="o">*</span><span class="p">)</span>
    <span class="o">//</span> <span class="n">Reset</span> <span class="n">fault</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span> <span class="s1">&#39;</span>
    <span class="n">pv</span><span class="p">:</span> <span class="n">FF_Reset</span>
    <span class="s1">&#39;}</span>
    <span class="n">i_xReset</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
    <span class="n">i_sDevName</span> <span class="p">:</span> <span class="n">T_MaxString</span> <span class="o">:=</span>  <span class="s1">&#39;MPA&#39;</span><span class="p">;</span> <span class="o">//</span> <span class="n">Device</span> <span class="n">name</span> <span class="k">for</span> <span class="n">diagnostic</span>
    <span class="n">i_nTransitionRootID</span><span class="p">:</span> <span class="n">UDINT</span><span class="p">;</span> <span class="o">//</span><span class="n">A</span> <span class="n">unique</span> <span class="n">transition</span> <span class="n">Root</span> <span class="n">ID</span> <span class="n">that</span> <span class="ow">is</span> <span class="n">equal</span> <span class="n">to</span> <span class="ow">or</span> <span class="n">greater</span> <span class="n">than</span> <span class="mi">1000</span>
<span class="n">END_VAR</span>
<span class="n">VAR_OUTPUT</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span> <span class="s1">&#39;</span>
    <span class="n">pv</span><span class="p">:</span>
    <span class="s1">&#39;}</span>
    <span class="n">q_stAct</span>         <span class="p">:</span>       <span class="n">ST_MPA</span><span class="p">;</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span> <span class="s1">&#39;</span>
    <span class="n">pv</span><span class="p">:</span> <span class="n">MPS_FAULT</span>
    <span class="s1">&#39;}</span>
    <span class="n">xMPS_OK</span><span class="p">:</span><span class="n">BOOL</span><span class="p">;</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span> <span class="s1">&#39;</span>
    <span class="n">pv</span><span class="p">:</span> <span class="n">MOT_DONE</span>
    <span class="s1">&#39;}</span>
    <span class="n">xDone</span><span class="p">:</span><span class="n">Bool</span><span class="p">;</span> <span class="o">//</span> <span class="n">Motion</span> <span class="ow">is</span> <span class="n">Done</span>
<span class="n">END_VAR</span>
<span class="n">VAR_IN_OUT</span>
    <span class="n">io_fbFFHWO</span>    <span class="p">:</span>    <span class="n">FB_HardwareFFOutput</span><span class="p">;</span>
    <span class="n">fbArbiter</span><span class="p">:</span> <span class="n">FB_Arbiter</span><span class="p">();</span>
<span class="n">END_VAR</span>
<span class="n">VAR</span>
    <span class="o">//</span> <span class="n">PMPS</span>
    <span class="n">tBPTMtimeout</span><span class="p">:</span><span class="n">TON</span><span class="p">;</span>
    <span class="n">bMoving</span> <span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
    <span class="n">bDone</span> <span class="p">:</span><span class="n">BOOL</span><span class="p">;</span>
    <span class="n">ibPMPS_OK</span><span class="p">:</span><span class="n">BOOL</span><span class="p">;</span>
    <span class="n">bptm</span><span class="p">:</span> <span class="n">BeamParameterTransitionManager</span><span class="p">;</span>
    <span class="o">//</span> <span class="n">PMPS</span>
    <span class="n">fbFF</span>    <span class="p">:</span>    <span class="n">FB_FastFault</span> <span class="o">:=</span><span class="p">(</span>
        <span class="n">i_DevName</span> <span class="o">:=</span> <span class="s1">&#39;MPA&#39;</span><span class="p">,</span>
        <span class="n">i_Desc</span> <span class="o">:=</span> <span class="s1">&#39;Fault occurs when the device is moving&#39;</span><span class="p">,</span>
        <span class="n">i_TypeCode</span> <span class="o">:=</span> <span class="mi">16</span><span class="c1">#1010);</span>
    <span class="p">(</span><span class="o">*</span><span class="n">Init</span><span class="o">*</span><span class="p">)</span>
    <span class="n">xFirstPass</span>      <span class="p">:</span>       <span class="n">BOOL</span><span class="p">;</span>
    <span class="n">fbFSInit</span>                <span class="p">:</span>       <span class="n">R_TRIG</span><span class="p">;</span>

    <span class="p">(</span><span class="o">*</span> <span class="n">Timeouts</span><span class="o">*</span><span class="p">)</span>
    <span class="n">tTimeOutDuration</span><span class="p">:</span> <span class="n">TIME</span><span class="o">:=</span> <span class="n">T</span><span class="c1">#5S;</span>
    <span class="n">tInserttimeout</span><span class="p">:</span> <span class="n">TON</span><span class="p">;</span>
    <span class="n">tRetracttimeout</span><span class="p">:</span><span class="n">TON</span><span class="p">;</span>

    <span class="p">(</span><span class="o">*</span><span class="n">IO</span><span class="o">*</span><span class="p">)</span>
    <span class="n">i_xInsertedLS</span>   <span class="n">AT</span><span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
    <span class="n">i_xRetractedLS</span>  <span class="n">AT</span><span class="o">%</span><span class="n">I</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
    <span class="n">q_xInsert_DO</span>    <span class="n">AT</span><span class="o">%</span><span class="n">Q</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
    <span class="n">q_xRetract_DO</span>   <span class="n">AT</span><span class="o">%</span><span class="n">Q</span><span class="o">*</span><span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>


    <span class="o">//</span> <span class="n">For</span> <span class="n">logging</span>
    <span class="n">fbLogger</span> <span class="p">:</span> <span class="n">FB_LogMessage</span> <span class="o">:=</span> <span class="p">(</span><span class="n">eSubsystem</span><span class="o">:=</span><span class="n">E_SubSystem</span><span class="o">.</span><span class="n">MOTION</span><span class="p">);</span>
    <span class="n">ePrevState</span> <span class="p">:</span> <span class="n">E_PositionState</span><span class="p">;</span>
    <span class="n">tErrorPresent</span> <span class="p">:</span> <span class="n">R_TRIG</span><span class="p">;</span>
    <span class="n">tAction</span> <span class="p">:</span> <span class="n">R_TRIG</span><span class="p">;</span> <span class="o">//</span> <span class="n">Primary</span> <span class="n">action</span> <span class="n">of</span> <span class="n">this</span> <span class="n">device</span> <span class="p">(</span><span class="n">OPN_DO</span><span class="p">,</span> <span class="n">etc</span><span class="o">.</span><span class="p">)</span>
    <span class="n">tOverrideActivated</span> <span class="p">:</span> <span class="n">R_TRIG</span><span class="p">;</span>
<span class="n">END_VAR</span>
<span class="p">(</span><span class="o">*</span><span class="n">Initialize</span><span class="o">*</span><span class="p">)</span>
<span class="n">fbFSInit</span><span class="p">(</span> <span class="n">CLK</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span> <span class="n">Q</span> <span class="o">=&gt;</span> <span class="n">xFirstPass</span><span class="p">);</span>
<span class="p">(</span><span class="o">*</span><span class="n">IO</span> <span class="n">Mapping</span><span class="o">*</span><span class="p">)</span>
<span class="n">ACT_IO</span><span class="p">();</span>

<span class="n">IF</span> <span class="n">xFirstPass</span> <span class="n">THEN</span>
    <span class="n">q_stAct</span><span class="o">.</span><span class="n">eState</span> <span class="o">:=</span> <span class="n">E_PositionState</span><span class="o">.</span><span class="n">INVALID</span><span class="p">;</span>
    <span class="n">q_stAct</span><span class="o">.</span><span class="n">bRetract_SW</span> <span class="o">:=</span> <span class="n">FALSE</span><span class="p">;</span>
    <span class="n">q_stAct</span><span class="o">.</span><span class="n">bInsert_SW</span> <span class="o">:=</span> <span class="n">FALSE</span><span class="p">;</span>
    <span class="n">fbFF</span><span class="o">.</span><span class="n">i_DevName</span> <span class="o">:=</span> <span class="n">i_sDevName</span><span class="p">;</span>
<span class="n">END_IF</span>


<span class="p">(</span><span class="o">*</span> <span class="n">Manage</span> <span class="n">States</span><span class="o">*</span><span class="p">)</span>
<span class="n">IF</span> <span class="n">q_stAct</span><span class="o">.</span><span class="n">i_bInLS</span> <span class="n">AND</span>  <span class="n">q_stAct</span><span class="o">.</span><span class="n">i_bOutLS</span> <span class="n">THEN</span>
    <span class="n">q_stAct</span><span class="o">.</span><span class="n">eState</span><span class="o">:=</span><span class="n">E_PositionState</span><span class="o">.</span><span class="n">INVALID</span><span class="p">;</span>
<span class="n">ELSIF</span> <span class="n">NOT</span> <span class="n">q_stAct</span><span class="o">.</span><span class="n">i_bInLS</span> <span class="n">AND</span> <span class="n">q_stAct</span><span class="o">.</span><span class="n">i_bOutLS</span> <span class="n">THEN</span>
    <span class="n">q_stAct</span><span class="o">.</span><span class="n">eState</span><span class="o">:=</span><span class="n">E_PositionState</span><span class="o">.</span><span class="n">RETRACTED</span><span class="p">;</span>
<span class="n">ELSIF</span> <span class="n">q_stAct</span><span class="o">.</span><span class="n">i_bInLS</span> <span class="n">AND</span> <span class="n">NOT</span> <span class="n">q_stAct</span><span class="o">.</span><span class="n">i_bOutLS</span> <span class="n">THEN</span>
    <span class="n">q_stAct</span><span class="o">.</span><span class="n">eState</span><span class="o">:=</span><span class="n">E_PositionState</span><span class="o">.</span><span class="n">INSERTED</span><span class="p">;</span>
<span class="n">ELSIF</span> <span class="n">NOT</span> <span class="n">q_stAct</span><span class="o">.</span><span class="n">i_bInLS</span> <span class="n">AND</span> <span class="n">NOT</span> <span class="n">q_stAct</span><span class="o">.</span><span class="n">i_bOutLS</span> <span class="n">THEN</span>
    <span class="n">q_stAct</span><span class="o">.</span><span class="n">eState</span><span class="o">:=</span><span class="n">E_PositionState</span><span class="o">.</span><span class="n">MOVING</span><span class="p">;</span>
<span class="n">ELSE</span>
    <span class="n">q_stAct</span><span class="o">.</span><span class="n">eState</span><span class="o">:=</span><span class="n">E_PositionState</span><span class="o">.</span><span class="n">INVALID</span><span class="p">;</span>
<span class="n">END_IF</span>

<span class="p">(</span><span class="o">*</span><span class="n">Set</span> <span class="n">the</span> <span class="n">Done</span> <span class="n">signal</span><span class="o">*</span><span class="p">)</span>
<span class="n">xDone</span> <span class="o">:=</span> <span class="p">(</span><span class="n">q_stAct</span><span class="o">.</span><span class="n">bRetract_SW</span> <span class="n">AND</span> <span class="n">q_stAct</span><span class="o">.</span><span class="n">eState</span><span class="o">=</span><span class="n">E_PositionState</span><span class="o">.</span><span class="n">RETRACTED</span><span class="p">)</span> <span class="n">OR</span> <span class="p">(</span><span class="n">q_stAct</span><span class="o">.</span><span class="n">eState</span><span class="o">=</span><span class="n">E_PositionState</span><span class="o">.</span><span class="n">INSERTED</span> <span class="n">AND</span> <span class="n">q_stAct</span><span class="o">.</span><span class="n">bInsert_SW</span><span class="p">);</span>


<span class="p">(</span><span class="o">*</span><span class="n">MPS</span> <span class="n">FAULT</span><span class="o">*</span><span class="p">)</span>
<span class="p">(</span><span class="o">**</span><span class="p">)</span>
<span class="n">xMPS_OK</span> <span class="o">:=</span> <span class="n">i_xInsertedLS</span> <span class="n">XOR</span> <span class="n">i_xRetractedLS</span><span class="p">;</span><span class="o">//</span><span class="p">(</span><span class="n">q_stAct</span><span class="o">.</span><span class="n">eState</span><span class="o">=</span><span class="n">RETRACTED</span><span class="p">)</span> <span class="n">OR</span> <span class="p">(</span><span class="n">q_stAct</span><span class="o">.</span><span class="n">eState</span><span class="o">=</span><span class="n">INSERTED</span><span class="p">);</span>


<span class="p">(</span><span class="o">*</span><span class="n">PMPS</span> <span class="n">PERMISSION</span><span class="o">*</span><span class="p">)</span>


<span class="p">(</span><span class="o">*</span> <span class="n">Can</span><span class="s1">&#39;t have bRetract_SW and  bInsert_SW both be true*)</span>
<span class="p">(</span><span class="o">*</span><span class="n">If</span> <span class="p">(</span><span class="n">q_stAct</span><span class="o">.</span><span class="n">bRetract_SW</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">q_stAct</span><span class="o">.</span><span class="n">bInsert_SW</span><span class="p">)</span> <span class="n">THEN</span>
    <span class="n">q_stAct</span><span class="o">.</span><span class="n">bRetract_SW</span> <span class="o">:=</span> <span class="n">FALSE</span><span class="p">;</span>
    <span class="n">q_stAct</span><span class="o">.</span><span class="n">bInsert_SW</span> <span class="o">:=</span> <span class="n">FALSE</span><span class="p">;</span>
<span class="n">END_IF</span><span class="o">*</span><span class="p">)</span>

<span class="n">q_stAct</span><span class="o">.</span><span class="n">bRetractOK</span> <span class="o">:=</span> <span class="n">ibRetractOK</span><span class="p">;</span>
<span class="n">q_stAct</span><span class="o">.</span><span class="n">bInsertOK</span> <span class="o">:=</span> <span class="n">ibInsertOK</span><span class="p">;</span>

<span class="p">(</span><span class="o">*</span><span class="n">Actuate</span> <span class="n">the</span> <span class="n">device</span><span class="o">*</span><span class="p">)</span>
<span class="n">q_stAct</span><span class="o">.</span><span class="n">q_bRetract</span> <span class="o">:=</span> <span class="n">q_stAct</span><span class="o">.</span><span class="n">bRetractOK</span> <span class="n">AND</span> <span class="n">q_stAct</span><span class="o">.</span><span class="n">bRetract_SW</span><span class="p">;</span>
<span class="n">q_stAct</span><span class="o">.</span><span class="n">q_bInsert</span> <span class="o">:=</span> <span class="n">q_stAct</span><span class="o">.</span><span class="n">bInsertOK</span> <span class="n">AND</span> <span class="n">q_stAct</span><span class="o">.</span><span class="n">bInsert_SW</span><span class="p">;</span>

<span class="n">IF</span> <span class="n">q_stAct</span><span class="o">.</span><span class="n">q_bInsert</span> <span class="n">THEN</span>
    <span class="n">q_stAct</span><span class="o">.</span><span class="n">q_bRetract</span> <span class="o">:=</span> <span class="n">FALSE</span><span class="p">;</span>
    <span class="n">q_stAct</span><span class="o">.</span><span class="n">bRetract_SW</span><span class="o">:=</span> <span class="n">FALSE</span><span class="p">;</span>
<span class="n">ELSIF</span> <span class="n">q_stAct</span><span class="o">.</span><span class="n">q_bRetract</span> <span class="n">THEN</span>
    <span class="n">q_stAct</span><span class="o">.</span><span class="n">q_bInsert</span> <span class="o">:=</span> <span class="n">FALSE</span><span class="p">;</span>
    <span class="n">q_stAct</span><span class="o">.</span><span class="n">bInsert_SW</span><span class="o">:=</span> <span class="n">FALSE</span><span class="p">;</span>
<span class="n">END_IF</span><span class="p">;</span>


<span class="p">(</span><span class="o">*</span><span class="n">Timers</span><span class="o">*</span><span class="p">)</span>
<span class="n">tInserttimeout</span><span class="p">(</span><span class="n">IN</span><span class="o">:=</span> <span class="n">q_stAct</span><span class="o">.</span><span class="n">q_bInsert</span><span class="p">,</span> <span class="n">PT</span> <span class="o">:=</span> <span class="n">tTimeOutDuration</span> <span class="p">);</span>
<span class="n">tRetracttimeout</span><span class="p">(</span><span class="n">IN</span><span class="o">:=</span> <span class="n">q_stAct</span><span class="o">.</span><span class="n">q_bRetract</span><span class="p">,</span> <span class="n">PT</span> <span class="o">:=</span> <span class="n">tTimeOutDuration</span><span class="p">);</span>

<span class="o">///</span><span class="n">Check</span> <span class="n">moving</span> <span class="n">postion</span> <span class="n">timout</span>
<span class="n">IF</span> <span class="n">NOT</span> <span class="n">q_stAct</span><span class="o">.</span><span class="n">i_bInLS</span> <span class="n">AND</span> <span class="n">tInserttimeout</span><span class="o">.</span><span class="n">Q</span> <span class="n">THEN</span>
    <span class="n">q_stAct</span><span class="o">.</span><span class="n">bErrorPresent</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">;</span>
<span class="n">ELSIF</span> <span class="n">NOT</span> <span class="n">q_stAct</span><span class="o">.</span><span class="n">i_bOutLS</span> <span class="n">AND</span> <span class="n">tRetracttimeout</span><span class="o">.</span><span class="n">Q</span> <span class="n">THEN</span>
    <span class="n">q_stAct</span><span class="o">.</span><span class="n">bErrorPresent</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">;</span>
<span class="n">END_IF</span>


<span class="p">(</span><span class="o">*</span><span class="n">FAST</span> <span class="n">FAULT</span><span class="o">*</span><span class="p">)</span>
<span class="n">fbFF</span><span class="p">(</span><span class="n">i_xOK</span> <span class="o">:=</span> <span class="n">xMPS_OK</span><span class="p">,</span>
    <span class="n">i_xReset</span> <span class="o">:=</span> <span class="n">i_xReset</span><span class="p">,</span>
    <span class="n">i_xAutoReset</span> <span class="o">:=</span><span class="n">TRUE</span><span class="p">,</span>
    <span class="n">io_fbFFHWO</span> <span class="o">:=</span> <span class="n">io_fbFFHWO</span><span class="p">);</span>


<span class="p">(</span><span class="o">*</span><span class="n">Soft</span> <span class="n">IO</span> <span class="n">Mapping</span><span class="o">*</span><span class="p">)</span>
<span class="n">ACT_IO</span><span class="p">();</span>
<span class="p">(</span><span class="o">*</span><span class="n">Logger</span><span class="o">*</span><span class="p">)</span>
<span class="n">ACT_Logger</span><span class="p">();</span>
<span class="o">//</span><span class="n">ACT_PMPS</span><span class="p">();</span>

<span class="n">END_FUNCTION_BLOCK</span>

<span class="n">ACTION</span> <span class="n">ACT_IO</span><span class="p">:</span>
<span class="p">(</span><span class="o">*</span><span class="n">Inputs</span><span class="o">*</span><span class="p">)</span>
<span class="n">q_stAct</span><span class="o">.</span><span class="n">i_bInLS</span> <span class="o">:=</span>  <span class="n">i_xInsertedLS</span><span class="p">;</span>
<span class="n">q_stAct</span><span class="o">.</span><span class="n">i_bOutLS</span> <span class="o">:=</span> <span class="n">i_xRetractedLS</span><span class="p">;</span>

<span class="p">(</span><span class="o">*</span><span class="n">outputs</span><span class="o">*</span><span class="p">)</span>
<span class="n">q_xInsert_DO</span><span class="o">:=</span><span class="n">q_stAct</span><span class="o">.</span><span class="n">q_bInsert</span><span class="p">;</span>
<span class="n">q_xRetract_DO</span><span class="o">:=</span><span class="n">q_stAct</span><span class="o">.</span><span class="n">q_bRetract</span><span class="p">;</span>
<span class="n">END_ACTION</span>

<span class="n">ACTION</span> <span class="n">ACT_Logger</span><span class="p">:</span>
<span class="o">//</span><span class="n">Position</span> <span class="n">STATE</span> <span class="n">Logger</span>
<span class="n">IF</span> <span class="n">ePrevState</span> <span class="o">&lt;&gt;</span> <span class="n">q_stAct</span><span class="o">.</span><span class="n">eState</span> <span class="n">THEN</span>
      <span class="n">CASE</span> <span class="n">q_stAct</span><span class="o">.</span><span class="n">eState</span> <span class="n">OF</span>
        <span class="n">E_PositionState</span><span class="o">.</span><span class="n">INVALID</span><span class="p">:</span>
            <span class="n">fbLogger</span><span class="p">(</span><span class="n">sMsg</span><span class="o">:=</span><span class="s1">&#39;Device is in invalid position.&#39;</span><span class="p">,</span> <span class="n">eSevr</span><span class="o">:=</span><span class="n">TcEventSeverity</span><span class="o">.</span><span class="n">Critical</span><span class="p">);</span>
          <span class="n">E_PositionState</span><span class="o">.</span><span class="n">MOVING</span><span class="p">:</span>
            <span class="n">fbLogger</span><span class="p">(</span><span class="n">sMsg</span><span class="o">:=</span><span class="s1">&#39;Device moving&#39;</span><span class="p">,</span> <span class="n">eSevr</span><span class="o">:=</span><span class="n">TcEventSeverity</span><span class="o">.</span><span class="n">Warning</span><span class="p">);</span>
        <span class="n">E_PositionState</span><span class="o">.</span><span class="n">RETRACTED</span><span class="p">:</span>
            <span class="n">fbLogger</span><span class="p">(</span><span class="n">sMsg</span><span class="o">:=</span><span class="s1">&#39;Device retracted.&#39;</span><span class="p">,</span> <span class="n">eSevr</span><span class="o">:=</span><span class="n">TcEventSeverity</span><span class="o">.</span><span class="n">Info</span><span class="p">);</span>
        <span class="n">E_PositionState</span><span class="o">.</span><span class="n">INSERTED</span><span class="p">:</span>
            <span class="n">fbLogger</span><span class="p">(</span><span class="n">sMsg</span><span class="o">:=</span><span class="s1">&#39;Device inserted.&#39;</span><span class="p">,</span> <span class="n">eSevr</span><span class="o">:=</span><span class="n">TcEventSeverity</span><span class="o">.</span><span class="n">Info</span><span class="p">);</span>
      <span class="n">END_CASE</span>
      <span class="n">ePrevState</span> <span class="o">:=</span> <span class="n">q_stAct</span><span class="o">.</span><span class="n">eState</span><span class="p">;</span>
  <span class="n">END_IF</span>



<span class="o">//</span> <span class="n">Log</span> <span class="n">valve</span> <span class="nb">open</span>
<span class="n">tAction</span><span class="p">(</span><span class="n">CLK</span><span class="o">:=</span> <span class="n">q_stAct</span><span class="o">.</span><span class="n">q_bRetract</span> <span class="n">XOR</span> <span class="n">q_stAct</span><span class="o">.</span><span class="n">q_bInsert</span><span class="p">);</span>
<span class="n">IF</span> <span class="n">tAction</span><span class="o">.</span><span class="n">Q</span> <span class="n">THEN</span> <span class="n">fbLogger</span><span class="p">(</span><span class="n">sMsg</span><span class="o">:=</span><span class="s1">&#39;Device commanded to actuate&#39;</span><span class="p">,</span> <span class="n">eSevr</span><span class="o">:=</span><span class="n">TcEventSeverity</span><span class="o">.</span><span class="n">Info</span><span class="p">);</span> <span class="n">END_IF</span>
<span class="n">END_ACTION</span>

<span class="n">ACTION</span> <span class="n">ACT_PMPS</span><span class="p">:</span>
<span class="o">//</span><span class="n">bMoving</span> <span class="o">:=</span> <span class="p">((</span><span class="n">q_stAct</span><span class="o">.</span><span class="n">bRetract_SW</span> <span class="n">OR</span> <span class="n">NOT</span> <span class="n">q_stAct</span><span class="o">.</span><span class="n">bInsert_SW</span><span class="p">)</span> <span class="n">AND</span> <span class="n">q_stAct</span><span class="o">.</span><span class="n">i_bInLS</span><span class="p">)</span> <span class="n">XOR</span>  <span class="p">((</span><span class="n">NOT</span> <span class="n">q_stAct</span><span class="o">.</span><span class="n">bRetract_SW</span> <span class="n">OR</span> <span class="n">q_stAct</span><span class="o">.</span><span class="n">bInsert_SW</span><span class="p">)</span> <span class="n">AND</span> <span class="n">q_stAct</span><span class="o">.</span><span class="n">i_bOutLS</span><span class="p">);</span>
<span class="o">//</span><span class="n">bDone</span> <span class="o">:=</span>  <span class="p">((</span><span class="n">q_stAct</span><span class="o">.</span><span class="n">bRetract_SW</span> <span class="n">OR</span> <span class="n">NOT</span> <span class="n">q_stAct</span><span class="o">.</span><span class="n">bInsert_SW</span><span class="p">)</span> <span class="n">AND</span> <span class="n">q_stAct</span><span class="o">.</span><span class="n">i_bOutLS</span><span class="p">)</span> <span class="n">XOR</span> <span class="p">((</span><span class="n">NOT</span> <span class="n">q_stAct</span><span class="o">.</span><span class="n">bRetract_SW</span> <span class="n">OR</span> <span class="n">q_stAct</span><span class="o">.</span><span class="n">bInsert_SW</span><span class="p">)</span> <span class="n">AND</span> <span class="n">q_stAct</span><span class="o">.</span><span class="n">i_bInLS</span><span class="p">);</span>

<span class="n">bptm</span><span class="p">(</span><span class="n">fbArbiter</span><span class="o">:=</span><span class="n">fbArbiter</span><span class="p">,</span>
     <span class="n">i_TransitionAssertionID</span><span class="o">:=</span><span class="n">i_nTransitionRootID</span><span class="o">+</span><span class="mi">2</span><span class="p">,</span>
     <span class="n">i_stTransitionAssertion</span><span class="o">:=</span><span class="n">PMPS_GVL</span><span class="o">.</span><span class="n">cst0RateBeam</span><span class="p">,</span>
     <span class="n">i_nRequestedAssertionID</span><span class="o">:=</span><span class="n">i_nTransitionRootID</span><span class="o">+</span> <span class="n">BOOL_TO_UDINT</span><span class="p">(</span><span class="n">q_stAct</span><span class="o">.</span><span class="n">bRetract_SW</span> <span class="n">AND</span> <span class="n">NOT</span> <span class="n">q_stAct</span><span class="o">.</span><span class="n">bInsert_SW</span> <span class="p">),</span>
     <span class="n">i_stRequestedAssertion</span><span class="o">:=</span><span class="p">,</span>
     <span class="n">i_xMoving</span><span class="o">:=</span><span class="n">NOT</span> <span class="n">xDone</span><span class="p">,</span>
     <span class="n">i_xDoneMoving</span><span class="o">:=</span> <span class="n">xDone</span><span class="p">,</span>
     <span class="n">stCurrentBeamParameters</span><span class="o">:=</span><span class="n">PMPS_GVL</span><span class="o">.</span><span class="n">stCurrentBeamParameters</span><span class="p">,</span>
     <span class="n">q_xTransitionAuthorized</span><span class="o">=&gt;</span><span class="p">);</span>

     <span class="o">//</span> <span class="n">Timeout</span>
<span class="n">tBPTMtimeout</span><span class="p">(</span><span class="n">IN</span><span class="o">:=</span> <span class="n">bptm</span><span class="o">.</span><span class="n">i_xMoving</span> <span class="n">AND</span> <span class="n">NOT</span> <span class="n">bptm</span><span class="o">.</span><span class="n">q_xTransitionAuthorized</span> <span class="p">,</span> <span class="n">PT</span><span class="o">:=</span><span class="n">T</span><span class="c1">#1S);</span>
<span class="n">ibPMPS_OK</span> <span class="o">:=</span> <span class="n">bptm</span><span class="o">.</span><span class="n">q_xTransitionAuthorized</span> <span class="n">OR</span> <span class="n">tBPTMtimeout</span><span class="o">.</span><span class="n">Q</span><span class="p">;</span>
<span class="n">END_ACTION</span>
</pre></div>
</div>
<dl class="simple">
<dt>Related:</dt><dd><ul class="simple">
<li><p><a class="reference internal" href="#e-positionstate">E_PositionState</a></p></li>
<li><p><a class="reference internal" href="#st-mpa">ST_MPA</a></p></li>
</ul>
</dd>
</dl>
</section>
<section id="fb-pressuresensor-px219">
<h2>FB_PressureSensor_PX219<a class="headerlink" href="#fb-pressuresensor-px219" title="Permalink to this heading"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">FUNCTION_BLOCK</span> <span class="n">FB_PressureSensor_PX219</span>
<span class="n">VAR_OUTPUT</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span> <span class="s1">&#39;pv:&#39;</span><span class="p">}</span>
    <span class="n">Sensor</span> <span class="p">:</span> <span class="n">ST_PressureSensor</span><span class="p">;</span>
<span class="n">END_VAR</span>

<span class="n">VAR_INPUT</span>
    <span class="n">rDefaultSP</span> <span class="p">:</span> <span class="n">REAL</span><span class="p">;</span> <span class="p">(</span><span class="o">*</span> <span class="n">Must</span> <span class="n">assign</span> <span class="n">a</span> <span class="n">default</span> <span class="n">value</span> <span class="n">at</span> <span class="n">instantiation</span><span class="o">*</span><span class="p">)</span>
<span class="n">END_VAR</span>

<span class="n">VAR</span>
    <span class="n">v</span> <span class="p">:</span> <span class="n">REAL</span><span class="p">;</span>
    <span class="n">AlarmTOF</span> <span class="p">:</span> <span class="n">TOF</span><span class="p">;</span>


    <span class="p">(</span><span class="o">*</span><span class="n">IOs</span> <span class="n">to</span> <span class="n">be</span> <span class="n">linked</span><span class="o">*</span><span class="p">)</span>
    <span class="n">i_iPRESS_R</span> <span class="n">AT</span> <span class="o">%</span><span class="n">I</span><span class="o">*</span> <span class="p">:</span><span class="n">INT</span><span class="p">;</span> <span class="o">//</span> <span class="nb">input</span> <span class="n">Pressure</span> <span class="o">//</span> <span class="n">Link</span> <span class="n">to</span> <span class="n">analog</span> <span class="n">Input</span>
<span class="n">END_VAR</span>
<span class="o">//</span> <span class="k">for</span> <span class="n">Omega</span> <span class="n">PX219</span><span class="o">-</span><span class="n">xxx</span><span class="p">,</span> <span class="n">signal</span> <span class="mi">0</span><span class="o">-</span><span class="mi">5</span><span class="n">VDC</span><span class="p">,</span> <span class="n">corresponding</span> <span class="n">to</span> <span class="mi">16383</span> <span class="nb">max</span>

<span class="p">(</span><span class="o">*</span> <span class="n">Real</span><span class="o">-</span><span class="n">value</span> <span class="n">calculation</span> <span class="o">*</span><span class="p">)</span>

  <span class="n">IF</span> <span class="n">Sensor</span><span class="o">.</span><span class="n">iPRESS_R</span> <span class="o">&gt;</span> <span class="mi">16383</span> <span class="n">THEN</span><span class="p">;</span> <span class="o">//</span><span class="n">Px219</span> <span class="nb">max</span> <span class="n">signal</span> <span class="mi">5</span><span class="n">VDC</span><span class="p">,</span> <span class="n">equal</span> <span class="n">to</span> <span class="n">beckhoff</span> <span class="n">AO</span> <span class="nb">input</span> <span class="mi">16383</span>
       <span class="n">Sensor</span><span class="o">.</span><span class="n">rPRESS</span> <span class="o">:=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
     <span class="n">Sensor</span><span class="o">.</span><span class="n">xPStateAlarm</span><span class="o">:=</span> <span class="n">TRUE</span><span class="p">;</span>
     <span class="n">ELSE</span>
         <span class="n">V</span><span class="o">:=</span> <span class="mf">5.0</span><span class="o">*</span><span class="n">INT_TO_REAL</span><span class="p">(</span><span class="n">Sensor</span><span class="o">.</span><span class="n">iPRESS_R</span><span class="p">)</span><span class="o">/</span><span class="mi">16383</span><span class="p">;</span>
         <span class="n">Sensor</span><span class="o">.</span><span class="n">rPRESS</span> <span class="o">:=</span> <span class="n">LREAL_TO_REAL</span><span class="p">(</span><span class="n">V</span><span class="o">/</span><span class="mf">5.0</span><span class="o">*</span><span class="n">Sensor</span><span class="o">.</span><span class="n">rFull_Scale</span><span class="p">);</span> <span class="o">//</span><span class="n">FULL</span> <span class="n">scale</span> <span class="ow">in</span> <span class="n">Psi</span> <span class="k">for</span> <span class="n">pressure</span> <span class="n">tranducer</span>
  <span class="n">END_IF</span>

 <span class="p">(</span><span class="o">*</span> <span class="n">Validate</span> <span class="n">setpoint</span> <span class="o">*</span><span class="p">)</span>
    <span class="n">IF</span> <span class="p">(</span><span class="n">Sensor</span><span class="o">.</span><span class="n">rPressSP</span> <span class="o">&lt;</span> <span class="n">Sensor</span><span class="o">.</span><span class="n">rMinPressSP</span> <span class="n">OR</span> <span class="n">Sensor</span><span class="o">.</span><span class="n">rPressSP</span> <span class="o">&gt;</span> <span class="n">Sensor</span><span class="o">.</span><span class="n">rMaxPressSP</span><span class="p">)</span> <span class="n">THEN</span><span class="p">;</span>
        <span class="n">Sensor</span><span class="o">.</span><span class="n">rPressSP</span> <span class="o">:=</span> <span class="n">rDefaultSP</span><span class="p">;</span>
    <span class="n">END_IF</span>

 <span class="p">(</span><span class="o">*</span> <span class="n">Set</span> <span class="n">alarm</span> <span class="n">bit</span> <span class="n">when</span> <span class="n">pressure</span> <span class="n">lower</span> <span class="ow">and</span> <span class="n">equal</span> <span class="n">to</span> <span class="n">setpoint</span><span class="p">,</span> <span class="n">delay</span> <span class="n">off</span> <span class="k">for</span> <span class="mi">60</span><span class="n">s</span><span class="o">*</span><span class="p">)</span>

  <span class="n">AlarmTOF</span> <span class="p">(</span><span class="n">IN</span> <span class="o">:=</span> <span class="n">Sensor</span><span class="o">.</span><span class="n">rPRESS</span> <span class="o">&lt;=</span> <span class="n">Sensor</span><span class="o">.</span><span class="n">rPressSP</span><span class="p">,</span> <span class="n">PT</span> <span class="o">:=</span> <span class="n">T</span><span class="c1">#60S, Q =&gt; Sensor.xPstateAlarm);</span>



 <span class="p">(</span><span class="o">*</span><span class="n">Soft</span> <span class="n">IO</span> <span class="n">Mapping</span><span class="o">*</span><span class="p">)</span>
  <span class="n">ACT_IO</span><span class="p">();</span>

<span class="n">END_FUNCTION_BLOCK</span>

<span class="n">ACTION</span> <span class="n">ACT_IO</span><span class="p">:</span>
<span class="n">Sensor</span><span class="o">.</span><span class="n">iPRESS_R</span> <span class="o">:=</span> <span class="n">i_iPRESS_R</span><span class="p">;</span>
<span class="n">END_ACTION</span>
</pre></div>
</div>
<dl class="simple">
<dt>Related:</dt><dd><ul class="simple">
<li><p><a class="reference internal" href="#st-pressuresensor">ST_PressureSensor</a></p></li>
</ul>
</dd>
</dl>
</section>
<section id="fb-vgc-1">
<h2>FB_VGC_1<a class="headerlink" href="#fb-vgc-1" title="Permalink to this heading"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>(* This function block implements basic functionality for Isolation Gate Valves*)
(* This function block interlock is as follows:
1. The valve can be opened when the difference between the pressures on both sides is
less than the maximum differential pressure.
2. This rule persists until the pressures on both sides are lower than the vacuum-setpoint.
3. Once at-vac, the valve will close if the pressure on either side rises above the setpoint.*)
(*This function block also implements PMPS and EPS interlocks, as well as Fast MPS trigger*)
{attribute &#39;no_check&#39;}
{attribute &#39;reflection&#39;}
FUNCTION_BLOCK FB_VGC_1 Extends FB_Valve
VAR_IN_OUT

END_VAR
VAR_INPUT
    (*Upstream Gauge, usually ion gauge*)
    i_stUSG :       ST_VG;
    (*Downstream Gauge, usually ion gauge*)
    i_stDSG :       ST_VG;
    {attribute &#39;pytmc&#39; := &#39;
    pv: Dis_DPIlk
    &#39;}
    i_xDis_DPIlk : BOOL := FALSE;  (* Set to true when calling the function to disable the differential pressure interlock *)
    {attribute &#39;pytmc&#39; := &#39;
    pv: EPS_OK
    &#39;}
    i_xEPS_OK:      BOOL    := TRUE; (*External EPS interlock, Set to TRUE when no EPS interlock is required, otherwise set to correct interlock signal*)
    {attribute &#39;pytmc&#39; := &#39;
    pv: MPS_OK
    &#39;}
    //i_xPMPS_OK:   BOOL    ; (*External MPS interlock, Set to TRUE when no PMPS interlock is required*)
    i_xExt_OK: BOOL; (*Other External Interlock, Set to True when no external interlock is required. If this Valve is neigboring a Fast Shutter this should be linked to the fast shutter xVAC_FAULT_OK*)
    i_xOverrideMode : BOOL; (*To be linked to global override bit. This Overrides Vacuum logic only, EPS, MPS and PMPS are still enforces*)
    // Reset fault
    {attribute &#39;pytmc&#39; := &#39;
    pv: FF_Reset
    &#39;}
    i_xReset: BOOL;
    i_xIsAperture:BOOL :=FALSE; // Set tp True if this is an Aperture Valve, the MPS Fault will trip only when moving.
    i_sDevName : T_MaxString :=  &#39;VGC&#39;; // Device name for diagnostic
    i_nTransitionRootID: UDINT; //A unique transition Root ID that is equalt to or greater than 1000
END_VAR
VAR_OUTPUT
    {attribute &#39;pytmc&#39; := &#39;
    pv:
    &#39;}
    iq_stValve : ST_VGC; (* All valve data and states will be in this struct*)

    {attribute &#39;pytmc&#39; := &#39;
    pv: MPS_FAULT_OK
    field: ZNAM MPS FAULT ;
    field: ONAM MPS OK ;
    &#39;}
    xMPS_OK:        BOOL; (*MPS Fast OK, is set when the Valve is Open*)
END_VAR
VAR_IN_OUT
    io_fbFFHWO    :    FB_HardwareFFOutput;
    fbArbiter: FB_Arbiter();
END_VAR
VAR
    // PMPS
    bMoving : BOOL;
    bDone :BOOL;
    i_xPMPS_OK:     BOOL;
    bptm: BeamParameterTransitionManager;
    FFO    :    FB_FastFault :=(
        i_DevName := &#39;VGC&#39;,
        i_Desc := &#39;Fault occurs when the valve is not in open state&#39;,
        i_TypeCode := 16#1010);
    //g_FastFaultOutput1    :       FB_HardwareFFOutput;

    {attribute &#39;instance-path&#39;}
    {attribute &#39;noinit&#39;}
    sPath: STRING;

    rDiffPressAllowed       :       REAL := 22.5; // Torr, Default value comes from Vat Valve Manual
    rDiffPress : REAL;
    set : BOOL;
    reset: BOOL;

    xFirstPass      :       BOOL;
    fbFSInit                :       R_TRIG;

    tonDelOK : TON;
    rtOK    :       R_TRIG;
    tonOvrd :       TON;
    rtOpen  :       R_TRIG;
    ftClose: F_TRIG;

    tDelOK  :       TIME := T#60S;
    tOvrd   :       TIME := T#10s;


    (* Timeouts*)
    tTimeOutDuration: TIME:= T#30S;
    tOPNtimeout: TON;
    tCLStimeout:TON;
    tBPTMtimeout:TON;


    (*IO*)
    i_xOpnLS        AT%I*: BOOL;
    i_xClsLS        AT%I*: BOOL;
    q_xOPN_DO       AT%Q*: BOOL;

    // For logging
    eVGCPrevState : E_VGC;


END_VAR
(* Vacuum gate valve
A. Wallace
16-10-29

A gate valve isolates vacuum volumes. Ideally it can be opened when a system is vented
to allow for faster pumping, and will close when high vacuum is lost.

The following behavior is good for valves in something like a gas attenuator.
This function block does the following:
1. The valve can be opened when the difference between the pressures on both sides is
less than the maximum differential pressure.
2. This rule persists until the pressures on both sides are lower than the vacuum-setpoint.
3. Once at-vac, the valve will close if the pressure on either side rises above the setpoint.

Alternatively, the differential pressure interlock can be disabled so the valve may only be opened
if the pressure on both sides is lower than the at-vacuum-setpoint. You want this behavior if
the valve is to be used in a UHV section.

Hysteresis is employed to ensure a smooth transition from vented/pumping down, to at-vac.

Finally, an override system is built in so you can bypass all the interlocking logic and
get back online.
*)
(* 10/1/2018 Margaret Ghaly included EPS, PMPS Checkes and MPS trigger signals*)


fbFSInit( CLK := TRUE, Q =&gt; xFirstPass);
(*IO Mapping*)
ACT_IO();

(* On first PLC pass, put valve into vented state, which implies a closed valve *)
IF xFirstPass THEN
    iq_stValve.eVGC_State := Vented;
    iq_stValve.pv_xOPN_SW := FALSE;
    FFO.i_DevName := i_sDevName;
END_IF


///Check valve position
IF iq_stValve.i_xClsLS AND  iq_stValve.i_xOpnLS THEN
    iq_stValve.eState:=INVALID;
ELSIF NOT iq_stValve.i_xClsLS AND iq_stValve.i_xOpnLS AND iq_stValve.q_xOPN_DO THEN
    iq_stValve.eState:=OPEN;
ELSIF NOT iq_stValve.i_xClsLS AND iq_stValve.i_xOpnLS AND NOT iq_stValve.q_xOPN_DO THEN
    iq_stValve.eState:=OPEN_F;
ELSIF iq_stValve.i_xClsLS AND NOT iq_stValve.i_xOpnLS AND NOT iq_stValve.q_xOPN_DO THEN
    iq_stValve.eState:=CLOSED;
ELSIF NOT iq_stValve.i_xClsLS AND NOT iq_stValve.i_xOpnLS THEN
    iq_stValve.eState:=MOVING;
ELSE
    iq_stValve.eState:=INVALID;
END_IF

// Update hysteresis
///////////////////////////////////////////////////
IF iq_stValve.rAT_VAC_SP_LAST &lt;&gt; iq_stValve.rAT_VAC_SP OR xFirstPass THEN
    iq_stValve.rAT_VAC_SP_LAST := iq_stValve.rAT_VAC_SP;
    iq_stValve.rAT_VAC_HYS := iq_stValve.rHYST_PERC * iq_stValve.rAT_VAC_SP;
END_IF

iq_stValve.rAT_VAC_HYS := LIMIT(0, iq_stValve.rAT_VAC_HYS, iq_stValve.rAT_VAC_SP);
IF iq_stValve.rAT_VAC_SP &lt;&gt; 0 THEN
    IF iq_stValve.rHYST_PERC &lt;&gt; (iq_stValve.rAT_VAC_HYS / iq_stValve.rAT_VAC_SP) THEN
        iq_stValve.rHYST_PERC := LIMIT(0, (iq_stValve.rAT_VAC_HYS / iq_stValve.rAT_VAC_SP) ,1);
    END_IF
END_IF
// Valve at vacuum check
///////////////////////////////////////////////////
    set := i_stUSG.rPRESS &lt; iq_stValve.rAT_VAC_HYS AND i_stDSG.rPRESS &lt; iq_stValve.rAT_VAC_HYS AND i_stUSG.xPRESS_OK AND i_stDSG.xPRESS_OK;
     iq_stValve.xAT_VAC S= set;
    reset := i_stUSG.rPRESS &gt; iq_stValve.rAT_VAC_SP OR i_stDSG.rPRESS &gt; iq_stValve.rAT_VAC_SP OR NOT i_stUSG.xPRESS_OK OR NOT i_stDSG.xPRESS_OK;
    iq_stValve.xAT_VAC R= reset;

// Differential pressure check
///////////////////////////////////////////////////
    (* Calc the differential pressure across the valve *)
    rDiffPress := ABS(i_stUSG.rPRESS - i_stDSG.rPRESS);

    (* As long as the differential pressure is less than 30mbar, the valve is allowed to open *)
    IF rDiffPress &lt;= rDiffPressAllowed AND i_stUSG.xPRESS_OK AND i_stDSG.xPRESS_OK THEN
        iq_stValve.xDP_OK := TRUE;
    ELSE
        iq_stValve.xDP_OK   := FALSE;
        (* If the differential pressure is exceeded, even when the valve is open,
        the state is unexpected and triggers a fault, because it suggests that something
        is wrong with the valve, or gauges or mapping or there is a major leak on one side.*)
        iq_stValve.eVGC_State := ERR_DiffPress;
        iq_stValve.xERR_DifPres := TRUE;
    END_IF

// Valve state
///////////////////////////////////////////////////
CASE iq_stValve.eVGC_State OF
    Vented: (* The Vented state is used during pump down *)
        (* Assuming the pump down went well, we are now at vacuum on both sides,
        so we move to the vacuum state, otherwise remain in the vented state *)
        IF iq_stValve.xAT_VAC AND (NOT (iq_stValve.xERR_DifPres)) AND (NOT (iq_stValve.xERR_SP)) AND (NOT (iq_stValve.xERR_ExtFault))THEN
            iq_stValve.eVGC_State := AtVacuum;
        ELSE
            iq_stValve.eVGC_State := Vented;
        END_IF

    AtVacuum:
        IF iq_stValve.xAT_VAC THEN
        (* If both pressure setpoints are made,
        then enable the differential pressure interlock, regardless of the valve state
        assuming we&#39;re using some kind of ion gauge where a pressure setpoint cannot be higher than 1E-4 T *)
        iq_stValve.eVGC_State := AtVacuum;

        ELSE

            (* If the valve is open (or in an unknown state) and either gauge is not at it&#39;s vacuum setpoint,
            we have a loss of vacuum error *)
            IF (iq_stValve.i_xOpnLS OR (NOT iq_stValve.i_xOpnLS AND NOT iq_stValve.i_xClsLS)) THEN
                iq_stValve.eVGC_State := ERR_LostVac;
                iq_stValve.xERR_SP := TRUE; //TAW changed this to the ERR_SP bool because I think that&#39;s what it was intended to be?

            (* Alternatively, if the valve is already closed and we lose pressure on one side,
            it was probably intentional venting, so we calmly move back to venting mode, and
            disable the differential pressure interlock *) //??
            ELSIF iq_stValve.i_xClsLS THEN
                iq_stValve.eVGC_State := Vented;
            END_IF

        END_IF

    ERR_DiffPress:
        IF NOT (iq_stValve.xERR_DifPres) THEN
            IF iq_stValve.xAT_VAC AND (NOT (iq_stValve.xERR_DifPres)) AND (NOT (iq_stValve.xERR_SP)) AND (NOT (iq_stValve.xERR_ExtFault))THEN
                iq_stValve.eVGC_State := AtVacuum;
            ELSE
                iq_stValve.eVGC_State := Vented;
            END_IF
        END_IF


    ERR_LostVac:
        IF NOT (iq_stValve.xERR_SP) THEN
            IF iq_stValve.xAT_VAC AND (NOT (iq_stValve.xERR_DifPres)) AND (NOT (iq_stValve.xERR_SP)) AND (NOT (iq_stValve.xERR_ExtFault))THEN
                iq_stValve.eVGC_State := AtVacuum;
            ELSE
                iq_stValve.eVGC_State := Vented;
            END_IF
        END_IF

    ERR_ExtFault:
        IF NOT (iq_stValve.xERR_ExtFault) AND (i_xExt_OK) THEN
            IF iq_stValve.xAT_VAC AND (NOT (iq_stValve.xERR_DifPres)) AND (NOT (iq_stValve.xERR_SP)) AND (NOT (iq_stValve.xERR_ExtFault))THEN
                iq_stValve.eVGC_State := AtVacuum;
            ELSE
                iq_stValve.eVGC_State := Vented;
            END_IF
        END_IF
END_CASE

IF (NOT i_xExt_OK) AND (iq_stValve.eState=OPEN)  THEN
    iq_stValve.eVGC_State := ERR_ExtFault;
    iq_stValve.xERR_ExtFault := TRUE;
END_IF

// Interlock evaluation - with bypass for DP ILK bypass
///////////////////////////////////////////////
IF i_xDis_DPIlk THEN
    iq_stValve.xOPN_OK := iq_stValve.xEXT_OK; // AND iq_stValve.xDP_OK ;
ELSE
    iq_stValve.xOPN_OK := iq_stValve.xEXT_OK AND iq_stValve.xAT_VAC;
END_IF


(* Valve operation *)

(* Override logic *)
(* Goal: give ability to override, but do so in a way that people won&#39;t forget it.
Solution: Override only after ten seconds of override, protect against blips,
when the valve permission goes true for more than ten seconds consistently, remove override
*)

tonDelOK(IN:=iq_stValve.xOPN_OK, PT:=tDelOK);
rtOK(CLK:=tonDelOK.Q);
IF rtOK.Q AND iq_stValve.pv_xOvrdOpn THEN
    iq_stValve.pv_xOvrdOpn :=FALSE;
    if (iq_stValve.eState = OPEN) AND (i_xOverrideMode) THEN iq_stValve.pv_xOPN_SW := TRUE; END_IF //for seamless transition
    //Log
    fbLogger(sMsg:=&#39;Override expired&#39;, eSevr:=TcEventSeverity.Warning);
END_IF
// Release the Force Open bit when the system override is false
IF NOT (i_xOverrideMode) THEN  iq_stValve.pv_xOvrdOpn :=FALSE; END_IF
//Override timer
tonOvrd(IN:=iq_stValve.pv_xOvrdOpn, PT:=tOvrd);


(* Valve operation *)
(* Here&#39;s where we evaluate sw actions and operate the valve *)
(* Valve operation *)

ftClose(CLK:= iq_stValve.pv_xOPN_SW);
rtOpen(CLK:= iq_stValve.pv_xOPN_SW);
(*when interlock is lost the Valve closes regardless of the status of the PMPS and EPS*)
IF NOT (iq_stValve.xOPN_OK) THEN
    iq_stValve.pv_xOPN_SW:= FALSE; // Reset switch after inlk is lost
    iq_stValve.q_xOPN_DO := (iq_stValve.pv_xOPN_SW  AND iq_stValve.xOPN_OK) OR (tonOvrd.Q AND i_xOverrideMode);
ELSIF i_xPMPS_OK THEN
    iq_stValve.q_xOPN_DO := (iq_stValve.pv_xOPN_SW  AND iq_stValve.xOPN_OK) OR (tonOvrd.Q AND i_xOverrideMode);
//ELSIF NOT (i_xPMPS_OK) THEN
    // Only override mode
//  iq_stValve.q_xOPN_DO := (tonOvrd.Q AND i_xOverrideMode);
END_IF


(*MPS Fault setting*)
If (i_xIsAperture ) THEN
    (* When the valve  is open or in Closed position MPS is OK, Fault while moving*)
    xMPS_OK := i_xOpnLS XOR i_xClsLS;
ELSE
    (* When the valve  is open MPS is OK*)
    xMPS_OK := i_xOpnLS AND NOT i_xClsLS AND q_xOPN_DO;
END_IF


///Check valve moving postion timout
IF NOT iq_stValve.i_xClsLS AND tCLStimeout.Q THEN
    iq_stValve.bErrorPresent := TRUE;
    iq_stValve.sErrorMessage := &#39;Close Timeout&#39;;
ELSIF NOT iq_stValve.i_xOpnLS AND tOPNtimeout.Q THEN
    iq_stValve.bErrorPresent := TRUE;
    iq_stValve.sErrorMessage := &#39;Open Timeout&#39;;
END_IF
IF (iq_stValve.eState=INVALID) THEN
    iq_stValve.bErrorPresent := TRUE;
    iq_stValve.sErrorMessage := CONCAT(sPath,&#39;Invalid Valve Position&#39;);
END_IF


(*Timers*)
tOPNtimeout(IN:= iq_stValve.q_xOPN_DO, PT := tTimeOutDuration );
tCLStimeout(IN:= NOT iq_stValve.q_xOPN_DO, PT := tTimeOutDuration);


// Alarm reset
//////////////////////////////////////
ACT_ResetAlarms();

(*IO Mapping*)
ACT_IO();

// Log States and triggers
ACT_Logger();

(*FAST FAULT*)
FFO(i_xOK := xMPS_OK,
    i_xReset := i_xReset,
    i_xAutoReset :=TRUE,
    io_fbFFHWO := io_fbFFHWO);

(*PMPS*)
ACT_PMPS();

END_FUNCTION_BLOCK

ACTION ACT_IO:
(*inputs*)
iq_stValve.i_xOpnLS :=      i_xOpnLS;
iq_stValve.i_xClsLS:=       i_xClsLS;
iq_stValve.xEXT_OK := i_xEXT_OK;
iq_stValve.xOverrideMode := i_xOverrideMode;
(*outputs*)
q_xOPN_DO:= iq_stValve.q_xOPN_DO;

(*ILK Devices*)
iq_stValve.sIlkUSDeviceName := This^.i_stUSG.sPath;
iq_stValve.sIlkDSDeviceName := This^.i_stDSG.sPath;
END_ACTION

ACTION ACT_Logger:
// ILK logger

IF NOT (iq_stValve.xOPN_OK) AND (ePrevState = OPEN) AND NOT (TonOvrd.Q) THEN
         fbLogger(sMsg:=&#39;Lost interlock ok bit while valve was open.&#39;, eSevr:=TcEventSeverity.Critical);
END_IF


//Positiong STATE Logger
IF ePrevState &lt;&gt; iq_stValve.eState THEN
      CASE iq_stValve.eState OF
        INVALID:
            fbLogger(sMsg:=&#39;Valve invalid position.&#39;, eSevr:=TcEventSeverity.Critical);
          MOVING:
            fbLogger(sMsg:=&#39;Valve moving&#39;, eSevr:=TcEventSeverity.Warning);
        OPEN:
            fbLogger(sMsg:=&#39;Valve Open.&#39;, eSevr:=TcEventSeverity.Info);
        OPEN_F:
            fbLogger(sMsg:=&#39;Valve Open.&#39;, eSevr:=TcEventSeverity.Info);
        CLOSED:
            fbLogger(sMsg:=&#39;Valve closed.&#39;, eSevr:=TcEventSeverity.Info);
      END_CASE
      ePrevState := iq_stValve.eState;
  END_IF

 //Pressure STATE Logger
IF eVGCPrevState &lt;&gt; iq_stValve.eVGC_State THEN
      CASE iq_stValve.eVGC_State OF
        Vented:
             fbLogger(sMsg:=&#39;Vented&#39;, eSevr:=TcEventSeverity.Info);
          AtVacuum:
             fbLogger(sMsg:=&#39;Vacuum setpoint satisfied&#39;, eSevr:=TcEventSeverity.Info);
        ERR_DiffPress:
             fbLogger(sMsg:=&#39;Potential accidental vent.&#39;, eSevr:=TcEventSeverity.Critical);
        ERR_LostVac:
            fbLogger(sMsg:=&#39;Unexpected loss of vacuum while valve was open or moving.&#39;, eSevr:=TcEventSeverity.Critical);
        ERR_ExtFault:
             fbLogger(sMsg:=&#39;Lost external interlock while valve was open.&#39;, eSevr:=TcEventSeverity.Critical);
      END_CASE
      eVGCPrevState := iq_stValve.eVGC_State;
  END_IF



// Log valve timeouts
tErrorPresent(CLK:=iq_stValve.bErrorPresent);
IF tErrorPresent.Q THEN fbLogger(sMsg:=iq_stValve.sErrorMessage, eSevr:=TcEventSeverity.Warning); END_IF

// Log valve open
tAction(CLK:= iq_stValve.q_xOPN_DO);
IF tAction.Q THEN fbLogger(sMsg:=&#39;Valve commanded open&#39;, eSevr:=TcEventSeverity.Info); END_IF

// Log override mode enabled
tOverrideActivated(CLK:= (tonOvrd.Q AND i_xOverrideMode));
IF tOverrideActivated.Q THEN fbLogger(sMsg:=&#39;Valve override mode activated&#39;, eSevr:=TcEventSeverity.Warning); END_IF
END_ACTION

ACTION ACT_PMPS:
bMoving := (iq_stValve.pv_xOPN_SW AND iq_stValve.i_xClsLS) XOR (NOT iq_stValve.pv_xOPN_SW AND i_xOpnLS);
bDone := (iq_stValve.pv_xOPN_SW AND iq_stValve.i_xOpnLS) XOR (NOT iq_stValve.pv_xOPN_SW AND i_xClsLS);
If (i_xIsAperture ) OR (iq_stValve.pv_xOPN_SW )THEN
    bptm.i_stRequestedAssertion := PMPS_GVL.cstFullBeam;
ELSE  bptm.i_stRequestedAssertion := PMPS_GVL.cst0RateBeam;
END_IF
bptm(fbArbiter:=fbArbiter,
     i_TransitionAssertionID:=i_nTransitionRootID+2,
     i_stTransitionAssertion:=PMPS_GVL.cst0RateBeam,
     i_nRequestedAssertionID:=i_nTransitionRootID+ BOOL_TO_UDINT( iq_stValve.pv_xOPN_SW),
     i_stRequestedAssertion:=,
     i_xMoving:=bMoving,
     i_xDoneMoving:= bDone,
     stCurrentBeamParameters:=PMPS_GVL.stCurrentBeamParameters,
     q_xTransitionAuthorized=&gt;);
// Timeout
tBPTMtimeout(IN:= bMoving AND NOT bptm.q_xTransitionAuthorized , PT:=T#1S);
i_xPMPS_OK := bptm.q_xTransitionAuthorized OR tBPTMtimeout.Q;
END_ACTION

ACTION ACT_ResetAlarms:
iq_stValve.xERR_DifPres R= iq_stValve.pv_xAlmRst;
iq_stValve.xERR_SP R= iq_stValve.pv_xAlmRst;
iq_stValve.bErrorPresent R= iq_stValve.pv_xAlmRst;
iq_stValve.xERR_ExtFault R= iq_stValve.pv_xAlmRst;

IF ( iq_stValve.pv_xAlmRst) THEN
    iq_stValve.sErrorMessage :=&#39;&#39;;
     iq_stValve.pv_xAlmRst := FALSE;
END_IF
END_ACTION

METHOD PUBLIC M_IsClosed : BOOL
VAR_INPUT
END_VAR
M_IsClosed := (This^.iq_stValve.eState = E_ValvePositionState.CLOSED);
END_METHOD

METHOD PUBLIC M_IsOpen : BOOL
VAR_INPUT
END_VAR
M_IsOpen := (This^.iq_stValve.eState = E_ValvePositionState.OPEN);
END_METHOD

// Use this Methode to Open or close the valve by setting the OPN_SW to the input value.
METHOD PUBLIC M_Set_OPN_SW : BOOL
VAR_INPUT
        value:BOOL;
END_VAR
This^.iq_stValve.pv_xOPN_SW := value;
END_METHOD
</pre></div>
</div>
</section>
<section id="main">
<h2>MAIN<a class="headerlink" href="#main" title="Permalink to this heading"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PROGRAM</span> <span class="n">MAIN</span>
<span class="n">VAR</span>
    <span class="n">iWatchdog</span><span class="p">:</span><span class="n">UDINT</span><span class="p">;</span><span class="o">//</span><span class="n">The</span> <span class="n">watchdog</span> <span class="n">variable</span> <span class="n">name</span> <span class="n">written</span> <span class="n">to</span> <span class="n">by</span> <span class="n">the</span> <span class="n">remote</span> <span class="n">plc</span>

    <span class="n">fbLogHandler</span><span class="p">:</span> <span class="n">FB_LogHandler</span><span class="p">;</span>
<span class="n">END_VAR</span>
<span class="p">(</span><span class="o">*</span><span class="n">Ethercat</span> <span class="n">Diagnostics</span><span class="o">*</span><span class="p">)</span>
<span class="o">//</span><span class="n">DIAGNOSTICS</span><span class="p">();</span>



<span class="p">(</span><span class="o">*</span> <span class="n">Call</span> <span class="nb">all</span> <span class="n">Programs</span><span class="o">*</span><span class="p">)</span>
<span class="n">PRG_ILK</span><span class="p">();</span>
<span class="n">PRG_GEM1_DIFF_PUMP</span><span class="p">();</span>
<span class="n">PRG_GEM2_DIFF_PUMP</span><span class="p">();</span>
<span class="n">PRG_ROOTS</span><span class="p">();</span>
<span class="n">PRG_GATT</span><span class="p">();</span>
<span class="n">PRG_GEM1</span><span class="p">();</span>
<span class="n">PRG_GEM2</span><span class="p">();</span>
<span class="n">PRG_SATT</span><span class="p">();</span>
<span class="n">PRG_PMPS</span><span class="p">();</span>
<span class="o">//</span><span class="n">Log</span> <span class="n">Handler</span>
<span class="n">fbLogHandler</span><span class="p">();</span>

<span class="n">END_PROGRAM</span>
</pre></div>
</div>
<dl class="simple">
<dt>Related:</dt><dd><ul class="simple">
<li><p><a class="reference internal" href="#diagnostics">DIAGNOSTICS</a></p></li>
<li><p><a class="reference internal" href="#prg-gatt">PRG_GATT</a></p></li>
<li><p><a class="reference internal" href="#prg-gem1">PRG_GEM1</a></p></li>
<li><p><a class="reference internal" href="#prg-gem1-diff-pump">PRG_GEM1_DIFF_PUMP</a></p></li>
<li><p><a class="reference internal" href="#prg-gem2">PRG_GEM2</a></p></li>
<li><p><a class="reference internal" href="#prg-gem2-diff-pump">PRG_GEM2_DIFF_PUMP</a></p></li>
<li><p><a class="reference internal" href="#prg-ilk">PRG_ILK</a></p></li>
<li><p><a class="reference internal" href="#prg-pmps">PRG_PMPS</a></p></li>
<li><p><a class="reference internal" href="#prg-roots">PRG_ROOTS</a></p></li>
<li><p><a class="reference internal" href="#prg-satt">PRG_SATT</a></p></li>
</ul>
</dd>
</dl>
</section>
<section id="prg-gatt">
<h2>PRG_GATT<a class="headerlink" href="#prg-gatt" title="Permalink to this heading"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PROGRAM</span> <span class="n">PRG_GATT</span>
<span class="n">VAR</span> <span class="n">CONSTANT</span>
        <span class="n">nDataTable_NumberOfRows</span> <span class="p">:</span> <span class="n">INT</span><span class="o">:=</span><span class="mi">9</span><span class="p">;</span>
<span class="n">END_VAR</span>
<span class="n">VAR</span>
    <span class="p">(</span><span class="o">*</span><span class="n">needle</span> <span class="n">valve</span> <span class="n">control</span> <span class="n">position</span><span class="o">*</span><span class="p">)</span>
    <span class="n">VCN_Req_Pos</span><span class="p">:</span> <span class="n">REAL</span><span class="p">;</span>

    <span class="n">fb_PID</span><span class="p">:</span> <span class="n">FB_BasicPID</span><span class="p">;</span>

    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: AT1L0:GAS:CNTRL:SP &#39;</span><span class="p">}</span>
    <span class="n">fSetpointValue</span> <span class="p">:</span> <span class="n">REAL</span><span class="o">:=</span><span class="mf">0.001</span><span class="p">;</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: AT1L0:GAS:CNTRL:Kp &#39;</span><span class="p">}</span>
    <span class="n">fKp</span> <span class="p">:</span> <span class="n">REAL</span><span class="o">:=</span> <span class="mf">1.1</span><span class="p">;</span>
    <span class="p">{</span><span class="n">attribute</span> <span class="s1">&#39;pytmc&#39;</span> <span class="o">:=</span><span class="s1">&#39; pv: AT1L0:GAS:CNTRL:Tn &#39;</span><span class="p">}</span>
    <span class="n">fTn</span> <span class="p">:</span> <span class="n">REAL</span><span class="o">:=</span> <span class="mf">0.5</span><span class="p">;</span>




    <span class="n">eMode</span>                                                   <span class="p">:</span> <span class="n">E_CTRL_MODE</span><span class="p">;</span>
    <span class="n">stCTRL_PID_PARAMS</span>               <span class="p">:</span> <span class="n">ST_CTRL_PID_PARAMS</span><span class="p">;</span>

    <span class="n">eErrorId</span>                                                <span class="p">:</span> <span class="n">E_CTRL_ERRORCODES</span><span class="p">;</span>
    <span class="n">bError</span>                                                  <span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>
    <span class="n">bARWactive</span>                                      <span class="p">:</span> <span class="n">BOOL</span><span class="p">;</span>

    <span class="p">(</span><span class="o">*</span> <span class="n">controller</span> <span class="o">*</span><span class="p">)</span>
    <span class="n">fbCTRL_PID</span>                                      <span class="p">:</span> <span class="n">FB_CTRL_PID</span><span class="p">;</span>
    <span class="n">bInit</span>                                                   <span class="p">:</span> <span class="n">BOOL</span>  <span class="o">:=</span> <span class="n">TRUE</span><span class="p">;</span>

    <span class="n">stCTRL_LIN_INTERPOLATION_PARAMS</span>         <span class="p">:</span> <span class="n">ST_CTRL_LIN_INTERPOLATION_PARAMS</span><span class="p">;</span>
    <span class="n">arrTable</span>                                                                                        <span class="p">:</span> <span class="n">ARRAY</span><span class="p">[</span><span class="mf">1.</span><span class="o">.</span><span class="n">nDataTable_NumberOfRows</span><span class="p">,</span><span class="mf">1..2</span><span class="p">]</span> <span class="n">OF</span> <span class="n">FLOAT</span><span class="p">;</span>

<span class="n">END_VAR</span>
<span class="p">(</span><span class="o">*</span><span class="n">Gauges</span><span class="o">*</span><span class="p">)</span>
<span class="n">GATT_GPI_10</span><span class="p">();</span>
<span class="n">GATT_GMP_10</span><span class="p">(</span><span class="n">i_rFULL_SCALE</span> <span class="o">:=</span> <span class="mf">2.0</span> <span class="p">(</span><span class="o">*</span><span class="n">Torr</span><span class="o">*</span><span class="p">));</span>
<span class="n">GATT_GMP_11</span><span class="p">();</span>

<span class="p">(</span><span class="o">*</span><span class="n">Valves</span><span class="o">*</span><span class="p">)</span>
<span class="p">(</span><span class="o">*</span><span class="n">Gas</span> <span class="n">Cell</span> <span class="n">vent</span> <span class="n">valve</span><span class="o">*</span><span class="p">)</span>
<span class="n">GATT_VRC_10</span><span class="p">(</span><span class="n">i_xExtILK_OK</span><span class="o">:=</span> <span class="n">GEM2_VGC_70</span><span class="o">.</span><span class="n">iq_stValve</span><span class="o">.</span><span class="n">i_xClsLS</span> <span class="n">AND</span> <span class="n">DSV_VGC</span><span class="o">.</span><span class="n">VGC</span><span class="o">.</span><span class="n">i_xClsLS</span> <span class="n">AND</span> <span class="n">GEM1_Turbo_Valves_Closed</span> <span class="n">AND</span> <span class="n">GEM2_Turbo_Valves_Closed</span> <span class="n">AND</span> <span class="n">TwinscrewPumps_Valves_Closed</span><span class="p">,</span> <span class="n">i_xOverrideMode</span> <span class="o">:=</span> <span class="n">xGATTOverrideMode</span><span class="p">);</span>

<span class="p">(</span><span class="o">*</span> <span class="n">N2</span> <span class="n">Cutt</span> <span class="n">off</span> <span class="n">valve</span><span class="o">*</span><span class="p">)</span>
<span class="n">GATT_VVC_10</span><span class="p">(</span><span class="n">i_xExtILK_OK</span> <span class="o">:=</span> <span class="n">GEM1_Aperture_Closed</span> <span class="n">AND</span> <span class="n">GEM1_Turbo_Valves_Open</span> <span class="n">AND</span> <span class="n">GEM1_Turbo_Running</span> <span class="n">AND</span> <span class="n">GEM2_Aperture_Closed</span> <span class="n">AND</span> <span class="n">GEM2_Turbo_Valves_Open</span> <span class="n">AND</span> <span class="n">GEM2_Turbo_Running</span> <span class="n">AND</span> <span class="n">GEM1_TwinscrewPumps_Valves_Open</span> <span class="n">AND</span> <span class="n">GEM2_TwinscrewPumps_Valves_Open</span><span class="p">);</span>

<span class="n">END_PROGRAM</span>
</pre></div>
</div>
</section>
<section id="prg-gem1">
<h2>PRG_GEM1<a class="headerlink" href="#prg-gem1" title="Permalink to this heading"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>PROGRAM PRG_GEM1
VAR
    {attribute &#39;pytmc&#39; :=&#39; pv: EM1L0:GEM:CNTRL:RESET;
     field: ZNAM FALSE;
     field: ONAM TRUE;
     io: io;
    &#39;}
    bReset : BOOL;
    {attribute &#39;pytmc&#39; :=&#39; pv: EM1L0:GEM:CNTRL:ERROR;
     field: ZNAM FALSE;
     field: ONAM TRUE;
     io: io;
    &#39;}
    bError : BOOL;
    {attribute &#39;pytmc&#39; :=&#39; pv: EM1L0:GEM:CNTRL:Kp1 &#39;}
    fKp1 : REAL:= 0.4;
    {attribute &#39;pytmc&#39; :=&#39; pv: EM1L0:GEM:CNTRL:Tn1 &#39;}
    fTn1 : REAL:= 0.5;
    {attribute &#39;pytmc&#39; :=&#39; pv: EM1L0:GEM:CNTRL:Kp2 &#39;}
    fKp2 : REAL:= 0.01;
    {attribute &#39;pytmc&#39; :=&#39; pv: EM1L0:GEM:CNTRL:Tn2 &#39;}
    fTn2 : REAL:= 0.5;
    arrTable_GEM1   : ARRAY[1..30,1..2] OF FLOAT;
    fManValue                                                                                       : FLOAT;
    bExtrapolate                                                                            : BOOL;
    eMode                                                   : E_CTRL_MODE;
    stCTRL_PID_PARAMS               : ST_CTRL_PID_PARAMS;
    bSync                                                   : BOOL;
    bHold                                                   : BOOL;
    eErrorId                                                : E_CTRL_ERRORCODES;
    bARWactive                                      : BOOL;
    (* controller *)
    fbCTRL_PID                                      : FB_CTRL_PID;
    bInit                                                   : BOOL  := TRUE;
    fbCTRL_LIN_INTERPOLATION                                        : FB_CTRL_LIN_INTERPOLATION;
    //stCTRL_LIN_INTERPOLATION_PARAMS               : ST_CTRL_LIN_INTERPOLATION_PARAMS;
    stCTRL_LIN_INTERPOLATION_PARAMS_GEM     : ST_CTRL_LIN_INTERPOLATION_PARAMS;
    fbCTRL_DEADBAND                                         : FB_CTRL_DEADBAND;
    stCTRL_DEADBAND_PARAMS                  : ST_CTRL_DEADBAND_PARAMS;
        //timer to switch the pid from manual to active 5seconds??? 10 seconds???
    pid_on :TON;
    wait : time := T#10S;
FTrig: F_TRIG;


END_VAR
(*Devices*)
(* GEM 1*)
(*Gauges*)
GEM1_GCM_41(i_rFULL_SCALE := 10.0 (*Torr*));
GEM1_GCM_42(i_rFULL_SCALE := 0.05 (*Torr*));
(*Assign reading to psuedo gauge*)
IF (GEM1_GCM_42.PG.rPRESS &gt;=0.049) THEN GEM1_GCM_40 := GEM1_GCM_41.PG;
    ELSE
    GEM1_GCM_40 := GEM1_GCM_42.PG;
END_IF
(* Gauge selection *)
fbCTRL_PID.fActualValue := GEM1_GCM_40.rPRESS;
(*
IF (fGEM1SetpointValue &gt;=0.049) THEN
    fbCTRL_PID.fActualValue := GEM1_GCM_41.PG.rPRESS;
ELSE
    fbCTRL_PID.fActualValue := GEM1_GCM_42.PG.rPRESS;
END_IF*)


(* N2 Cut Off Valves *)
GEM1_VVC_40(i_xExtILK_OK:= GEM1_Aperture_Closed AND GEM1_Turbo_Valves_Open AND GEM1_Turbo_Running);

(*Flow Control Valves*)
GEM1_VCN_40 (i_xExtIlkOK := (GEM1_Aperture_Closed AND GEM1_Turbo_Valves_Open AND GEM1_Turbo_Running),// AND  GEM1_VVC_40.M_IsOpen()),
             i_ReqPos:= fbCTRL_LIN_INTERPOLATION.fOut + fbCTRL_PID.fOut);
//GEM1_VPC_42 (i_xExtIlkOK := TRUE, i_rReqPos:= );



(*Iniitialization*)
IF bInit
THEN


    (* init array with the interpolation points  *)
    (*      fIn                                      |              fOut            *)
    arrTable_GEM1[1,1] := 0;                arrTable_GEM1[1,2] := 23.8;
    arrTable_GEM1[2,1] := 0.00178;          arrTable_GEM1[2,2] := 23.9;
    arrTable_GEM1[3,1] := 0.0025;           arrTable_GEM1[3,2] := 24;
    arrTable_GEM1[4,1] :=  0.005884;            arrTable_GEM1[4,2] := 25;
    arrTable_GEM1[5,1] :=  0.085;       arrTable_GEM1[5,2] := 35;
    arrTable_GEM1[6,1] := 0.1263;           arrTable_GEM1[6,2] := 40;
    arrTable_GEM1[7,1] := 0.1626;           arrTable_GEM1[7,2] := 42;
    arrTable_GEM1[8,1] := 0.19;         arrTable_GEM1[8,2] := 44;
    arrTable_GEM1[9,1] := 0.234;        arrTable_GEM1[9,2] := 46;
    arrTable_GEM1[10,1] := 0.32;            arrTable_GEM1[10,2] := 50;
    arrTable_GEM1[11,1] := 0.370;           arrTable_GEM1[11,2] := 52;
    arrTable_GEM1[12,1] := 0.43427;         arrTable_GEM1[12,2] := 54;
    arrTable_GEM1[13,1] := 0.5316;          arrTable_GEM1[13,2] := 55;
    arrTable_GEM1[14,1] := 0.61;            arrTable_GEM1[14,2] := 55.5;
    arrTable_GEM1[15,1] := 0.894;           arrTable_GEM1[15,2] := 56;
    arrTable_GEM1[16,1] := 1.215;           arrTable_GEM1[16,2] := 56.5;
    arrTable_GEM1[17,1] := 1.58;            arrTable_GEM1[17,2] := 57;
    arrTable_GEM1[18,1] := 2.025;       arrTable_GEM1[18,2] := 58;
    arrTable_GEM1[19,1] := 2.2;         arrTable_GEM1[19,2] :=58.1;
    arrTable_GEM1[20,1] := 2.9;             arrTable_GEM1[20,2] := 65;
    arrTable_GEM1[21,1] := 3;               arrTable_GEM1[21,2] := 69;
    arrTable_GEM1[22,1] :=  3.0448;     arrTable_GEM1[22,2] := 70;
    arrTable_GEM1[23,1] :=  3.31919;            arrTable_GEM1[23,2] := 72;
    arrTable_GEM1[24,1] :=3.324;            arrTable_GEM1[24,2] := 73.04;
    arrTable_GEM1[25,1] :=3.71941;          arrTable_GEM1[25,2] := 73.64;
    arrTable_GEM1[26,1] := 3.81941;         arrTable_GEM1[26,2] := 74.45;
    arrTable_GEM1[27,1] :=  3.963194;               arrTable_GEM1[27,2] :=74.46;
    arrTable_GEM1[28,1] := 3.99999; arrTable_GEM1[28,2] := 75;
    arrTable_GEM1[29,1] :=  4;              arrTable_GEM1[29,2] :=75.5;
    arrTable_GEM1[30,1] := 4.1;     arrTable_GEM1[30,2] := 75.505;

    (* init parameter struct *)
    stCTRL_LIN_INTERPOLATION_PARAMS_GEM.tCtrlCycleTime                                      := T#10ms;
    stCTRL_LIN_INTERPOLATION_PARAMS_GEM.tTaskCycleTime                                      := T#10ms;
    stCTRL_LIN_INTERPOLATION_PARAMS_GEM.nDataTable_NumberOfRows             := INT_TO_UINT(30);


    (* init parameter struct *)
    stCTRL_PID_PARAMS.tCtrlCycleTime                := T#10ms;
    stCTRL_PID_PARAMS.tTaskCycleTime                := T#10ms;
    stCTRL_PID_PARAMS.fKp                                   := fKp1;                        (* proportional gain Kp                         *)
    stCTRL_PID_PARAMS.tTn                                   := T#1s;                (*  Tn                                                                  *)
    stCTRL_PID_PARAMS.tTv                                   := T#200ms;     (*  Tv                                                                  *)
    stCTRL_PID_PARAMS.tTd                                   := T#200ms;     (*  Td                                                                  *)
    stCTRL_PID_PARAMS.fOutMaxLimit                  :=  5;                  (* maximum output limit                         *)
    stCTRL_PID_PARAMS.fOutMinLimit                  :=  -100;                       (* minimum output limit                         *)

    (* set the mode to ACTIVE --&gt; normal operation *)
    eMode                                                   := eCTRL_MODE_PASSIVE    ;
    (* reset the init flag *)
    bInit                                                   := FALSE;
END_IF
(* set the addresses *)
stCTRL_LIN_INTERPOLATION_PARAMS_GEM.pDataTable_ADR                  := ADR(arrTable_GEM1);
stCTRL_LIN_INTERPOLATION_PARAMS_GEM.nDataTable_SIZEOF               := SIZEOF(arrTable_GEM1);


fGEM1SetpointValue:= LIMIT(0,fGEM1SetpointValue,2);
if (NOT (GEM1_VVC_40.i_xExtILK_OK) OR (GEM1_VVC_40.M_IsClosed())) THEN
        eMode                       :=eCTRL_MODE_PASSIVE;// eCTRL_MODE_RESET ;//eCTRL_MODE_PASSIVE;
        GEM1_VCN_40.M_ValveControl(CloseValve);
        fGEM1SetpointValue :=0;
 END_IF //Switch off the PID incase of interlock
if (GEM1_GO) THEN
    IF (bReset) THEN
        (* set the mode to RESET*)
        eMode                                                       := eCTRL_MODE_RESET   ;
        stCTRL_PID_PARAMS.fKp                                       := fKp1;                        (* proportional gain Kp                         *)
        GEM1_VCN_40.M_ValveControl(CloseValve);
        //bReset := False;
    ELSE(* set the mode to ACTIVE --&gt; normal operation *)
        fbCTRL_PID.bSync := FALSE;
        eMode                                                       := eCTRL_MODE_ACTIVE   ;
        GEM1_VCN_40.M_ValveControl(PressureControl);
    END_IF
END_IF

If(FTrig.Q)THEN
        eMode                                                       :=eCTRL_MODE_PASSIVE;// eCTRL_MODE_RESET ;//eCTRL_MODE_PASSIVE;
        fbCTRL_PID.fManSyncValue :=0;
        fbCTRL_PID.bSync := TRUE;
        GEM1_VCN_40.M_ValveControl(CloseValve);
        fGEM1SetpointValue :=0;
END_IF


fbCTRL_LIN_INTERPOLATION(
    fIn:= fGEM1SetpointValue ,
    fManValue:= fManValue,
    bExtrapolate:= bExtrapolate,
    eMode:= eMode,
    fOut=&gt; ,
    bInIsGreaterThanMaxElement=&gt; ,
    bInIsLessThanMinElement=&gt; ,
    eState=&gt; ,
    eErrorId=&gt; ,
    bError=&gt; ,
    stParams:= stCTRL_LIN_INTERPOLATION_PARAMS_GEM );



(* call controller *)
fbCTRL_PID(         fSetpointValue          := fGEM1SetpointValue,
                    fActualValue            := ,
                    fManSyncValue   := ,
                    bSync                           := bSync,
                    eMode                           := eMode,
                    bHold                           := bHold,
                    stParams                        := stCTRL_PID_PARAMS,
                    fOut                            =&gt;  ,
                    bARWactive              =&gt; bARWactive,
                    eErrorId                        =&gt; eErrorId,
                    bError                          =&gt;
                );



(*deadband/clipper *)

(* call function block *)
stCTRL_DEADBAND_PARAMS.fThreshold   :=  fGEM1SetpointValue*0.0016 ;
(*fbCTRL_DEADBAND   (       fIn                                     := ,
                    stParams                        := stCTRL_DEADBAND_PARAMS,
                    bInIsUnderThreshold =&gt; ,
                    eErrorId                        =&gt; ,
                    bError                          =&gt;
                );*)

bError := fbCTRL_PID.bError OR fbCTRL_LIN_INTERPOLATION.bError;


// or NOT???

//stCTRL_PID_PARAMS.bDInTheFeedbackPath := fbCTRL_DEADBAND.bInIsUnderThreshold;


//timer
//pid_on(IN:=, PT:= wait, Q=&gt;, ET =&gt;);
//IF (pid_on.Q) THEN eMode:= eCTRL_MODE_ACTIVE; pid_on.IN := FALSE; END_IF; //eCTRL_MODE_TUNE????

FTRIG(CLK := GEM1_GO);

END_PROGRAM
</pre></div>
</div>
</section>
<section id="prg-gem1-diff-pump">
<h2>PRG_GEM1_DIFF_PUMP<a class="headerlink" href="#prg-gem1-diff-pump" title="Permalink to this heading"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PROGRAM</span> <span class="n">PRG_GEM1_DIFF_PUMP</span>
<span class="n">VAR</span>
    <span class="n">rMaxBackingPressure</span> <span class="p">:</span> <span class="n">REAL</span> <span class="o">:=</span> <span class="mf">0.7</span><span class="p">;</span><span class="o">//</span><span class="n">Torr</span>
    <span class="n">bInit</span><span class="p">:</span><span class="n">BOOL</span><span class="o">:=</span><span class="n">TRUE</span><span class="p">;</span>

<span class="n">END_VAR</span>
<span class="n">If</span> <span class="p">(</span><span class="n">bInit</span><span class="p">)</span> <span class="n">THEN</span>
    <span class="n">bInit</span> <span class="o">:=</span> <span class="n">FALSE</span><span class="p">;</span>
    <span class="o">//</span><span class="n">GEM1_PTM_10</span><span class="o">.</span><span class="n">M_SetPowerScale</span><span class="p">(</span><span class="mi">15</span><span class="p">);</span>
    <span class="o">//</span><span class="n">GEM1_PTM_20</span><span class="o">.</span><span class="n">M_SetPowerScale</span><span class="p">(</span><span class="mi">15</span><span class="p">);</span>
<span class="n">END_IF</span>

<span class="p">(</span><span class="o">*</span><span class="n">Gauges</span><span class="o">*</span><span class="p">)</span>
<span class="n">USG_PIN</span><span class="p">(</span><span class="n">sNetId</span><span class="o">:=</span><span class="s1">&#39;172.21.88.138.1.1&#39;</span> <span class="p">,</span> <span class="n">nPort</span><span class="o">:=</span><span class="mi">851</span> <span class="p">,</span> <span class="n">sVarName</span><span class="o">:=</span><span class="s1">&#39;GVL_Devices.SL1L0_POWER_PIN_01&#39;</span><span class="p">,</span><span class="n">iWatchdog</span><span class="o">:=</span><span class="n">Main</span><span class="o">.</span><span class="n">iWatchdog</span><span class="p">,</span><span class="n">IG</span><span class="o">=&gt;</span> <span class="p">);</span>
<span class="n">USG_GCC</span><span class="p">(</span><span class="n">sNetId</span><span class="o">:=</span><span class="s1">&#39;172.21.88.138.1.1&#39;</span> <span class="p">,</span> <span class="n">nPort</span><span class="o">:=</span><span class="mi">851</span> <span class="p">,</span> <span class="n">sVarName</span><span class="o">:=</span><span class="s1">&#39;GVL_Devices.SL1L0_POWER_GCC_01&#39;</span><span class="p">,</span><span class="n">iWatchdog</span><span class="o">:=</span><span class="n">Main</span><span class="o">.</span><span class="n">iWatchdog</span><span class="p">,</span><span class="n">IG</span><span class="o">=&gt;</span> <span class="p">);</span>

<span class="n">GEM1_GPI_10</span><span class="p">(</span><span class="n">PG</span><span class="o">=&gt;</span><span class="p">);</span>
<span class="n">GEM1_GCC_10</span><span class="p">(</span><span class="n">PG</span><span class="o">:=</span><span class="n">GEM1_GPI_10</span><span class="o">.</span><span class="n">PG</span><span class="p">,</span><span class="n">IG</span><span class="o">=&gt;</span><span class="p">);</span>
<span class="n">GEM1_GPI_20</span><span class="p">(</span><span class="n">PG</span><span class="o">=&gt;</span><span class="p">);</span>
<span class="n">GEM1_GCC_20</span><span class="p">(</span><span class="n">PG</span><span class="o">:=</span><span class="n">GEM1_GPI_20</span><span class="o">.</span><span class="n">PG</span><span class="p">,</span><span class="n">IG</span><span class="o">=&gt;</span><span class="p">);</span>
<span class="n">GEM1_GPI_30</span><span class="p">(</span><span class="n">PG</span><span class="o">=&gt;</span><span class="p">);</span>
<span class="n">GEM1_GCC_30</span><span class="p">(</span><span class="n">PG</span><span class="o">:=</span><span class="n">GEM1_GPI_30</span><span class="o">.</span><span class="n">PG</span><span class="p">,</span><span class="n">IG</span><span class="o">=&gt;</span><span class="p">);</span>
<span class="n">GEM1_GPI_50</span><span class="p">(</span><span class="n">PG</span><span class="o">=&gt;</span><span class="p">);</span>
<span class="n">GEM1_GCC_50</span><span class="p">(</span><span class="n">PG</span><span class="o">:=</span><span class="n">GEM1_GPI_50</span><span class="o">.</span><span class="n">PG</span><span class="p">,</span><span class="n">IG</span><span class="o">=&gt;</span><span class="p">);</span>
<span class="n">GEM1_GPI_11</span><span class="p">(</span><span class="n">PG</span><span class="o">=&gt;</span><span class="p">);</span>
<span class="n">GEM1_GPI_31</span><span class="p">(</span><span class="n">PG</span><span class="o">=&gt;</span><span class="p">);</span>
<span class="n">GEM1_GPI_51</span><span class="p">(</span><span class="n">PG</span><span class="o">=&gt;</span><span class="p">);</span>

<span class="p">(</span><span class="o">*</span><span class="n">VALVES</span><span class="o">*</span><span class="p">)</span>
<span class="p">(</span><span class="o">*</span><span class="n">Aperture</span> <span class="n">valve</span> <span class="n">may</span> <span class="nb">open</span> <span class="n">when</span> <span class="n">Detector</span> <span class="ow">and</span> <span class="n">Attenuator</span> <span class="n">N2</span> <span class="n">valves</span> <span class="n">are</span> <span class="n">closed</span><span class="o">.</span> <span class="n">Override</span> <span class="n">provided</span> <span class="o">*</span><span class="p">)</span>
 <span class="p">(</span><span class="o">*</span> <span class="n">to</span> <span class="n">Include</span> <span class="n">PMPS</span> <span class="n">ILK</span> <span class="k">with</span> <span class="n">the</span> <span class="n">EXTILK</span> <span class="n">bit</span><span class="o">*</span><span class="p">)</span>
<span class="p">(</span><span class="o">*</span><span class="n">apperture</span> <span class="n">valves</span><span class="o">*</span><span class="p">)</span>

<span class="n">GEM1_VGC_10</span><span class="p">(</span><span class="n">i_stUSG</span> <span class="o">:=</span> <span class="n">USG_GCC</span><span class="o">.</span><span class="n">IG</span><span class="p">,</span> <span class="n">i_stDSG</span><span class="o">:=</span> <span class="n">GEM1_GCC_10</span><span class="o">.</span><span class="n">IG</span><span class="p">,</span><span class="n">i_xDis_DPIlk</span> <span class="o">:=</span> <span class="n">FALSE</span><span class="p">,</span> <span class="n">i_xEPS_OK</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span>
        <span class="n">i_xPMPS_OK</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span> <span class="n">i_xExt_OK</span> <span class="o">:=</span> <span class="n">NOT</span> <span class="p">(</span><span class="n">USG_GCC</span><span class="o">.</span><span class="n">bError</span><span class="p">),</span> <span class="n">i_xOverrideMode</span> <span class="o">:=</span> <span class="n">xGEM1OverrideMode</span><span class="p">,</span><span class="n">i_xReset</span> <span class="o">:=</span> <span class="p">,</span>
        <span class="n">io_fbFFHWO</span> <span class="o">:=</span><span class="n">g_FastFaultOutput1</span><span class="p">,</span><span class="n">i_sDevName</span><span class="o">:=</span> <span class="s1">&#39;EM1L0:GEM:VGC:10&#39;</span><span class="p">,</span><span class="n">fbArbiter</span><span class="o">:=</span><span class="n">g_fbArbiter</span><span class="p">,</span><span class="n">i_nTransitionRootID</span><span class="o">:=</span><span class="mi">1100</span><span class="p">);</span>
<span class="n">GEM1_VGC_20</span><span class="p">(</span><span class="n">i_stUSG</span> <span class="o">:=</span> <span class="n">GEM1_GCC_10</span><span class="o">.</span><span class="n">IG</span><span class="p">,</span> <span class="n">i_stDSG</span><span class="o">:=</span> <span class="n">GEM1_GCC_20</span><span class="o">.</span><span class="n">IG</span><span class="p">,</span><span class="n">i_xDis_DPIlk</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span> <span class="n">i_xEPS_OK</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span>
        <span class="n">i_xPMPS_OK</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span> <span class="n">i_xExt_OK</span> <span class="o">:=</span> <span class="n">xGEM1_AperturesOpnOK</span><span class="p">,</span> <span class="n">i_xOverrideMode</span> <span class="o">:=</span> <span class="n">xGEM1OverrideMode</span><span class="p">,</span><span class="n">i_xReset</span> <span class="o">:=</span> <span class="p">,</span> <span class="n">i_xIsAperture</span><span class="o">:=</span> <span class="n">TRUE</span> <span class="p">,</span>
        <span class="n">io_fbFFHWO</span> <span class="o">:=</span><span class="n">g_FastFaultOutput1</span><span class="p">,</span><span class="n">i_sDevName</span><span class="o">:=</span> <span class="s1">&#39;EM1L0:GEM:VGC:20&#39;</span><span class="p">,</span><span class="n">fbArbiter</span><span class="o">:=</span><span class="n">g_fbArbiter</span><span class="p">,</span><span class="n">i_nTransitionRootID</span><span class="o">:=</span><span class="mi">1200</span><span class="p">);</span>
<span class="n">GEM1_VGC_30</span><span class="p">(</span><span class="n">i_stUSG</span> <span class="o">:=</span> <span class="n">GEM1_GCC_20</span><span class="o">.</span><span class="n">IG</span><span class="p">,</span> <span class="n">i_stDSG</span><span class="o">:=</span> <span class="n">GEM1_GCC_30</span><span class="o">.</span><span class="n">IG</span><span class="p">,</span><span class="n">i_xDis_DPIlk</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span> <span class="n">i_xEPS_OK</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span>
        <span class="n">i_xPMPS_OK</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span> <span class="n">i_xExt_OK</span> <span class="o">:=</span> <span class="n">xGEM1_AperturesOpnOK</span><span class="p">,</span> <span class="n">i_xOverrideMode</span> <span class="o">:=</span> <span class="n">xGEM1OverrideMode</span><span class="p">,</span><span class="n">i_xReset</span> <span class="o">:=</span> <span class="p">,</span> <span class="n">i_xIsAperture</span><span class="o">:=</span> <span class="n">TRUE</span> <span class="p">,</span>
        <span class="n">io_fbFFHWO</span> <span class="o">:=</span><span class="n">g_FastFaultOutput1</span><span class="p">,</span><span class="n">i_sDevName</span><span class="o">:=</span> <span class="s1">&#39;EM1L0:GEM:VGC:30&#39;</span><span class="p">,</span><span class="n">fbArbiter</span><span class="o">:=</span><span class="n">g_fbArbiter</span><span class="p">,</span><span class="n">i_nTransitionRootID</span><span class="o">:=</span><span class="mi">1300</span><span class="p">);</span>
<span class="n">GEM1_VGC_40</span><span class="p">(</span><span class="n">i_stUSG</span> <span class="o">:=</span> <span class="n">GEM1_GCC_30</span><span class="o">.</span><span class="n">IG</span><span class="p">,</span> <span class="n">i_stDSG</span><span class="o">:=</span> <span class="n">GEM1_GCC_30</span><span class="o">.</span><span class="n">IG</span><span class="p">,</span><span class="n">i_xDis_DPIlk</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span> <span class="n">i_xEPS_OK</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span>
        <span class="n">i_xPMPS_OK</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span> <span class="n">i_xExt_OK</span> <span class="o">:=</span> <span class="n">xGEM1_AperturesOpnOK</span><span class="p">,</span> <span class="n">i_xOverrideMode</span> <span class="o">:=</span> <span class="n">xGEM1OverrideMode</span><span class="p">,</span><span class="n">i_xReset</span> <span class="o">:=</span> <span class="p">,</span> <span class="n">i_xIsAperture</span><span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span>
        <span class="n">io_fbFFHWO</span> <span class="o">:=</span><span class="n">g_FastFaultOutput1</span><span class="p">,</span><span class="n">i_sDevName</span><span class="o">:=</span> <span class="s1">&#39;EM1L0:GEM:VGC:40&#39;</span><span class="p">,</span><span class="n">fbArbiter</span><span class="o">:=</span><span class="n">g_fbArbiter</span><span class="p">,</span><span class="n">i_nTransitionRootID</span><span class="o">:=</span><span class="mi">1400</span><span class="p">);</span>
<span class="n">GEM1_VGC_50</span><span class="p">(</span><span class="n">i_stUSG</span> <span class="o">:=</span> <span class="n">GEM1_GCC_50</span><span class="o">.</span><span class="n">IG</span><span class="p">,</span> <span class="n">i_stDSG</span><span class="o">:=</span> <span class="n">GEM1_GCC_50</span><span class="o">.</span><span class="n">IG</span><span class="p">,</span><span class="n">i_xDis_DPIlk</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span> <span class="n">i_xEPS_OK</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span>
        <span class="n">i_xPMPS_OK</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span> <span class="n">i_xExt_OK</span> <span class="o">:=</span> <span class="n">xGEM1_AperturesOpnOK</span><span class="p">,</span> <span class="n">i_xOverrideMode</span> <span class="o">:=</span> <span class="n">xGEM1OverrideMode</span><span class="p">,</span><span class="n">i_xReset</span> <span class="o">:=</span> <span class="p">,</span> <span class="n">i_xIsAperture</span><span class="o">:=</span> <span class="n">TRUE</span> <span class="p">,</span>
        <span class="n">io_fbFFHWO</span> <span class="o">:=</span><span class="n">g_FastFaultOutput1</span><span class="p">,</span><span class="n">i_sDevName</span><span class="o">:=</span> <span class="s1">&#39;EM1L0:GEM:VGC:50&#39;</span><span class="p">,</span><span class="n">fbArbiter</span><span class="o">:=</span><span class="n">g_fbArbiter</span><span class="p">,</span><span class="n">i_nTransitionRootID</span><span class="o">:=</span><span class="mi">1500</span><span class="p">);</span>
<span class="n">GEM1_VGC_60</span><span class="p">(</span><span class="n">i_stUSG</span> <span class="o">:=</span> <span class="n">GEM1_GCC_50</span><span class="o">.</span><span class="n">IG</span><span class="p">,</span> <span class="n">i_stDSG</span><span class="o">:=</span> <span class="n">GEM1_GCC_50</span><span class="o">.</span><span class="n">IG</span><span class="p">,</span><span class="n">i_xDis_DPIlk</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span> <span class="n">i_xEPS_OK</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span>
        <span class="n">i_xPMPS_OK</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span> <span class="n">i_xExt_OK</span> <span class="o">:=</span> <span class="n">xGEM1_AperturesOpnOK</span><span class="p">,</span> <span class="n">i_xOverrideMode</span> <span class="o">:=</span> <span class="n">xGEM1OverrideMode</span><span class="p">,</span><span class="n">i_xReset</span> <span class="o">:=</span> <span class="p">,</span> <span class="n">i_xIsAperture</span><span class="o">:=</span> <span class="n">TRUE</span> <span class="p">,</span>
        <span class="n">io_fbFFHWO</span> <span class="o">:=</span><span class="n">g_FastFaultOutput1</span><span class="p">,</span><span class="n">i_sDevName</span><span class="o">:=</span> <span class="s1">&#39;EM1L0:GEM:VGC:60&#39;</span><span class="p">,</span><span class="n">fbArbiter</span><span class="o">:=</span><span class="n">g_fbArbiter</span><span class="p">,</span><span class="n">i_nTransitionRootID</span><span class="o">:=</span><span class="mi">1600</span><span class="p">);</span>
<span class="n">GEM1_VGC_70</span><span class="p">(</span><span class="n">i_stUSG</span> <span class="o">:=</span> <span class="n">GEM1_GCC_50</span><span class="o">.</span><span class="n">IG</span><span class="p">,</span> <span class="n">i_stDSG</span><span class="o">:=</span> <span class="n">GEM1_GCC_50</span><span class="o">.</span><span class="n">IG</span><span class="p">,</span><span class="n">i_xDis_DPIlk</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span> <span class="n">i_xEPS_OK</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span>
        <span class="n">i_xPMPS_OK</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span> <span class="n">i_xExt_OK</span> <span class="o">:=</span> <span class="n">xGEM1_AperturesOpnOK</span><span class="p">,</span> <span class="n">i_xOverrideMode</span> <span class="o">:=</span> <span class="n">xGEM1OverrideMode</span><span class="p">,</span><span class="n">i_xReset</span> <span class="o">:=</span> <span class="p">,</span> <span class="n">i_xIsAperture</span><span class="o">:=</span> <span class="n">TRUE</span> <span class="p">,</span>
        <span class="n">io_fbFFHWO</span><span class="o">:=</span><span class="n">g_FastFaultOutput1</span><span class="p">,</span><span class="n">i_sDevName</span><span class="o">:=</span> <span class="s1">&#39;EM1L0:GEM:VGC:70&#39;</span><span class="p">,</span><span class="n">fbArbiter</span><span class="o">:=</span><span class="n">g_fbArbiter</span><span class="p">,</span><span class="n">i_nTransitionRootID</span><span class="o">:=</span><span class="mi">1700</span><span class="p">);</span>

<span class="p">(</span><span class="o">*</span><span class="n">Turbo</span> <span class="n">Isolation</span> <span class="n">Valves</span><span class="o">*</span><span class="p">)</span>
 <span class="n">GEM1_VRC_10</span><span class="p">(</span><span class="n">i_xExtILK_OK</span> <span class="o">:=</span> <span class="n">F_TurboGateValve_ILK</span><span class="p">(</span><span class="n">GEM1_PTM_10</span><span class="o">.</span><span class="n">iq_stPtm</span><span class="p">,</span><span class="n">GEM1_GPI_10</span><span class="o">.</span><span class="n">PG</span><span class="p">)</span> <span class="n">AND</span> <span class="n">GEM1_PTM_10</span><span class="o">.</span><span class="n">iq_stPtm</span><span class="o">.</span><span class="n">eState</span> <span class="o">=</span> <span class="n">pumpRUNNING</span> <span class="p">,</span><span class="n">i_xOverrideMode</span> <span class="o">:=</span> <span class="n">xGEM1OverrideMode</span><span class="p">);</span>
 <span class="n">GEM1_VRC_20</span><span class="p">(</span><span class="n">i_xExtILK_OK</span> <span class="o">:=</span> <span class="n">F_TurboGateValve_ILK</span><span class="p">(</span><span class="n">GEM1_PTM_20</span><span class="o">.</span><span class="n">iq_stPtm</span><span class="p">,</span><span class="n">GEM1_GPI_20</span><span class="o">.</span><span class="n">PG</span><span class="p">)</span> <span class="n">AND</span> <span class="n">GEM1_PTM_20</span><span class="o">.</span><span class="n">iq_stPtm</span><span class="o">.</span><span class="n">eState</span> <span class="o">=</span> <span class="n">pumpRUNNING</span><span class="p">,</span><span class="n">i_xOverrideMode</span> <span class="o">:=</span> <span class="n">xGEM1OverrideMode</span><span class="p">);</span>
 <span class="n">GEM1_VRC_30</span><span class="p">(</span><span class="n">i_xExtILK_OK</span> <span class="o">:=</span> <span class="n">F_TurboGateValve_ILK</span><span class="p">(</span><span class="n">GEM1_PTM_30</span><span class="o">.</span><span class="n">iq_stPtm</span><span class="p">,</span><span class="n">GEM1_GPI_30</span><span class="o">.</span><span class="n">PG</span><span class="p">)</span> <span class="n">AND</span> <span class="n">GEM1_PTM_30</span><span class="o">.</span><span class="n">iq_stPtm</span><span class="o">.</span><span class="n">eState</span> <span class="o">=</span> <span class="n">pumpRUNNING</span><span class="p">,</span><span class="n">i_xOverrideMode</span> <span class="o">:=</span> <span class="n">xGEM1OverrideMode</span><span class="p">);</span>
 <span class="n">GEM1_VRC_50</span><span class="p">(</span><span class="n">i_xExtILK_OK</span> <span class="o">:=</span> <span class="n">F_TurboGateValve_ILK</span><span class="p">(</span><span class="n">GEM1_PTM_50</span><span class="o">.</span><span class="n">iq_stPtm</span><span class="p">,</span><span class="n">GEM1_GPI_50</span><span class="o">.</span><span class="n">PG</span><span class="p">)</span> <span class="n">AND</span> <span class="n">GEM1_PTM_50</span><span class="o">.</span><span class="n">iq_stPtm</span><span class="o">.</span><span class="n">eState</span> <span class="o">=</span> <span class="n">pumpRUNNING</span><span class="p">,</span><span class="n">i_xOverrideMode</span> <span class="o">:=</span> <span class="n">xGEM1OverrideMode</span><span class="p">);</span>


<span class="p">(</span><span class="o">*</span><span class="n">Turbo</span> <span class="n">vent</span> <span class="n">valves</span> <span class="n">NO</span><span class="o">*</span><span class="p">)</span> <span class="o">//</span><span class="n">Deprecated</span>
<span class="o">//</span><span class="n">GEM1_VVC_20</span><span class="p">(</span><span class="n">i_stPTM</span> <span class="o">:=</span><span class="n">GEM1_PTM_20</span><span class="o">.</span><span class="n">iq_stPtm</span><span class="p">);</span>
<span class="o">//</span><span class="n">GEM1_VVC_30</span><span class="p">(</span><span class="n">i_stPTM</span> <span class="o">:=</span><span class="n">GEM1_PTM_30</span><span class="o">.</span><span class="n">iq_stPtm</span><span class="p">);</span>
<span class="o">//</span><span class="n">GEM1_VVC_50</span><span class="p">(</span><span class="n">i_stPTM</span> <span class="o">:=</span><span class="n">GEM1_PTM_50</span><span class="o">.</span><span class="n">iq_stPtm</span><span class="p">);</span>
<span class="p">(</span><span class="o">*</span><span class="n">This</span> <span class="n">part</span> <span class="n">was</span> <span class="n">added</span> <span class="n">to</span> <span class="n">Close</span> <span class="nb">all</span> <span class="n">the</span> <span class="n">Turbo</span><span class="s1">&#39;s NO vent valves, These valves are capped off, and wont be in use*)</span>
<span class="o">//</span><span class="n">GEM1_VVC_20</span><span class="o">.</span><span class="n">M_Close</span><span class="p">(</span><span class="n">TRUE</span><span class="p">);</span>
<span class="o">//</span><span class="n">GEM1_VVC_10</span><span class="o">.</span><span class="n">M_Close</span><span class="p">(</span><span class="n">TRUE</span><span class="p">);</span>
<span class="o">//</span><span class="n">GEM1_VVC_50</span><span class="o">.</span><span class="n">M_Close</span><span class="p">(</span><span class="n">TRUE</span><span class="p">);</span>


<span class="p">(</span><span class="o">*</span><span class="n">Turbo</span> <span class="n">Isolation</span> <span class="n">valves</span><span class="o">*</span><span class="p">)</span>
<span class="p">(</span><span class="o">*</span><span class="n">GEM1_PTM_10</span><span class="o">.</span><span class="n">i_xExtILKOk</span> <span class="o">:=</span> <span class="n">F_TurboExtILK_NO</span><span class="p">(</span><span class="n">GEM1_PTM_10</span><span class="o">.</span><span class="n">iq_stPtm</span><span class="p">,</span> <span class="n">GEM1_GPI_11</span><span class="o">.</span><span class="n">PG</span><span class="p">,</span>
                        <span class="n">GEM1_GPI_10</span><span class="o">.</span><span class="n">PG</span><span class="p">,</span><span class="n">GEM1_VVC_20</span><span class="o">.</span><span class="n">q_stValve</span><span class="p">,</span><span class="n">GEM1_PRO_20</span><span class="o">.</span><span class="n">iq_stPFO</span><span class="p">);</span>
<span class="n">GEM1_PTM_10</span><span class="p">(</span><span class="n">i_stGauge</span><span class="o">:=</span><span class="n">GEM1_GPI_11</span><span class="o">.</span><span class="n">PG</span><span class="p">,</span><span class="n">i_rMaxBackingPressure</span> <span class="o">:=</span><span class="n">rMaxBackingPressure</span><span class="p">);</span><span class="o">*</span><span class="p">)</span>
<span class="n">GEM1_PTM_10</span><span class="p">(</span> <span class="n">i_xExtILKOk</span> <span class="o">:=</span> <span class="n">F_TurboExtILKLogic_2</span><span class="p">(</span><span class="n">GEM1_PTM_10</span><span class="o">.</span><span class="n">iq_stPtm</span><span class="p">,</span> <span class="n">GEM1_GPI_11</span><span class="o">.</span><span class="n">PG</span><span class="p">,</span>
                        <span class="n">GEM1_GPI_10</span><span class="o">.</span><span class="n">PG</span><span class="p">,</span><span class="n">GEM1_PRO_20</span><span class="o">.</span><span class="n">iq_stPFO</span><span class="p">));</span>
<span class="p">(</span><span class="o">*</span><span class="n">GEM1_PTM_20</span><span class="o">.</span><span class="n">i_xExtILKOk</span> <span class="o">:=</span> <span class="n">F_TurboExtILK_NO</span><span class="p">(</span><span class="n">GEM1_PTM_20</span><span class="o">.</span><span class="n">iq_stPtm</span><span class="p">,</span><span class="n">BackingGauge</span><span class="o">:=</span> <span class="n">GEM1_GPI_11</span><span class="o">.</span><span class="n">PG</span><span class="p">,</span>
                        <span class="n">InletGauge</span><span class="o">:=</span><span class="n">GEM1_GPI_20</span><span class="o">.</span><span class="n">PG</span><span class="p">,</span><span class="n">GEM1_VVC_20</span><span class="o">.</span><span class="n">q_stValve</span><span class="p">,</span><span class="n">GEM1_PRO_20</span><span class="o">.</span><span class="n">iq_stPFO</span><span class="p">);</span>
<span class="n">GEM1_PTM_20</span><span class="p">(</span><span class="n">i_stGauge</span><span class="o">:=</span><span class="n">GEM1_GPI_11</span><span class="o">.</span><span class="n">PG</span><span class="p">,</span><span class="n">i_rMaxBackingPressure</span> <span class="o">:=</span><span class="n">rMaxBackingPressure</span><span class="p">);</span><span class="o">*</span><span class="p">)</span>
<span class="n">GEM1_PTM_20</span><span class="p">(</span> <span class="n">i_xExtILKOk</span> <span class="o">:=</span> <span class="n">F_TurboExtILKLogic_2</span><span class="p">(</span><span class="n">GEM1_PTM_20</span><span class="o">.</span><span class="n">iq_stPtm</span><span class="p">,</span> <span class="n">GEM1_GPI_11</span><span class="o">.</span><span class="n">PG</span><span class="p">,</span>
                        <span class="n">GEM1_GPI_20</span><span class="o">.</span><span class="n">PG</span><span class="p">,</span><span class="n">GEM1_PRO_20</span><span class="o">.</span><span class="n">iq_stPFO</span><span class="p">));</span>
<span class="n">GEM1_PTM_30</span><span class="p">(</span><span class="n">i_xExtILKOK</span><span class="o">:=</span><span class="n">F_TurboExtILKLogic_2</span><span class="p">(</span><span class="n">GEM1_PTM_30</span><span class="o">.</span><span class="n">iq_stPtm</span><span class="p">,</span> <span class="n">GEM1_GPI_31</span><span class="o">.</span><span class="n">PG</span><span class="p">,</span>
                        <span class="n">GEM1_GPI_30</span><span class="o">.</span><span class="n">PG</span><span class="p">,</span><span class="n">GEM1_PRO_30</span><span class="o">.</span><span class="n">iq_stPFO</span><span class="p">));</span>
<span class="n">GEM1_PTM_50</span><span class="p">(</span><span class="n">i_xExtILKOK</span><span class="o">:=</span><span class="n">F_TurboExtILKLogic_2</span><span class="p">(</span><span class="n">GEM1_PTM_50</span><span class="o">.</span><span class="n">iq_stPtm</span><span class="p">,</span> <span class="n">GEM1_GPI_51</span><span class="o">.</span><span class="n">PG</span><span class="p">,</span>
                        <span class="n">GEM1_GPI_50</span><span class="o">.</span><span class="n">PG</span><span class="p">,</span><span class="n">GEM1_PRO_50</span><span class="o">.</span><span class="n">iq_stPFO</span><span class="p">));</span>

<span class="p">(</span><span class="o">*</span><span class="n">Roughing</span> <span class="n">pumps</span><span class="o">*</span><span class="p">)</span>
<span class="n">GEM1_PRO_20</span><span class="p">(</span><span class="n">xExtIlk</span><span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span> <span class="n">TurboIsOn</span><span class="o">:=</span> <span class="p">(</span><span class="n">GEM1_PTM_10</span><span class="o">.</span><span class="n">iq_stPtm</span><span class="o">.</span><span class="n">q_RunDO</span> <span class="n">OR</span> <span class="n">GEM1_PTM_20</span><span class="o">.</span><span class="n">iq_stPtm</span><span class="o">.</span><span class="n">q_RunDO</span><span class="p">));</span>
<span class="n">GEM1_PRO_30</span><span class="p">(</span><span class="n">xExtIlk</span><span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span> <span class="n">TurboIsOn</span><span class="o">:=</span> <span class="n">GEM1_PTM_30</span><span class="o">.</span><span class="n">iq_stPtm</span><span class="o">.</span><span class="n">q_RunDO</span><span class="p">);</span>
<span class="n">GEM1_PRO_50</span><span class="p">(</span><span class="n">xExtIlk</span><span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span> <span class="n">TurboIsOn</span><span class="o">:=</span> <span class="n">GEM1_PTM_50</span><span class="o">.</span><span class="n">iq_stPtm</span><span class="o">.</span><span class="n">q_RunDO</span><span class="p">);</span>

<span class="n">END_PROGRAM</span>
</pre></div>
</div>
<dl class="simple">
<dt>Related:</dt><dd><ul class="simple">
<li><p><a class="reference internal" href="#gvl-devices">GVL_Devices</a></p></li>
</ul>
</dd>
</dl>
</section>
<section id="prg-gem2">
<h2>PRG_GEM2<a class="headerlink" href="#prg-gem2" title="Permalink to this heading"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>PROGRAM PRG_GEM2
VAR
    {attribute &#39;pytmc&#39; :=&#39;
     pv: EM2L0:GEM:CNTRL:RESET;
     field: ZNAM FALSE;
     field: ONAM TRUE;
     io: io;
    &#39;}
    bReset : BOOL;
    {attribute &#39;pytmc&#39; :=&#39; pv: EM2L0:GEM:CNTRL:ERROR;
     field: ZNAM FALSE;
     field: ONAM TRUE;
     io: io;
     &#39;}
    bError : BOOL;
    {attribute &#39;pytmc&#39; :=&#39; pv: EM2L0:GEM:CNTRL:Kp1 &#39;}
    fKp1 : REAL:= 0.25;
    {attribute &#39;pytmc&#39; :=&#39; pv: EM2L0:GEM:CNTRL:Tn1 &#39;}
    fTn1 : REAL:= 1;//0.5;
    {attribute &#39;pytmc&#39; :=&#39; pv: EM2L0:GEM:CNTRL:Kp2 &#39;}
    fKp2 : REAL:= 0.01;
    {attribute &#39;pytmc&#39; :=&#39; pv: EM2L0:GEM:CNTRL:Tn2 &#39;}
    fTn2 : REAL:= 0.5;
    arrTable_GEM2   : ARRAY[1..31,1..2] OF FLOAT;
    fManValue                                                                                       : FLOAT;
    bExtrapolate                                                                            : BOOL;
    eMode                                                   : E_CTRL_MODE;
    stCTRL_PID_PARAMS               : ST_CTRL_PID_PARAMS;
    bSync                                                   : BOOL;
    bHold                                                   : BOOL;
    eErrorId                                                : E_CTRL_ERRORCODES;
    bARWactive                                      : BOOL;
    (* controller *)
    fbCTRL_PID                                      : FB_CTRL_PID;
    bInit                                                   : BOOL  := TRUE;
    fbCTRL_LIN_INTERPOLATION                                        : FB_CTRL_LIN_INTERPOLATION;
    //stCTRL_LIN_INTERPOLATION_PARAMS               : ST_CTRL_LIN_INTERPOLATION_PARAMS;
    stCTRL_LIN_INTERPOLATION_PARAMS_GEM     : ST_CTRL_LIN_INTERPOLATION_PARAMS;
    fbCTRL_DEADBAND                                         : FB_CTRL_DEADBAND;
    stCTRL_DEADBAND_PARAMS                  : ST_CTRL_DEADBAND_PARAMS;
        //timer to switch the pid from manual to active 5seconds??? 10 seconds???
    pid_on :TON;
    wait : time := T#10S;
    FTrig: F_TRIG;




END_VAR
(*Devices*)
(*Gauges*)
GEM2_GCM_41(i_rFULL_SCALE := 2.0 (*Torr*));
GEM2_GCM_42(i_rFULL_SCALE := 0.05 (*Torr*));
(*Assign reading to psuedo gauge*)
IF (GEM2_GCM_42.PG.rPRESS &gt;0.04) THEN GEM2_GCM_40 := GEM2_GCM_41.PG;
    ELSE
    GEM2_GCM_40 := GEM2_GCM_42.PG;
END_IF
(* Gauge selection *)
    fbCTRL_PID.fActualValue := GEM2_GCM_40.rPRESS;
(*
IF (fGEM2SetpointValue &gt;0.04) THEN
    fbCTRL_PID.fActualValue := GEM2_GCM_41.PG.rPRESS;
ELSE
    fbCTRL_PID.fActualValue := GEM2_GCM_42.PG.rPRESS;
END_IF*)
(* N2 Cut Off Valves *)
GEM2_VVC_40(i_xExtILK_OK:= GEM2_Aperture_Closed AND GEM2_Turbo_Valves_Open AND GEM2_Turbo_Running);
(*Flow Control Valves*)
GEM2_VCN_40 (i_xExtIlkOK := (GEM2_Aperture_Closed AND GEM2_Turbo_Valves_Open AND GEM2_Turbo_Running),// AND GEM2_VVC_40.M_IsOpen()),
            i_ReqPos:=  fbCTRL_LIN_INTERPOLATION.fOut + fbCTRL_PID.fOut);

(*Iniitialization*)
IF bInit
THEN
    (* init array with the interpolation points  *)
    (*      fIn                                      |              fOut            *)
    arrTable_GEM2[1,1] := 0;                arrTable_GEM2[1,2] := 38.7;
    arrTable_GEM2[2,1] := 0.0000412;                arrTable_GEM2[2,2] := 38.8;
    arrTable_GEM2[3,1] := 0.001282;         arrTable_GEM2[3,2] := 38.9;
    arrTable_GEM2[4,1] :=  0.002136;            arrTable_GEM2[4,2] := 39;
    arrTable_GEM2[5,1] :=  0.005884;            arrTable_GEM2[5,2] := 40;
    arrTable_GEM2[6,1] := 0.00907;          arrTable_GEM2[6,2] := 42;
    arrTable_GEM2[7,1] := 0.01183;          arrTable_GEM2[7,2] := 44;
    arrTable_GEM2[8,1] := 0.01799;      arrTable_GEM2[8,2] := 46;
    arrTable_GEM2[9,1] := 0.0302;       arrTable_GEM2[9,2] := 47;
    arrTable_GEM2[10,1] := 0.0417;          arrTable_GEM2[10,2] := 50;
    arrTable_GEM2[11,1] := 0.06635;         arrTable_GEM2[11,2] := 51;
    arrTable_GEM2[12,1] := 0.08118;         arrTable_GEM2[12,2] := 53;
    arrTable_GEM2[13,1] := 0.0998;          arrTable_GEM2[13,2] := 56;
    arrTable_GEM2[14,1] := 0.10644;         arrTable_GEM2[14,2] := 56.5;
    arrTable_GEM2[15,1] := 0.1359;          arrTable_GEM2[15,2] := 58;
    arrTable_GEM2[16,1] := 0.1929;          arrTable_GEM2[16,2] := 60;
    arrTable_GEM2[17,1] := 0.2922;          arrTable_GEM2[17,2] := 62;
    arrTable_GEM2[18,1] := 0.3428;      arrTable_GEM2[18,2] := 64;
    arrTable_GEM2[19,1] :=  0.405;;     arrTable_GEM2[19,2] :=66;
    arrTable_GEM2[20,1] := 0.481;           arrTable_GEM2[20,2] := 68;
    arrTable_GEM2[21,1] := 0.5542;          arrTable_GEM2[21,2] := 69;
    arrTable_GEM2[22,1] := 0.6333;      arrTable_GEM2[22,2] := 70;
    arrTable_GEM2[23,1] := 0.7901;      arrTable_GEM2[23,2] := 72;
    arrTable_GEM2[24,1] := 0.9307;          arrTable_GEM2[24,2] := 73.04;
    arrTable_GEM2[25,1] := 1.0448;          arrTable_GEM2[25,2] := 73.64;
    arrTable_GEM2[26,1] := 1.31919;;                arrTable_GEM2[26,2] := 74.45;
    arrTable_GEM2[27,1] :=  1.324;          arrTable_GEM2[27,2] :=74.46;
    arrTable_GEM2[28,1] := 1.71941; arrTable_GEM2[28,2] := 75;
    arrTable_GEM2[29,1] :=  1.963194;               arrTable_GEM2[29,2] :=75.5;
    arrTable_GEM2[30,1] := 1.99999; arrTable_GEM2[30,2] := 75.505;
    arrTable_GEM2[31,1] := 2;       arrTable_GEM2[31,2] := 75.55;
    (* init parameter struct *)
    stCTRL_LIN_INTERPOLATION_PARAMS_GEM.tCtrlCycleTime                                      := T#10ms;
    stCTRL_LIN_INTERPOLATION_PARAMS_GEM.tTaskCycleTime                                      := T#10ms;
    stCTRL_LIN_INTERPOLATION_PARAMS_GEM.nDataTable_NumberOfRows             := INT_TO_UINT(31);

    (*FBCNTRL*)
    (* init parameter struct *)
    stCTRL_PID_PARAMS.tCtrlCycleTime                := T#10ms;
    stCTRL_PID_PARAMS.tTaskCycleTime                := T#10ms;
    stCTRL_PID_PARAMS.fKp                                   := fKp1;                        (* proportional gain Kp                         *)
    stCTRL_PID_PARAMS.tTn                                   := T#500ms;             (*  Tn                                                                  *)
    stCTRL_PID_PARAMS.tTv                                   := T#200ms;     (*  Tv                                                                  *)
    stCTRL_PID_PARAMS.tTd                                   := T#200ms;     (*  Td                                                                  *)
    stCTRL_PID_PARAMS.fOutMaxLimit                  :=  7;                  (* maximum output limit                         *)
    stCTRL_PID_PARAMS.fOutMinLimit                  :=  -100;                       (* minimum output limit                         *)

    (* set the mode to ACTIVE --&gt; normal operation *)
    eMode                                                   := eCTRL_MODE_PASSIVE   ;
    (* reset the init flag *)
    bInit                                                   := FALSE;
END_IF
(* set the addresses *)
    stCTRL_LIN_INTERPOLATION_PARAMS_GEM.pDataTable_ADR                      := ADR(arrTable_GEM2);
    stCTRL_LIN_INTERPOLATION_PARAMS_GEM.nDataTable_SIZEOF           := SIZEOF(arrTable_GEM2);

fGEM2SetpointValue:= LIMIT(0,fGEM2SetpointValue,2);
if (NOT (GEM2_VVC_40.i_xExtILK_OK) OR (GEM2_VVC_40.M_IsClosed())) THEN
         eMode      := eCTRL_MODE_PASSIVE;
        GEM2_VCN_40.M_ValveControl(CloseValve);
        fGEM2SetpointValue :=0;
END_IF //Switch off the PID incase of interlock
if (GEM2_GO) THEN
    IF (bReset) THEN
    (* set the mode to RESET*)
    eMode                                                   := eCTRL_MODE_RESET   ;
    stCTRL_PID_PARAMS.fKp                                   := fKp1;                        (* proportional gain Kp                         *)
    GEM2_VCN_40.M_ValveControl(CloseValve);
    //bReset := False;
    ELSE
        (* set the mode to ACTIVE --&gt; normal operation *)
    eMode                                                   := eCTRL_MODE_ACTIVE   ;
     GEM2_VCN_40.M_ValveControl(PressureControl);
    END_IF
END_IF
If(FTrig.Q)THEN
        eMode                                                       := eCTRL_MODE_PASSIVE;
        GEM2_VCN_40.M_ValveControl(CloseValve);
        fGEM2SetpointValue :=0;
END_IF


fbCTRL_LIN_INTERPOLATION(
    fIn:= fGEM2SetpointValue ,
    fManValue:= fManValue ,
    bExtrapolate:= bExtrapolate,
    eMode:= eMode,
    stParams:= stCTRL_LIN_INTERPOLATION_PARAMS_GEM,
    fOut=&gt; ,
    bInIsGreaterThanMaxElement=&gt; ,
    bInIsLessThanMinElement=&gt; ,
    eState=&gt; ,
    eErrorId=&gt; ,
    bError=&gt; );



(* call controller *)
fbCTRL_PID(         fSetpointValue          := fGEM2SetpointValue,
                    fActualValue            := ,
                    fManSyncValue   := ,
                    bSync                           := bSync,
                    eMode                           := eMode,
                    bHold                           := bHold,
                    stParams                        := stCTRL_PID_PARAMS,
                    fOut                            =&gt; ,
                    bARWactive              =&gt; bARWactive,
                    eErrorId                        =&gt; eErrorId,
                    bError                          =&gt;
                );


(*deadband/clipper *)

(* call function block *)
stCTRL_DEADBAND_PARAMS.fThreshold   :=  fGEM2SetpointValue*0.0016 ;
(*fbCTRL_DEADBAND   (       fIn                                     := ,
                    stParams                        := stCTRL_DEADBAND_PARAMS,
                    bInIsUnderThreshold =&gt; ,
                    eErrorId                        =&gt; ,
                    bError                          =&gt;
                );*)

bError := fbCTRL_PID.bError OR fbCTRL_LIN_INTERPOLATION.bError;




// or NOT???

//stCTRL_PID_PARAMS.bDInTheFeedbackPath := fbCTRL_DEADBAND.bInIsUnderThreshold;


//timer
(*pid_on(IN:=, PT:= wait, Q=&gt;, ET =&gt;);
IF (pid_on.Q) THEN eMode:= eCTRL_MODE_ACTIVE; pid_on.IN := FALSE; END_IF; //eCTRL_MODE_TUNE????*)


FTRIG(CLK := GEM2_GO);

END_PROGRAM
</pre></div>
</div>
</section>
<section id="prg-gem2-diff-pump">
<h2>PRG_GEM2_DIFF_PUMP<a class="headerlink" href="#prg-gem2-diff-pump" title="Permalink to this heading"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PROGRAM</span> <span class="n">PRG_GEM2_DIFF_PUMP</span>
<span class="n">VAR</span>
    <span class="n">rMaxBackingPressure</span> <span class="p">:</span> <span class="n">REAL</span> <span class="o">:=</span> <span class="mf">0.7</span><span class="p">;</span>
    <span class="n">bInit</span><span class="p">:</span> <span class="n">BOOL</span><span class="o">:=</span><span class="n">TRUE</span><span class="p">;</span>
<span class="n">END_VAR</span>
<span class="p">(</span><span class="o">*</span><span class="n">Gauges</span><span class="o">*</span><span class="p">)</span>
<span class="n">DSG_PIN</span><span class="p">(</span><span class="n">sNetId</span><span class="o">:=</span><span class="s1">&#39;172.21.88.138.1.1&#39;</span> <span class="p">,</span> <span class="n">nPort</span><span class="o">:=</span><span class="mi">851</span> <span class="p">,</span> <span class="n">sVarName</span><span class="o">:=</span><span class="s1">&#39;GVL_Devices.AT2L0_SOLID_PIN_01&#39;</span><span class="p">,</span><span class="n">iWatchdog</span><span class="o">:=</span><span class="n">Main</span><span class="o">.</span><span class="n">iWatchdog</span><span class="p">,</span><span class="n">IG</span><span class="o">=&gt;</span> <span class="p">);</span> <span class="o">//</span> <span class="n">Downstream</span> <span class="n">Gauge</span> <span class="kn">from</span> <span class="nn">Down</span> <span class="n">Stream</span> <span class="n">PLC</span> <span class="n">System</span>
<span class="p">(</span><span class="o">*</span><span class="n">EM2L0</span><span class="o">*</span><span class="p">)</span>
<span class="n">GEM2_GPI_30</span><span class="p">(</span><span class="n">PG</span><span class="o">=&gt;</span><span class="p">);</span>
<span class="n">GEM2_GCC_30</span><span class="p">(</span><span class="n">PG</span><span class="o">:=</span><span class="n">GEM2_GPI_30</span><span class="o">.</span><span class="n">PG</span><span class="p">,</span><span class="n">IG</span><span class="o">=&gt;</span><span class="p">);</span>
<span class="n">GEM2_GPI_31</span><span class="p">(</span><span class="n">PG</span><span class="o">=&gt;</span><span class="p">);</span>
<span class="n">GEM2_GPI_50</span><span class="p">(</span><span class="n">PG</span><span class="o">=&gt;</span><span class="p">);</span>
<span class="n">GEM2_GCC_50</span><span class="p">(</span><span class="n">PG</span><span class="o">:=</span><span class="n">GEM2_GPI_50</span><span class="o">.</span><span class="n">PG</span><span class="p">,</span><span class="n">IG</span><span class="o">=&gt;</span><span class="p">);</span>
<span class="n">GEM2_GPI_51</span><span class="p">(</span><span class="n">PG</span><span class="o">=&gt;</span><span class="p">);</span>
<span class="n">GEM2_GPI_60</span><span class="p">(</span><span class="n">PG</span><span class="o">=&gt;</span><span class="p">);</span>
<span class="n">GEM2_GCC_60</span><span class="p">(</span><span class="n">PG</span><span class="o">:=</span><span class="n">GEM2_GPI_60</span><span class="o">.</span><span class="n">PG</span><span class="p">,</span><span class="n">IG</span><span class="o">=&gt;</span><span class="p">);</span>
<span class="n">GEM2_GPI_61</span><span class="p">(</span><span class="n">PG</span><span class="o">=&gt;</span><span class="p">);</span>
<span class="n">GEM2_GPI_70</span><span class="p">(</span><span class="n">PG</span><span class="o">=&gt;</span><span class="p">);</span>
<span class="n">GEM2_GCC_70</span><span class="p">(</span><span class="n">PG</span><span class="o">:=</span><span class="n">GEM2_GPI_70</span><span class="o">.</span><span class="n">PG</span><span class="p">,</span><span class="n">IG</span><span class="o">=&gt;</span><span class="p">);</span>

<span class="p">(</span><span class="o">*</span><span class="n">VALVES</span><span class="o">*</span><span class="p">)</span>
<span class="p">(</span><span class="o">*</span><span class="n">Aperture</span> <span class="n">valve</span> <span class="n">may</span> <span class="nb">open</span> <span class="n">when</span> <span class="n">Detector</span> <span class="ow">and</span> <span class="n">Attenuator</span> <span class="n">N2</span> <span class="n">valves</span> <span class="n">are</span> <span class="n">closed</span><span class="o">.</span> <span class="n">Override</span> <span class="n">provided</span> <span class="o">*</span><span class="p">)</span>
 <span class="p">(</span><span class="o">*</span> <span class="n">to</span> <span class="n">Include</span> <span class="n">PMPS</span> <span class="n">ILK</span> <span class="k">with</span> <span class="n">the</span> <span class="n">EXTILK</span> <span class="n">bit</span><span class="o">*</span><span class="p">)</span>
<span class="p">(</span><span class="o">*</span><span class="n">apperture</span> <span class="n">valves</span><span class="o">*</span><span class="p">)</span>
<span class="n">GEM2_VGC_10</span><span class="p">(</span><span class="n">i_stUSG</span> <span class="o">:=</span> <span class="n">GEM2_GPI_10</span><span class="o">.</span><span class="n">PG</span><span class="p">,</span> <span class="n">i_stDSG</span><span class="o">:=</span> <span class="n">GEM2_GPI_10</span><span class="o">.</span><span class="n">PG</span><span class="p">,</span><span class="n">i_xDis_DPIlk</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span> <span class="n">i_xEPS_OK</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span>
        <span class="n">i_xPMPS_OK</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span> <span class="n">i_xExt_OK</span> <span class="o">:=</span> <span class="n">xGEM2_AperturesOpnOK</span><span class="p">,</span> <span class="n">i_xOverrideMode</span> <span class="o">:=</span> <span class="n">xGEM2OverrideMode</span><span class="p">,</span><span class="n">i_xReset</span> <span class="o">:=</span> <span class="p">,</span> <span class="n">i_xIsAperture</span><span class="o">:=</span> <span class="n">TRUE</span> <span class="p">,</span>
        <span class="n">io_fbFFHWO</span> <span class="o">:=</span><span class="n">g_FastFaultOutput1</span><span class="p">,</span><span class="n">i_sDevName</span><span class="o">:=</span> <span class="s1">&#39;EM2L0:GEM:VGC:10&#39;</span><span class="p">,</span><span class="n">fbArbiter</span><span class="o">:=</span><span class="n">g_fbArbiter2</span><span class="p">,</span><span class="n">i_nTransitionRootID</span><span class="o">:=</span><span class="mi">2100</span><span class="p">);</span>
<span class="n">GEM2_VGC_20</span><span class="p">(</span><span class="n">i_stUSG</span> <span class="o">:=</span> <span class="n">GEM2_GPI_10</span><span class="o">.</span><span class="n">PG</span><span class="p">,</span> <span class="n">i_stDSG</span><span class="o">:=</span> <span class="n">GEM2_GCC_30</span><span class="o">.</span><span class="n">IG</span><span class="p">,</span><span class="n">i_xDis_DPIlk</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span> <span class="n">i_xEPS_OK</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span>
        <span class="n">i_xPMPS_OK</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span> <span class="n">i_xExt_OK</span> <span class="o">:=</span> <span class="n">xGEM2_AperturesOpnOK</span><span class="p">,</span> <span class="n">i_xOverrideMode</span> <span class="o">:=</span> <span class="n">xGEM2OverrideMode</span><span class="p">,</span><span class="n">i_xReset</span> <span class="o">:=</span> <span class="p">,</span> <span class="n">i_xIsAperture</span><span class="o">:=</span> <span class="n">TRUE</span> <span class="p">,</span>
        <span class="n">io_fbFFHWO</span> <span class="o">:=</span><span class="n">g_FastFaultOutput1</span><span class="p">,</span><span class="n">i_sDevName</span><span class="o">:=</span> <span class="s1">&#39;EM2L0:GEM:VGC:20&#39;</span><span class="p">,</span><span class="n">fbArbiter</span><span class="o">:=</span><span class="n">g_fbArbiter2</span><span class="p">,</span><span class="n">i_nTransitionRootID</span><span class="o">:=</span><span class="mi">2200</span><span class="p">);;</span>
<span class="n">GEM2_VGC_30</span><span class="p">(</span><span class="n">i_stUSG</span> <span class="o">:=</span> <span class="n">GEM2_GCC_30</span><span class="o">.</span><span class="n">IG</span><span class="p">,</span> <span class="n">i_stDSG</span><span class="o">:=</span> <span class="n">GEM2_GCC_30</span><span class="o">.</span><span class="n">IG</span><span class="p">,</span><span class="n">i_xDis_DPIlk</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span> <span class="n">i_xEPS_OK</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span>
        <span class="n">i_xPMPS_OK</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span> <span class="n">i_xExt_OK</span> <span class="o">:=</span> <span class="n">xGEM2_AperturesOpnOK</span><span class="p">,</span> <span class="n">i_xOverrideMode</span> <span class="o">:=</span> <span class="n">xGEM2OverrideMode</span><span class="p">,</span><span class="n">i_xReset</span> <span class="o">:=</span> <span class="p">,</span> <span class="n">i_xIsAperture</span><span class="o">:=</span> <span class="n">TRUE</span> <span class="p">,</span>
        <span class="n">io_fbFFHWO</span> <span class="o">:=</span><span class="n">g_FastFaultOutput1</span><span class="p">,</span><span class="n">i_sDevName</span><span class="o">:=</span> <span class="s1">&#39;EM2L0:GEM:VGC:30&#39;</span><span class="p">,</span><span class="n">fbArbiter</span><span class="o">:=</span><span class="n">g_fbArbiter2</span><span class="p">,</span><span class="n">i_nTransitionRootID</span><span class="o">:=</span><span class="mi">2300</span><span class="p">);</span>
<span class="n">GEM2_VGC_40</span><span class="p">(</span><span class="n">i_stUSG</span> <span class="o">:=</span> <span class="n">GEM2_GCC_50</span><span class="o">.</span><span class="n">IG</span><span class="p">,</span> <span class="n">i_stDSG</span><span class="o">:=</span> <span class="n">GEM2_GCC_50</span><span class="o">.</span><span class="n">IG</span><span class="p">,</span><span class="n">i_xDis_DPIlk</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span> <span class="n">i_xEPS_OK</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span>
        <span class="n">i_xPMPS_OK</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span> <span class="n">i_xExt_OK</span> <span class="o">:=</span> <span class="n">xGEM2_AperturesOpnOK</span><span class="p">,</span> <span class="n">i_xOverrideMode</span> <span class="o">:=</span> <span class="n">xGEM2OverrideMode</span><span class="p">,</span><span class="n">i_xReset</span> <span class="o">:=</span> <span class="p">,</span> <span class="n">i_xIsAperture</span><span class="o">:=</span> <span class="n">TRUE</span> <span class="p">,</span>
        <span class="n">io_fbFFHWO</span> <span class="o">:=</span><span class="n">g_FastFaultOutput1</span><span class="p">,</span><span class="n">i_sDevName</span><span class="o">:=</span> <span class="s1">&#39;EM2L0:GEM:VGC:40&#39;</span><span class="p">,</span><span class="n">fbArbiter</span><span class="o">:=</span><span class="n">g_fbArbiter2</span><span class="p">,</span><span class="n">i_nTransitionRootID</span><span class="o">:=</span><span class="mi">2400</span><span class="p">);</span>
<span class="n">GEM2_VGC_50</span><span class="p">(</span><span class="n">i_stUSG</span> <span class="o">:=</span> <span class="n">GEM2_GCC_30</span><span class="o">.</span><span class="n">IG</span><span class="p">,</span> <span class="n">i_stDSG</span><span class="o">:=</span> <span class="n">GEM2_GCC_60</span><span class="o">.</span><span class="n">IG</span><span class="p">,</span><span class="n">i_xDis_DPIlk</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span> <span class="n">i_xEPS_OK</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span>
        <span class="n">i_xPMPS_OK</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span> <span class="n">i_xExt_OK</span> <span class="o">:=</span> <span class="n">xGEM2_AperturesOpnOK</span><span class="p">,</span> <span class="n">i_xOverrideMode</span> <span class="o">:=</span> <span class="n">xGEM2OverrideMode</span><span class="p">,</span><span class="n">i_xReset</span> <span class="o">:=</span> <span class="p">,</span> <span class="n">i_xIsAperture</span><span class="o">:=</span> <span class="n">TRUE</span> <span class="p">,</span>
        <span class="n">io_fbFFHWO</span> <span class="o">:=</span><span class="n">g_FastFaultOutput1</span><span class="p">,</span><span class="n">i_sDevName</span><span class="o">:=</span> <span class="s1">&#39;EM2L0:GEM:VGC:50&#39;</span><span class="p">,</span><span class="n">fbArbiter</span><span class="o">:=</span><span class="n">g_fbArbiter2</span><span class="p">,</span><span class="n">i_nTransitionRootID</span><span class="o">:=</span><span class="mi">2500</span><span class="p">);</span>
<span class="n">GEM2_VGC_60</span><span class="p">(</span><span class="n">i_stUSG</span> <span class="o">:=</span> <span class="n">GEM2_GCC_60</span><span class="o">.</span><span class="n">IG</span><span class="p">,</span> <span class="n">i_stDSG</span><span class="o">:=</span> <span class="n">GEM2_GCC_70</span><span class="o">.</span><span class="n">IG</span><span class="p">,</span><span class="n">i_xDis_DPIlk</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span> <span class="n">i_xEPS_OK</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span>
        <span class="n">i_xPMPS_OK</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span> <span class="n">i_xExt_OK</span> <span class="o">:=</span> <span class="n">xGEM2_AperturesOpnOK</span><span class="p">,</span> <span class="n">i_xOverrideMode</span> <span class="o">:=</span> <span class="n">xGEM2OverrideMode</span><span class="p">,</span><span class="n">i_xReset</span> <span class="o">:=</span> <span class="p">,</span> <span class="n">i_xIsAperture</span><span class="o">:=</span> <span class="n">TRUE</span> <span class="p">,</span>
        <span class="n">io_fbFFHWO</span> <span class="o">:=</span><span class="n">g_FastFaultOutput1</span><span class="p">,</span><span class="n">i_sDevName</span><span class="o">:=</span> <span class="s1">&#39;EM2L0:GEM:VGC:60&#39;</span><span class="p">,</span><span class="n">fbArbiter</span><span class="o">:=</span><span class="n">g_fbArbiter2</span><span class="p">,</span><span class="n">i_nTransitionRootID</span><span class="o">:=</span><span class="mi">2600</span><span class="p">);</span>
<span class="p">(</span><span class="o">*</span><span class="n">downstream</span> <span class="n">isolation</span> <span class="n">valve</span><span class="o">*</span><span class="p">)</span>
<span class="n">GEM2_VGC_70</span><span class="p">(</span><span class="n">i_stUSG</span> <span class="o">:=</span> <span class="n">GEM2_GCC_70</span><span class="o">.</span><span class="n">IG</span><span class="p">,</span> <span class="n">i_stDSG</span><span class="o">:=</span> <span class="n">DSG_PIN</span><span class="o">.</span><span class="n">IG</span><span class="p">,</span><span class="n">i_xDis_DPIlk</span> <span class="o">:=</span> <span class="n">FALSE</span><span class="p">,</span> <span class="n">i_xEPS_OK</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span>
        <span class="n">i_xPMPS_OK</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span> <span class="n">i_xExt_OK</span> <span class="o">:=</span> <span class="n">NOT</span> <span class="p">(</span><span class="n">DSG_PIN</span><span class="o">.</span><span class="n">bError</span><span class="p">)</span> <span class="p">,</span> <span class="n">i_xOverrideMode</span> <span class="o">:=</span> <span class="n">xGEM2OverrideMode</span><span class="p">,</span><span class="n">i_xReset</span> <span class="o">:=</span> <span class="p">,</span>
        <span class="n">io_fbFFHWO</span> <span class="o">:=</span><span class="n">g_FastFaultOutput1</span><span class="p">,</span><span class="n">i_sDevName</span><span class="o">:=</span> <span class="s1">&#39;EM2L0:GEM:VGC:70&#39;</span><span class="p">,</span><span class="n">fbArbiter</span><span class="o">:=</span><span class="n">g_fbArbiter2</span><span class="p">,</span><span class="n">i_nTransitionRootID</span><span class="o">:=</span><span class="mi">2700</span><span class="p">);</span>
<span class="n">DSV_VGC</span><span class="p">(</span><span class="n">VGC</span><span class="o">=&gt;</span><span class="p">);</span>

<span class="p">(</span><span class="o">*</span><span class="n">Turbo</span> <span class="n">vent</span> <span class="n">valves</span> <span class="n">NO</span><span class="o">*</span><span class="p">)</span><span class="o">//</span><span class="n">Deprecated</span>
<span class="o">//</span><span class="n">GEM2_VVC_30</span><span class="p">(</span><span class="n">i_stPTM</span> <span class="o">:=</span><span class="n">GEM2_PTM_30</span><span class="o">.</span><span class="n">iq_stPtm</span><span class="p">);</span>
<span class="o">//</span><span class="n">GEM2_VVC_50</span><span class="p">(</span><span class="n">i_stPTM</span> <span class="o">:=</span><span class="n">GEM2_PTM_50</span><span class="o">.</span><span class="n">iq_stPtm</span><span class="p">);</span>
<span class="o">//</span><span class="n">GEM2_VVC_70</span><span class="p">(</span><span class="n">i_stPTM</span> <span class="o">:=</span><span class="n">GEM2_PTM_70</span><span class="o">.</span><span class="n">iq_stPtm</span><span class="p">);</span>
<span class="p">(</span><span class="o">*</span><span class="n">This</span> <span class="n">part</span> <span class="n">was</span> <span class="n">added</span> <span class="n">to</span> <span class="n">Close</span> <span class="nb">all</span> <span class="n">the</span> <span class="n">Turbo</span><span class="s1">&#39;s NO vent valves, These valves are capped off, and wont be in use*)</span>
<span class="o">//</span><span class="n">GEM2_VVC_30</span><span class="o">.</span><span class="n">M_Close</span><span class="p">(</span><span class="n">TRUE</span><span class="p">);</span>
<span class="o">//</span><span class="n">GEM2_VVC_50</span><span class="o">.</span><span class="n">M_Close</span><span class="p">(</span><span class="n">TRUE</span><span class="p">);</span>
<span class="o">//</span><span class="n">GEM2_VVC_70</span><span class="o">.</span><span class="n">M_Close</span><span class="p">(</span><span class="n">TRUE</span><span class="p">);</span>


<span class="p">(</span><span class="o">*</span><span class="n">Turbo</span> <span class="n">Isolation</span> <span class="n">valves</span><span class="o">*</span><span class="p">)</span>
 <span class="n">GEM2_VRC_30</span><span class="p">(</span><span class="n">i_xExtILK_OK</span> <span class="o">:=</span> <span class="n">F_TurboGateValve_ILK</span><span class="p">(</span><span class="n">GEM2_PTM_30</span><span class="o">.</span><span class="n">iq_stPtm</span><span class="p">,</span><span class="n">GEM2_GPI_30</span><span class="o">.</span><span class="n">PG</span><span class="p">)</span> <span class="n">AND</span> <span class="n">GEM2_PTM_30</span><span class="o">.</span><span class="n">iq_stPtm</span><span class="o">.</span><span class="n">eState</span> <span class="o">=</span> <span class="n">pumpRUNNING</span><span class="p">,</span><span class="n">i_xOverrideMode</span> <span class="o">:=</span> <span class="n">xGEM2OverrideMode</span><span class="p">);</span>
 <span class="n">GEM2_VRC_50</span><span class="p">(</span><span class="n">i_xExtILK_OK</span> <span class="o">:=</span> <span class="n">F_TurboGateValve_ILK</span><span class="p">(</span><span class="n">GEM2_PTM_50</span><span class="o">.</span><span class="n">iq_stPtm</span><span class="p">,</span><span class="n">GEM2_GPI_50</span><span class="o">.</span><span class="n">PG</span><span class="p">)</span> <span class="n">AND</span> <span class="n">GEM2_PTM_50</span><span class="o">.</span><span class="n">iq_stPtm</span><span class="o">.</span><span class="n">eState</span> <span class="o">=</span> <span class="n">pumpRUNNING</span><span class="p">,</span><span class="n">i_xOverrideMode</span> <span class="o">:=</span> <span class="n">xGEM2OverrideMode</span><span class="p">);</span>
 <span class="n">GEM2_VRC_60</span><span class="p">(</span><span class="n">i_xExtILK_OK</span> <span class="o">:=</span> <span class="n">F_TurboGateValve_ILK</span><span class="p">(</span><span class="n">GEM2_PTM_60</span><span class="o">.</span><span class="n">iq_stPtm</span><span class="p">,</span><span class="n">GEM2_GPI_60</span><span class="o">.</span><span class="n">PG</span><span class="p">)</span> <span class="n">AND</span> <span class="n">GEM2_PTM_60</span><span class="o">.</span><span class="n">iq_stPtm</span><span class="o">.</span><span class="n">eState</span> <span class="o">=</span> <span class="n">pumpRUNNING</span><span class="p">,</span><span class="n">i_xOverrideMode</span> <span class="o">:=</span> <span class="n">xGEM2OverrideMode</span><span class="p">);</span>
 <span class="n">GEM2_VRC_70</span><span class="p">(</span><span class="n">i_xExtILK_OK</span> <span class="o">:=</span> <span class="n">F_TurboGateValve_ILK</span><span class="p">(</span><span class="n">GEM2_PTM_70</span><span class="o">.</span><span class="n">iq_stPtm</span><span class="p">,</span><span class="n">GEM2_GPI_70</span><span class="o">.</span><span class="n">PG</span><span class="p">)</span> <span class="n">AND</span> <span class="n">GEM2_PTM_70</span><span class="o">.</span><span class="n">iq_stPtm</span><span class="o">.</span><span class="n">eState</span> <span class="o">=</span> <span class="n">pumpRUNNING</span><span class="p">,</span><span class="n">i_xOverrideMode</span> <span class="o">:=</span> <span class="n">xGEM2OverrideMode</span><span class="p">);</span>

<span class="p">(</span><span class="o">*</span><span class="n">Turbo</span> <span class="n">Pumps</span><span class="o">*</span><span class="p">)</span>
<span class="n">GEM2_PTM_30</span><span class="p">(</span><span class="n">i_xExtILKOK</span><span class="o">:=</span><span class="n">F_TurboExtILKLogic_2</span><span class="p">(</span><span class="n">GEM2_PTM_30</span><span class="o">.</span><span class="n">iq_stPtm</span><span class="p">,</span> <span class="n">GEM2_GPI_31</span><span class="o">.</span><span class="n">PG</span><span class="p">,</span>
                        <span class="n">GEM2_GPI_30</span><span class="o">.</span><span class="n">PG</span><span class="p">,</span><span class="n">GEM2_PRO_30</span><span class="o">.</span><span class="n">iq_stPFO</span><span class="p">));</span>
<span class="n">GEM2_PTM_50</span><span class="p">(</span><span class="n">i_xExtILKOK</span><span class="o">:=</span><span class="n">F_TurboExtILKLogic_2</span><span class="p">(</span><span class="n">GEM2_PTM_50</span><span class="o">.</span><span class="n">iq_stPtm</span><span class="p">,</span> <span class="n">GEM2_GPI_51</span><span class="o">.</span><span class="n">PG</span><span class="p">,</span>
                        <span class="n">GEM2_GPI_50</span><span class="o">.</span><span class="n">PG</span><span class="p">,</span><span class="n">GEM2_PRO_50</span><span class="o">.</span><span class="n">iq_stPFO</span><span class="p">));</span>
<span class="n">GEM2_PTM_60</span><span class="p">(</span><span class="n">i_xExtILKOK</span><span class="o">:=</span><span class="n">F_TurboExtILKLogic_2</span><span class="p">(</span><span class="n">GEM2_PTM_60</span><span class="o">.</span><span class="n">iq_stPtm</span><span class="p">,</span> <span class="n">GEM2_GPI_61</span><span class="o">.</span><span class="n">PG</span><span class="p">,</span>
                        <span class="n">GEM2_GPI_60</span><span class="o">.</span><span class="n">PG</span><span class="p">,</span><span class="n">GEM2_PRO_60</span><span class="o">.</span><span class="n">iq_stPFO</span><span class="p">));</span>
<span class="n">GEM2_PTM_70</span><span class="p">(</span><span class="n">i_xExtILKOK</span><span class="o">:=</span><span class="n">F_TurboExtILKLogic_2</span><span class="p">(</span><span class="n">GEM2_PTM_70</span><span class="o">.</span><span class="n">iq_stPtm</span><span class="p">,</span> <span class="n">GEM2_GPI_61</span><span class="o">.</span><span class="n">PG</span><span class="p">,</span>
                        <span class="n">GEM2_GPI_70</span><span class="o">.</span><span class="n">PG</span><span class="p">,</span><span class="n">GEM2_PRO_60</span><span class="o">.</span><span class="n">iq_stPFO</span><span class="p">));</span>


<span class="p">(</span><span class="o">*</span><span class="n">Roughing</span> <span class="n">pumps</span><span class="o">*</span><span class="p">)</span>
<span class="n">GEM2_PRO_30</span><span class="p">(</span><span class="n">xExtIlk</span><span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span> <span class="n">TurboIsOn</span><span class="o">:=</span> <span class="n">GEM2_PTM_30</span><span class="o">.</span><span class="n">iq_stPtm</span><span class="o">.</span><span class="n">q_RunDO</span><span class="p">);</span>
<span class="n">GEM2_PRO_50</span><span class="p">(</span><span class="n">xExtIlk</span><span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span> <span class="n">TurboIsOn</span><span class="o">:=</span> <span class="n">GEM2_PTM_50</span><span class="o">.</span><span class="n">iq_stPtm</span><span class="o">.</span><span class="n">q_RunDO</span><span class="p">);</span>
<span class="n">GEM2_PRO_60</span><span class="p">(</span><span class="n">xExtIlk</span><span class="o">:=</span> <span class="n">TRUE</span><span class="p">,</span> <span class="n">TurboIsOn</span><span class="o">:=</span> <span class="p">(</span><span class="n">GEM2_PTM_60</span><span class="o">.</span><span class="n">iq_stPtm</span><span class="o">.</span><span class="n">q_RunDO</span> <span class="n">OR</span> <span class="n">GEM2_PTM_70</span><span class="o">.</span><span class="n">iq_stPtm</span><span class="o">.</span><span class="n">q_RunDO</span><span class="p">));</span>

<span class="n">END_PROGRAM</span>
</pre></div>
</div>
<dl class="simple">
<dt>Related:</dt><dd><ul class="simple">
<li><p><a class="reference internal" href="#gvl-devices">GVL_Devices</a></p></li>
</ul>
</dd>
</dl>
</section>
<section id="prg-ilk">
<h2>PRG_ILK<a class="headerlink" href="#prg-ilk" title="Permalink to this heading"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PROGRAM</span> <span class="n">PRG_ILK</span>
<span class="n">VAR</span>
<span class="n">END_VAR</span>
<span class="p">(</span><span class="o">*</span><span class="n">Evaluate</span> <span class="n">Global</span> <span class="n">Interlocks</span><span class="o">*</span><span class="p">)</span>

<span class="n">TwinscrewPumps_Valves_Closed</span> <span class="o">:=</span> <span class="n">GEM1_VRC_60</span><span class="o">.</span><span class="n">q_stValve</span><span class="o">.</span><span class="n">i_xClsLS</span> <span class="n">AND</span>  <span class="n">GEM1_VRC_70</span><span class="o">.</span><span class="n">q_stValve</span><span class="o">.</span><span class="n">i_xClsLS</span> <span class="n">AND</span> <span class="n">GEM2_VRC_10</span><span class="o">.</span><span class="n">q_stValve</span><span class="o">.</span><span class="n">i_xClsLS</span> <span class="n">AND</span> <span class="n">GEM2_VRC_20</span><span class="o">.</span><span class="n">q_stValve</span><span class="o">.</span><span class="n">i_xClsLS</span><span class="p">;</span>
<span class="n">GEM1_Turbo_Valves_Closed</span> <span class="o">:=</span> <span class="n">GEM1_VRC_10</span><span class="o">.</span><span class="n">iq_stValve</span><span class="o">.</span><span class="n">i_xClsLS</span> <span class="n">AND</span>  <span class="n">GEM1_VRC_20</span><span class="o">.</span><span class="n">iq_stValve</span><span class="o">.</span><span class="n">i_xClsLS</span> <span class="n">AND</span> <span class="n">GEM1_VRC_30</span><span class="o">.</span><span class="n">iq_stValve</span><span class="o">.</span><span class="n">i_xClsLS</span> <span class="n">AND</span> <span class="n">GEM1_VRC_50</span><span class="o">.</span><span class="n">iq_stValve</span><span class="o">.</span><span class="n">i_xClsLS</span><span class="p">;</span>
<span class="n">GEM2_Turbo_Valves_Closed</span> <span class="o">:=</span> <span class="n">GEM2_VRC_30</span><span class="o">.</span><span class="n">iq_stValve</span><span class="o">.</span><span class="n">i_xClsLS</span> <span class="n">AND</span>  <span class="n">GEM2_VRC_50</span><span class="o">.</span><span class="n">iq_stValve</span><span class="o">.</span><span class="n">i_xClsLS</span> <span class="n">AND</span> <span class="n">GEM2_VRC_60</span><span class="o">.</span><span class="n">iq_stValve</span><span class="o">.</span><span class="n">i_xClsLS</span> <span class="n">AND</span> <span class="n">GEM2_VRC_70</span><span class="o">.</span><span class="n">iq_stValve</span><span class="o">.</span><span class="n">i_xClsLS</span><span class="p">;</span>
<span class="n">GEM1_TwinscrewPumps_Valves_Open</span> <span class="o">:=</span> <span class="p">(</span><span class="n">GEM1_VRC_60</span><span class="o">.</span><span class="n">q_stValve</span><span class="o">.</span><span class="n">i_xOpnLS</span> <span class="n">AND</span> <span class="n">GEM1_PRO_60</span><span class="o">.</span><span class="n">q_stPump</span><span class="o">.</span><span class="n">i_xIsRun</span><span class="p">)</span> <span class="n">OR</span>   <span class="p">(</span><span class="n">GEM1_VRC_70</span><span class="o">.</span><span class="n">q_stValve</span><span class="o">.</span><span class="n">i_xOpnLS</span> <span class="n">AND</span> <span class="n">GEM1_PRO_70</span><span class="o">.</span><span class="n">q_stPump</span><span class="o">.</span><span class="n">i_xIsRun</span><span class="p">);</span>
<span class="n">GEM2_TwinscrewPumps_Valves_Open</span> <span class="o">:=</span> <span class="p">(</span><span class="n">GEM2_VRC_10</span><span class="o">.</span><span class="n">q_stValve</span><span class="o">.</span><span class="n">i_xOpnLS</span> <span class="n">AND</span> <span class="n">GEM2_PRO_10</span><span class="o">.</span><span class="n">q_stPump</span><span class="o">.</span><span class="n">i_xIsRun</span><span class="p">)</span> <span class="n">OR</span>   <span class="p">(</span><span class="n">GEM2_VRC_20</span><span class="o">.</span><span class="n">q_stValve</span><span class="o">.</span><span class="n">i_xOpnLS</span> <span class="n">AND</span> <span class="n">GEM2_PRO_20</span><span class="o">.</span><span class="n">q_stPump</span><span class="o">.</span><span class="n">i_xIsRun</span><span class="p">);</span>
<span class="n">GEM1_Turbo_Valves_Open</span> <span class="o">:=</span> <span class="n">GEM1_VRC_10</span><span class="o">.</span><span class="n">iq_stValve</span><span class="o">.</span><span class="n">i_xOpnLS</span> <span class="n">AND</span>  <span class="n">GEM1_VRC_20</span><span class="o">.</span><span class="n">iq_stValve</span><span class="o">.</span><span class="n">i_xOpnLS</span> <span class="n">AND</span> <span class="n">GEM1_VRC_30</span><span class="o">.</span><span class="n">iq_stValve</span><span class="o">.</span><span class="n">i_xOpnLS</span> <span class="n">AND</span> <span class="n">GEM1_VRC_50</span><span class="o">.</span><span class="n">iq_stValve</span><span class="o">.</span><span class="n">i_xOpnLS</span><span class="p">;</span>
<span class="n">GEM2_Turbo_Valves_Open</span> <span class="o">:=</span> <span class="n">GEM2_VRC_30</span><span class="o">.</span><span class="n">iq_stValve</span><span class="o">.</span><span class="n">i_xOpnLS</span> <span class="n">AND</span>  <span class="n">GEM2_VRC_50</span><span class="o">.</span><span class="n">iq_stValve</span><span class="o">.</span><span class="n">i_xOpnLS</span> <span class="n">AND</span> <span class="n">GEM2_VRC_60</span><span class="o">.</span><span class="n">iq_stValve</span><span class="o">.</span><span class="n">i_xOpnLS</span> <span class="n">AND</span> <span class="n">GEM2_VRC_70</span><span class="o">.</span><span class="n">iq_stValve</span><span class="o">.</span><span class="n">i_xOpnLS</span><span class="p">;</span> <span class="p">(</span><span class="o">*</span><span class="n">MG</span> <span class="mf">03.09.20</span> <span class="n">Turbo</span> <span class="ow">is</span> <span class="n">failing</span><span class="p">,</span> <span class="n">but</span> <span class="n">injection</span> <span class="n">can</span> <span class="n">run</span> <span class="n">without</span> <span class="n">it</span><span class="o">*</span><span class="p">)</span>
<span class="n">GEM1_Aperture_Closed</span> <span class="o">:=</span>  <span class="n">GEM1_VGC_20</span><span class="o">.</span><span class="n">iq_stValve</span><span class="o">.</span><span class="n">i_xClsLS</span> <span class="n">AND</span> <span class="n">GEM1_VGC_30</span><span class="o">.</span><span class="n">iq_stValve</span><span class="o">.</span><span class="n">i_xClsLS</span> <span class="n">AND</span> <span class="n">GEM1_VGC_40</span><span class="o">.</span><span class="n">iq_stValve</span><span class="o">.</span><span class="n">i_xClsLS</span> <span class="n">AND</span> <span class="n">GEM1_VGC_50</span><span class="o">.</span><span class="n">iq_stValve</span><span class="o">.</span><span class="n">i_xClsLS</span> <span class="n">AND</span> <span class="n">GEM1_VGC_60</span><span class="o">.</span><span class="n">iq_stValve</span><span class="o">.</span><span class="n">i_xClsLS</span> <span class="n">AND</span> <span class="n">GEM1_VGC_70</span><span class="o">.</span><span class="n">iq_stValve</span><span class="o">.</span><span class="n">i_xClsLS</span> <span class="p">;</span>
<span class="n">GEM2_Aperture_Closed</span> <span class="o">:=</span> <span class="n">GEM2_VGC_10</span><span class="o">.</span><span class="n">iq_stValve</span><span class="o">.</span><span class="n">i_xClsLS</span> <span class="n">AND</span> <span class="n">GEM2_VGC_20</span><span class="o">.</span><span class="n">iq_stValve</span><span class="o">.</span><span class="n">i_xClsLS</span> <span class="n">AND</span> <span class="n">GEM2_VGC_30</span><span class="o">.</span><span class="n">iq_stValve</span><span class="o">.</span><span class="n">i_xClsLS</span> <span class="n">AND</span> <span class="n">GEM2_VGC_40</span><span class="o">.</span><span class="n">iq_stValve</span><span class="o">.</span><span class="n">i_xClsLS</span> <span class="n">AND</span> <span class="n">GEM2_VGC_50</span><span class="o">.</span><span class="n">iq_stValve</span><span class="o">.</span><span class="n">i_xClsLS</span> <span class="n">AND</span> <span class="n">GEM2_VGC_60</span><span class="o">.</span><span class="n">iq_stValve</span><span class="o">.</span><span class="n">i_xClsLS</span><span class="p">;</span> <span class="p">;</span>
<span class="n">GEM1_Turbo_Running</span> <span class="o">:=</span> <span class="p">(</span><span class="n">GEM1_PTM_10</span><span class="o">.</span><span class="n">iq_stPtm</span><span class="o">.</span><span class="n">eState</span> <span class="o">=</span> <span class="n">pumpRUNNING</span><span class="p">)</span> <span class="n">AND</span> <span class="p">(</span><span class="n">GEM1_PTM_20</span><span class="o">.</span><span class="n">iq_stPtm</span><span class="o">.</span><span class="n">eState</span> <span class="o">=</span> <span class="n">pumpRUNNING</span><span class="p">)</span> <span class="n">AND</span> <span class="p">(</span><span class="n">GEM1_PTM_30</span><span class="o">.</span><span class="n">iq_stPtm</span><span class="o">.</span><span class="n">eState</span> <span class="o">=</span> <span class="n">pumpRUNNING</span><span class="p">)</span> <span class="n">AND</span> <span class="p">(</span><span class="n">GEM1_PTM_50</span><span class="o">.</span><span class="n">iq_stPtm</span><span class="o">.</span><span class="n">eState</span> <span class="o">=</span> <span class="n">pumpRUNNING</span><span class="p">);</span>
<span class="n">GEM2_Turbo_Running</span> <span class="o">:=</span> <span class="p">(</span><span class="n">GEM2_PTM_30</span><span class="o">.</span><span class="n">iq_stPtm</span><span class="o">.</span><span class="n">eState</span> <span class="o">=</span> <span class="n">pumpRUNNING</span><span class="p">)</span> <span class="n">AND</span> <span class="p">(</span><span class="n">GEM2_PTM_50</span><span class="o">.</span><span class="n">iq_stPtm</span><span class="o">.</span><span class="n">eState</span> <span class="o">=</span> <span class="n">pumpRUNNING</span><span class="p">)</span> <span class="n">AND</span> <span class="p">(</span><span class="n">GEM2_PTM_60</span><span class="o">.</span><span class="n">iq_stPtm</span><span class="o">.</span><span class="n">eState</span> <span class="o">=</span> <span class="n">pumpRUNNING</span><span class="p">)</span> <span class="n">AND</span> <span class="p">(</span><span class="n">GEM2_PTM_70</span><span class="o">.</span><span class="n">iq_stPtm</span><span class="o">.</span><span class="n">eState</span> <span class="o">=</span> <span class="n">pumpRUNNING</span><span class="p">);</span> <span class="p">(</span><span class="o">*</span><span class="n">MG</span> <span class="mf">03.09.20</span> <span class="n">Turbo</span> <span class="ow">is</span> <span class="n">failing</span><span class="p">,</span> <span class="n">but</span> <span class="n">injection</span> <span class="n">can</span> <span class="n">run</span> <span class="n">without</span> <span class="n">it</span><span class="o">*</span><span class="p">)</span>

<span class="n">xGEM1_AperturesOpnOK</span> <span class="o">:=</span> <span class="n">NOT</span> <span class="n">GEM1_VVC_40</span><span class="o">.</span><span class="n">iq_stValve</span><span class="o">.</span><span class="n">q_xOPN_DO</span> <span class="n">AND</span> <span class="n">NOT</span> <span class="n">GATT_VVC_10</span><span class="o">.</span><span class="n">iq_stValve</span><span class="o">.</span><span class="n">q_xOPN_DO</span><span class="p">;</span> <span class="o">//</span><span class="n">AND</span> <span class="n">VCN</span> <span class="ow">is</span> <span class="n">closed</span>
<span class="n">xGEM2_AperturesOpnOK</span> <span class="o">:=</span> <span class="n">NOT</span> <span class="n">GEM2_VVC_40</span><span class="o">.</span><span class="n">iq_stValve</span><span class="o">.</span><span class="n">q_xOPN_DO</span> <span class="n">AND</span> <span class="n">NOT</span> <span class="n">GATT_VVC_10</span><span class="o">.</span><span class="n">iq_stValve</span><span class="o">.</span><span class="n">q_xOPN_DO</span><span class="p">;</span> <span class="o">//</span><span class="n">AND</span> <span class="n">VCN</span> <span class="ow">is</span> <span class="n">closed</span>

<span class="p">(</span><span class="o">*</span> <span class="n">Link</span> <span class="n">The</span> <span class="n">correct</span> <span class="n">override</span> <span class="n">bit</span> <span class="n">to</span> <span class="n">the</span> <span class="n">correct</span> <span class="n">vacuum</span> <span class="n">section</span><span class="o">*</span><span class="p">)</span>



<span class="p">(</span><span class="o">*</span><span class="n">P</span><span class="o">/</span><span class="n">MPS</span> <span class="n">FF</span><span class="o">*</span><span class="p">)</span>

<span class="n">END_PROGRAM</span>
</pre></div>
</div>
</section>
<section id="prg-pmps">
<h2>PRG_PMPS<a class="headerlink" href="#prg-pmps" title="Permalink to this heading"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PROGRAM</span> <span class="n">PRG_PMPS</span>
<span class="n">VAR</span>
 <span class="n">fbArbiterIO</span> <span class="p">:</span> <span class="n">FB_SubSysToArbiter_IO</span><span class="p">;</span>
 <span class="n">test</span> <span class="p">:</span> <span class="nb">bool</span><span class="p">;</span>
 <span class="n">ar1</span> <span class="p">:</span> <span class="nb">bool</span><span class="p">;</span>
 <span class="n">ar2</span> <span class="p">:</span> <span class="nb">bool</span><span class="p">;</span>
  <span class="n">ar3</span> <span class="p">:</span> <span class="nb">bool</span><span class="p">;</span>
 <span class="n">nReqID</span><span class="p">:</span><span class="n">UDINT</span><span class="p">;</span>
 <span class="n">nReqRM</span><span class="p">:</span><span class="n">UDINT</span><span class="p">;</span>
 <span class="n">bRemove</span><span class="p">:</span><span class="nb">bool</span><span class="p">;</span>
<span class="n">END_VAR</span>
<span class="p">(</span><span class="o">*</span><span class="n">Fast</span> <span class="n">Fault</span> <span class="n">instantiation</span><span class="o">*</span><span class="p">)</span>
<span class="n">g_FastFaultOutput1</span><span class="o">.</span><span class="n">bAutoReset</span> <span class="o">:=</span><span class="n">TRUE</span><span class="p">;</span>
<span class="n">g_FastFaultOutput2</span><span class="o">.</span><span class="n">bAutoReset</span> <span class="o">:=</span><span class="n">TRUE</span><span class="p">;</span>
<span class="n">g_FastFaultOutput1</span><span class="o">.</span><span class="n">Execute</span><span class="p">();</span>
<span class="n">g_FastFaultOutput2</span><span class="o">.</span><span class="n">Execute</span><span class="p">();</span>


<span class="p">(</span><span class="o">*</span> <span class="n">Arbiter</span> <span class="n">Instantiation</span><span class="o">*</span><span class="p">)</span>
<span class="p">(</span><span class="o">*</span><span class="n">Arbiter</span> <span class="n">one</span> <span class="n">responsible</span> <span class="k">for</span> <span class="n">the</span> <span class="n">aperture</span> <span class="n">valves</span><span class="o">*</span><span class="p">)</span>
<span class="n">fbArbiterIO</span><span class="p">(</span><span class="n">Arbiter</span> <span class="o">:=</span> <span class="n">GVL_ILK</span><span class="o">.</span><span class="n">g_fbArbiter</span><span class="p">,</span> <span class="n">fbFFHWO</span> <span class="o">:=</span> <span class="n">GVL_ILK</span><span class="o">.</span><span class="n">g_FastFaultOutput1</span><span class="p">);</span>
<span class="n">GVL_ILK</span><span class="o">.</span><span class="n">g_fbArbiter2</span><span class="o">.</span><span class="n">ElevateRequest</span><span class="p">(</span><span class="n">GVL_ILK</span><span class="o">.</span><span class="n">g_fbArbiter</span><span class="p">);</span>
<span class="n">GVL_ILK</span><span class="o">.</span><span class="n">g_fbArbiter3</span><span class="o">.</span><span class="n">ElevateRequest</span><span class="p">(</span><span class="n">GVL_ILK</span><span class="o">.</span><span class="n">g_fbArbiter</span><span class="p">);</span>

<span class="n">GVL_ILK</span><span class="o">.</span><span class="n">g_fbArbiter</span><span class="o">.</span><span class="n">AddRequest</span><span class="p">(</span><span class="n">nReqID</span><span class="o">:=</span> <span class="mi">90</span>  <span class="p">,</span> <span class="n">stReqBP</span><span class="o">:=</span> <span class="n">PMPS_GVL</span><span class="o">.</span><span class="n">cstFullBeam</span><span class="p">,</span> <span class="n">sDevName</span> <span class="o">:=</span> <span class="s1">&#39;plc-lfe-gem&#39;</span><span class="p">);</span>
<span class="n">GVL_ILK</span><span class="o">.</span><span class="n">g_fbArbiter2</span><span class="o">.</span><span class="n">AddRequest</span><span class="p">(</span><span class="n">nReqID</span><span class="o">:=</span> <span class="mi">91</span>  <span class="p">,</span> <span class="n">stReqBP</span><span class="o">:=</span> <span class="n">PMPS_GVL</span><span class="o">.</span><span class="n">cstFullBeam</span><span class="p">,</span> <span class="n">sDevName</span> <span class="o">:=</span> <span class="s1">&#39;plc-lfe-gem&#39;</span><span class="p">);</span>
<span class="n">GVL_ILK</span><span class="o">.</span><span class="n">g_fbArbiter3</span><span class="o">.</span><span class="n">AddRequest</span><span class="p">(</span><span class="n">nReqID</span><span class="o">:=</span> <span class="mi">92</span>  <span class="p">,</span> <span class="n">stReqBP</span><span class="o">:=</span> <span class="n">PMPS_GVL</span><span class="o">.</span><span class="n">cstFullBeam</span><span class="p">,</span> <span class="n">sDevName</span> <span class="o">:=</span> <span class="s1">&#39;plc-lfe-gem&#39;</span><span class="p">);</span>


<span class="n">ar1</span><span class="o">:=</span><span class="n">GVL_ILK</span><span class="o">.</span><span class="n">g_fbArbiter</span><span class="o">.</span><span class="n">CheckRequestInPool</span><span class="p">(</span><span class="n">nReqID</span><span class="p">);</span>
<span class="n">ar2</span><span class="o">:=</span><span class="n">GVL_ILK</span><span class="o">.</span><span class="n">g_fbArbiter2</span><span class="o">.</span><span class="n">CheckRequestInPool</span><span class="p">(</span><span class="n">nReqID</span><span class="p">);</span>
<span class="n">ar3</span><span class="o">:=</span><span class="n">GVL_ILK</span><span class="o">.</span><span class="n">g_fbArbiter3</span><span class="o">.</span><span class="n">CheckRequestInPool</span><span class="p">(</span><span class="n">nReqID</span><span class="p">);</span>
<span class="k">if</span> <span class="p">(</span><span class="n">bRemove</span><span class="p">)</span> <span class="n">THEN</span>
    <span class="n">GVL_ILK</span><span class="o">.</span><span class="n">g_fbArbiter</span><span class="o">.</span><span class="n">RemoveRequest</span><span class="p">(</span><span class="n">nReqRM</span><span class="p">);</span>
     <span class="n">GVL_ILK</span><span class="o">.</span><span class="n">g_fbArbiter2</span><span class="o">.</span><span class="n">RemoveRequest</span><span class="p">(</span><span class="n">nReqRM</span><span class="p">);</span>
    <span class="n">GVL_ILK</span><span class="o">.</span><span class="n">g_fbArbiter3</span><span class="o">.</span><span class="n">RemoveRequest</span><span class="p">(</span><span class="n">nReqRM</span><span class="p">);</span>
<span class="n">END_IF</span>

<span class="n">END_PROGRAM</span>
</pre></div>
</div>
<dl class="simple">
<dt>Related:</dt><dd><ul class="simple">
<li><p><a class="reference internal" href="#gvl-ilk">GVL_ILK</a></p></li>
</ul>
</dd>
</dl>
</section>
<section id="prg-roots">
<h2>PRG_ROOTS<a class="headerlink" href="#prg-roots" title="Permalink to this heading"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PROGRAM</span> <span class="n">PRG_ROOTS</span>
<span class="n">VAR</span>
<span class="n">END_VAR</span>
<span class="p">(</span><span class="o">*</span><span class="n">EM1L0</span><span class="o">*</span><span class="p">)</span>
<span class="p">(</span><span class="o">*</span><span class="n">Roots</span> <span class="n">Pump</span> <span class="n">Chamber</span> <span class="mi">1</span><span class="o">*</span><span class="p">)</span>
<span class="p">(</span><span class="o">*</span><span class="n">gauges</span><span class="o">*</span><span class="p">)</span>
<span class="n">GEM1_GPI_60</span><span class="p">(</span><span class="n">PG</span><span class="o">=&gt;</span><span class="p">);</span>
<span class="n">GEM1_GPI_61</span><span class="p">(</span><span class="n">PG</span><span class="o">=&gt;</span><span class="p">);</span>
<span class="n">GEM1_GPI_71</span><span class="p">(</span><span class="n">PG</span><span class="o">=&gt;</span><span class="p">);</span>

<span class="p">(</span><span class="o">*</span><span class="n">Isolation</span> <span class="n">Valve</span><span class="o">*</span><span class="p">)</span>
<span class="n">GEM1_VRC_60</span><span class="p">(</span><span class="n">Pump</span><span class="o">:=</span><span class="n">GEM1_PRO_60</span><span class="o">.</span><span class="n">q_stPump</span><span class="p">,</span><span class="n">Gauge</span><span class="o">:=</span><span class="n">GEM1_GPI_60</span><span class="o">.</span><span class="n">PG</span><span class="p">,</span><span class="n">i_xExtILK_OK</span><span class="o">:=</span><span class="n">TRUE</span><span class="p">);</span>
<span class="n">GEM1_VRC_70</span><span class="p">(</span><span class="n">Pump</span><span class="o">:=</span><span class="n">GEM1_PRO_70</span><span class="o">.</span><span class="n">q_stPump</span><span class="p">,</span><span class="n">Gauge</span><span class="o">:=</span><span class="n">GEM1_GPI_60</span><span class="o">.</span><span class="n">PG</span><span class="p">,</span><span class="n">i_xExtILK_OK</span><span class="o">:=</span><span class="n">TRUE</span><span class="p">);</span>


<span class="p">(</span><span class="o">*</span> <span class="n">dry</span> <span class="n">pump</span><span class="o">*</span><span class="p">)</span>
<span class="n">GEM1_PRO_60</span><span class="p">();</span>
<span class="n">GEM1_PRO_70</span><span class="p">();</span>




<span class="p">(</span><span class="o">*</span><span class="n">EM2L0</span><span class="o">*</span><span class="p">)</span>
<span class="p">(</span><span class="o">*</span><span class="n">Roots</span> <span class="n">Pump</span> <span class="n">Chamber</span> <span class="mi">1</span><span class="o">*</span><span class="p">)</span>
<span class="p">(</span><span class="o">*</span><span class="n">gauges</span><span class="o">*</span><span class="p">)</span>
<span class="n">GEM2_GPI_10</span><span class="p">(</span><span class="n">PG</span><span class="o">=&gt;</span><span class="p">);</span>
<span class="n">GEM2_GPI_11</span><span class="p">(</span><span class="n">PG</span><span class="o">=&gt;</span><span class="p">);</span>
<span class="n">GEM2_GPI_21</span><span class="p">(</span><span class="n">PG</span><span class="o">=&gt;</span><span class="p">);</span>

<span class="p">(</span><span class="o">*</span><span class="n">Isolation</span> <span class="n">Valve</span><span class="o">*</span><span class="p">)</span>
<span class="n">GEM2_VRC_10</span><span class="p">(</span><span class="n">Pump</span><span class="o">:=</span><span class="n">GEM2_PRO_10</span><span class="o">.</span><span class="n">q_stPump</span><span class="p">,</span><span class="n">Gauge</span><span class="o">:=</span><span class="n">GEM2_GPI_10</span><span class="o">.</span><span class="n">PG</span><span class="p">,</span><span class="n">i_xExtILK_OK</span><span class="o">:=</span><span class="n">TRUE</span><span class="p">);</span>
<span class="n">GEM2_VRC_20</span><span class="p">(</span><span class="n">Pump</span><span class="o">:=</span><span class="n">GEM2_PRO_20</span><span class="o">.</span><span class="n">q_stPump</span><span class="p">,</span><span class="n">Gauge</span><span class="o">:=</span><span class="n">GEM2_GPI_10</span><span class="o">.</span><span class="n">PG</span><span class="p">,</span><span class="n">i_xExtILK_OK</span><span class="o">:=</span><span class="n">TRUE</span><span class="p">);</span>

<span class="p">(</span><span class="o">*</span> <span class="n">dry</span> <span class="n">pump</span><span class="o">*</span><span class="p">)</span>
<span class="n">GEM2_PRO_10</span><span class="p">();</span>
<span class="n">GEM2_PRO_20</span><span class="p">();</span>

<span class="n">END_PROGRAM</span>
</pre></div>
</div>
</section>
<section id="prg-satt">
<h2>PRG_SATT<a class="headerlink" href="#prg-satt" title="Permalink to this heading"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PROGRAM</span> <span class="n">PRG_SATT</span>
<span class="n">VAR</span>
    <span class="n">PMPS_OK</span><span class="p">:</span> <span class="n">BOOL</span> <span class="o">:=</span> <span class="n">TRUE</span><span class="p">;</span> <span class="o">//</span> <span class="n">to</span> <span class="n">be</span> <span class="n">linked</span> <span class="n">to</span> <span class="n">pmps</span>
<span class="n">END_VAR</span>
<span class="n">SATT_MPA_01</span><span class="p">(</span>
    <span class="n">ibInsertOK</span><span class="o">:=</span> <span class="n">PMPS_OK</span><span class="p">,</span>
    <span class="n">ibRetractOK</span><span class="o">:=</span> <span class="n">PMPS_OK</span> <span class="p">,</span>
    <span class="o">//</span><span class="n">ibPMPS_OK</span><span class="o">:=</span> <span class="n">PMPS_OK</span> <span class="p">,</span>
    <span class="n">ibOverrideInterlock</span><span class="o">:=</span> <span class="p">,</span>
    <span class="n">q_stAct</span><span class="o">=&gt;</span> <span class="p">,</span>
    <span class="n">xMPS_OK</span><span class="o">=&gt;</span> <span class="p">,</span>
    <span class="n">xDone</span><span class="o">=&gt;</span> <span class="p">,</span>
    <span class="n">i_xReset</span> <span class="o">:=</span> <span class="p">,</span>
    <span class="n">io_fbFFHWO</span> <span class="o">:=</span><span class="n">g_FastFaultOutput2</span><span class="p">,</span><span class="n">i_sDevName</span><span class="o">:=</span> <span class="s1">&#39;AT1L0:SOLID:MPA:01&#39;</span><span class="p">,</span><span class="n">fbArbiter</span><span class="o">:=</span><span class="n">g_fbArbiter3</span><span class="p">,</span>
    <span class="n">i_nTransitionRootID</span><span class="o">:=</span><span class="mi">5100</span><span class="p">);</span>

<span class="n">SATT_MPA_02</span><span class="p">(</span>
    <span class="n">ibInsertOK</span><span class="o">:=</span> <span class="n">PMPS_OK</span><span class="p">,</span>
    <span class="n">ibRetractOK</span><span class="o">:=</span> <span class="n">PMPS_OK</span> <span class="p">,</span>
    <span class="o">//</span><span class="n">ibPMPS_OK</span><span class="o">:=</span> <span class="n">PMPS_OK</span> <span class="p">,</span>
    <span class="n">ibOverrideInterlock</span><span class="o">:=</span> <span class="p">,</span>
    <span class="n">q_stAct</span><span class="o">=&gt;</span> <span class="p">,</span>
    <span class="n">xMPS_OK</span><span class="o">=&gt;</span> <span class="p">,</span>
    <span class="n">xDone</span><span class="o">=&gt;</span> <span class="p">,</span>
    <span class="n">i_xReset</span> <span class="o">:=</span> <span class="p">,</span><span class="n">io_fbFFHWO</span> <span class="o">:=</span><span class="n">g_FastFaultOutput2</span><span class="p">,</span><span class="n">i_sDevName</span><span class="o">:=</span> <span class="s1">&#39;AT1L0:SOLID:MPA:02&#39;</span><span class="p">,</span><span class="n">fbArbiter</span><span class="o">:=</span><span class="n">g_fbArbiter3</span><span class="p">,</span>
    <span class="n">i_nTransitionRootID</span><span class="o">:=</span><span class="mi">5200</span><span class="p">);</span>

<span class="n">SATT_MPA_03</span><span class="p">(</span>
    <span class="n">ibInsertOK</span><span class="o">:=</span> <span class="n">PMPS_OK</span><span class="p">,</span>
    <span class="n">ibRetractOK</span><span class="o">:=</span> <span class="n">PMPS_OK</span> <span class="p">,</span>
    <span class="o">//</span><span class="n">ibPMPS_OK</span><span class="o">:=</span> <span class="n">PMPS_OK</span> <span class="p">,</span>
    <span class="n">ibOverrideInterlock</span><span class="o">:=</span> <span class="p">,</span>
    <span class="n">q_stAct</span><span class="o">=&gt;</span> <span class="p">,</span>
    <span class="n">xMPS_OK</span><span class="o">=&gt;</span> <span class="p">,</span>
    <span class="n">xDone</span><span class="o">=&gt;</span> <span class="p">,</span>
    <span class="n">i_xReset</span> <span class="o">:=</span> <span class="p">,</span><span class="n">io_fbFFHWO</span> <span class="o">:=</span><span class="n">g_FastFaultOutput2</span><span class="p">,</span><span class="n">i_sDevName</span><span class="o">:=</span> <span class="s1">&#39;AT1L0:SOLID:MPA:03&#39;</span><span class="p">,</span><span class="n">fbArbiter</span><span class="o">:=</span><span class="n">g_fbArbiter3</span><span class="p">,</span>
    <span class="n">i_nTransitionRootID</span><span class="o">:=</span><span class="mi">5300</span><span class="p">);</span>

<span class="n">SATT_MPA_04</span><span class="p">(</span>
    <span class="n">ibInsertOK</span><span class="o">:=</span> <span class="n">PMPS_OK</span><span class="p">,</span>
    <span class="n">ibRetractOK</span><span class="o">:=</span> <span class="n">PMPS_OK</span> <span class="p">,</span>
    <span class="o">//</span><span class="n">ibPMPS_OK</span><span class="o">:=</span> <span class="n">PMPS_OK</span> <span class="p">,</span>
    <span class="n">ibOverrideInterlock</span><span class="o">:=</span> <span class="p">,</span>
    <span class="n">q_stAct</span><span class="o">=&gt;</span> <span class="p">,</span>
    <span class="n">xMPS_OK</span><span class="o">=&gt;</span> <span class="p">,</span>
    <span class="n">xDone</span><span class="o">=&gt;</span> <span class="p">,</span>
    <span class="n">i_xReset</span> <span class="o">:=</span> <span class="p">,</span><span class="n">io_fbFFHWO</span> <span class="o">:=</span><span class="n">g_FastFaultOutput2</span><span class="p">,</span><span class="n">i_sDevName</span><span class="o">:=</span> <span class="s1">&#39;AT1L0:SOLID:MPA:04&#39;</span><span class="p">,</span><span class="n">fbArbiter</span><span class="o">:=</span><span class="n">g_fbArbiter3</span><span class="p">,</span>
    <span class="n">i_nTransitionRootID</span><span class="o">:=</span><span class="mi">5400</span><span class="p">);</span>

<span class="n">SATT_MPA_05</span><span class="p">(</span>
    <span class="n">ibInsertOK</span><span class="o">:=</span> <span class="n">PMPS_OK</span><span class="p">,</span>
    <span class="n">ibRetractOK</span><span class="o">:=</span> <span class="n">PMPS_OK</span> <span class="p">,</span>
    <span class="o">//</span><span class="n">ibPMPS_OK</span><span class="o">:=</span> <span class="n">PMPS_OK</span> <span class="p">,</span>
    <span class="n">ibOverrideInterlock</span><span class="o">:=</span> <span class="p">,</span>
    <span class="n">q_stAct</span><span class="o">=&gt;</span> <span class="p">,</span>
    <span class="n">xMPS_OK</span><span class="o">=&gt;</span> <span class="p">,</span>
    <span class="n">xDone</span><span class="o">=&gt;</span> <span class="p">,</span>
    <span class="n">i_xReset</span> <span class="o">:=</span> <span class="p">,</span><span class="n">io_fbFFHWO</span> <span class="o">:=</span><span class="n">g_FastFaultOutput2</span><span class="p">,</span><span class="n">i_sDevName</span><span class="o">:=</span> <span class="s1">&#39;AT1L0:SOLID:MPA:05&#39;</span><span class="p">,</span><span class="n">fbArbiter</span><span class="o">:=</span><span class="n">g_fbArbiter3</span><span class="p">,</span>
    <span class="n">i_nTransitionRootID</span><span class="o">:=</span><span class="mi">5500</span><span class="p">);</span>

<span class="n">SATT_MPA_06</span><span class="p">(</span>
    <span class="n">ibInsertOK</span><span class="o">:=</span> <span class="n">PMPS_OK</span><span class="p">,</span>
    <span class="n">ibRetractOK</span><span class="o">:=</span> <span class="n">PMPS_OK</span> <span class="p">,</span>
    <span class="o">//</span><span class="n">ibPMPS_OK</span><span class="o">:=</span> <span class="n">PMPS_OK</span> <span class="p">,</span>
    <span class="n">ibOverrideInterlock</span><span class="o">:=</span> <span class="p">,</span>
    <span class="n">q_stAct</span><span class="o">=&gt;</span> <span class="p">,</span>
    <span class="n">xMPS_OK</span><span class="o">=&gt;</span> <span class="p">,</span>
    <span class="n">xDone</span><span class="o">=&gt;</span> <span class="p">,</span>
    <span class="n">i_xReset</span> <span class="o">:=</span> <span class="p">,</span><span class="n">io_fbFFHWO</span> <span class="o">:=</span><span class="n">g_FastFaultOutput2</span><span class="p">,</span><span class="n">i_sDevName</span><span class="o">:=</span> <span class="s1">&#39;AT1L0:SOLID:MPA:06&#39;</span><span class="p">,</span><span class="n">fbArbiter</span><span class="o">:=</span><span class="n">g_fbArbiter3</span><span class="p">,</span>
    <span class="n">i_nTransitionRootID</span><span class="o">:=</span><span class="mi">5600</span><span class="p">);</span>

<span class="n">SATT_MPA_07</span><span class="p">(</span>
    <span class="n">ibInsertOK</span><span class="o">:=</span> <span class="n">PMPS_OK</span><span class="p">,</span>
    <span class="n">ibRetractOK</span><span class="o">:=</span> <span class="n">PMPS_OK</span> <span class="p">,</span>
    <span class="o">//</span><span class="n">ibPMPS_OK</span><span class="o">:=</span> <span class="n">PMPS_OK</span> <span class="p">,</span>
    <span class="n">ibOverrideInterlock</span><span class="o">:=</span> <span class="p">,</span>
    <span class="n">q_stAct</span><span class="o">=&gt;</span> <span class="p">,</span>
    <span class="n">xMPS_OK</span><span class="o">=&gt;</span> <span class="p">,</span>
    <span class="n">xDone</span><span class="o">=&gt;</span> <span class="p">,</span>
    <span class="n">i_xReset</span> <span class="o">:=</span> <span class="p">,</span><span class="n">io_fbFFHWO</span> <span class="o">:=</span><span class="n">g_FastFaultOutput2</span><span class="p">,</span><span class="n">i_sDevName</span><span class="o">:=</span> <span class="s1">&#39;AT1L0:SOLID:MPA:07&#39;</span><span class="p">,</span><span class="n">fbArbiter</span><span class="o">:=</span><span class="n">g_fbArbiter3</span><span class="p">,</span>
    <span class="n">i_nTransitionRootID</span><span class="o">:=</span><span class="mi">5700</span><span class="p">);</span>

<span class="n">SATT_MPA_08</span><span class="p">(</span>
    <span class="n">ibInsertOK</span><span class="o">:=</span> <span class="n">PMPS_OK</span><span class="p">,</span>
    <span class="n">ibRetractOK</span><span class="o">:=</span> <span class="n">PMPS_OK</span> <span class="p">,</span>
    <span class="o">//</span><span class="n">ibPMPS_OK</span><span class="o">:=</span> <span class="n">PMPS_OK</span> <span class="p">,</span>
    <span class="n">ibOverrideInterlock</span><span class="o">:=</span> <span class="p">,</span>
    <span class="n">q_stAct</span><span class="o">=&gt;</span> <span class="p">,</span>
    <span class="n">xMPS_OK</span><span class="o">=&gt;</span> <span class="p">,</span>
    <span class="n">xDone</span><span class="o">=&gt;</span> <span class="p">,</span>
    <span class="n">i_xReset</span> <span class="o">:=</span> <span class="p">,</span><span class="n">io_fbFFHWO</span> <span class="o">:=</span><span class="n">g_FastFaultOutput2</span><span class="p">,</span><span class="n">i_sDevName</span><span class="o">:=</span> <span class="s1">&#39;AT1L0:SOLID:MPA:08&#39;</span><span class="p">,</span><span class="n">fbArbiter</span><span class="o">:=</span><span class="n">g_fbArbiter3</span><span class="p">,</span>
    <span class="n">i_nTransitionRootID</span><span class="o">:=</span><span class="mi">5800</span><span class="p">);</span>

<span class="n">SATT_MPA_09</span><span class="p">(</span>
    <span class="n">ibInsertOK</span><span class="o">:=</span> <span class="n">PMPS_OK</span><span class="p">,</span>
    <span class="n">ibRetractOK</span><span class="o">:=</span> <span class="n">PMPS_OK</span> <span class="p">,</span>
    <span class="o">//</span><span class="n">ibPMPS_OK</span><span class="o">:=</span> <span class="n">PMPS_OK</span> <span class="p">,</span>
    <span class="n">ibOverrideInterlock</span><span class="o">:=</span> <span class="p">,</span>
    <span class="n">q_stAct</span><span class="o">=&gt;</span> <span class="p">,</span>
    <span class="n">xMPS_OK</span><span class="o">=&gt;</span> <span class="p">,</span>
    <span class="n">xDone</span><span class="o">=&gt;</span> <span class="p">,</span>
    <span class="n">i_xReset</span> <span class="o">:=</span> <span class="p">,</span><span class="n">io_fbFFHWO</span> <span class="o">:=</span><span class="n">g_FastFaultOutput2</span><span class="p">,</span><span class="n">i_sDevName</span><span class="o">:=</span> <span class="s1">&#39;AT1L0:SOLID:MPA:09&#39;</span><span class="p">,</span><span class="n">fbArbiter</span><span class="o">:=</span><span class="n">g_fbArbiter3</span><span class="p">,</span>
    <span class="n">i_nTransitionRootID</span><span class="o">:=</span><span class="mi">5900</span><span class="p">);</span>

<span class="p">(</span><span class="o">*</span>
<span class="n">MPA_321</span><span class="p">();</span>
<span class="n">MPA_322</span><span class="p">();</span>
<span class="n">MPA_323</span><span class="p">();</span>
<span class="n">MPA_324</span><span class="p">();</span>
<span class="n">MPA_325</span><span class="p">();</span>
<span class="n">MPA_326</span><span class="p">();</span>
<span class="n">MPA_327</span><span class="p">();</span>
<span class="n">MPA_328</span><span class="p">();</span>
<span class="n">MPA_329</span><span class="p">();</span> <span class="o">*</span><span class="p">)</span>

<span class="n">END_PROGRAM</span>
</pre></div>
</div>
</section>
<section id="prg-sensors">
<h2>PRG_SENSORS<a class="headerlink" href="#prg-sensors" title="Permalink to this heading"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PROGRAM</span> <span class="n">PRG_SENSORS</span>
<span class="n">VAR</span>
        <span class="o">//</span> <span class="n">Sensor</span> <span class="n">Range</span> <span class="ow">in</span> <span class="n">Psi</span>
    <span class="n">CDA_SENS_PRESS_RANGE</span> <span class="p">:</span> <span class="n">REAL</span> <span class="o">:=</span> <span class="mi">200</span><span class="p">;</span>
    <span class="n">NITR_SENS_PRESS_RANGE</span><span class="p">:</span> <span class="n">REAL</span> <span class="o">:=</span> <span class="mi">200</span><span class="p">;</span>
    <span class="n">H2O_SENS_PRESS_RANGE</span><span class="p">:</span> <span class="n">REAL</span> <span class="o">:=</span> <span class="mi">200</span><span class="p">;</span>

    <span class="o">//</span> <span class="n">Mim</span> <span class="n">pressure</span> <span class="n">setpoint</span> <span class="ow">in</span> <span class="n">Psi</span>
    <span class="n">CDA_SENS_MIN_PRESS_SP</span><span class="p">:</span> <span class="n">REAL</span> <span class="o">:=</span> <span class="mi">30</span><span class="p">;</span>
    <span class="n">NITR_SENS_MIN_PRESS_SP</span><span class="p">:</span> <span class="n">REAL</span> <span class="o">:=</span> <span class="mi">15</span><span class="p">;</span>
    <span class="n">H2O_SENS_MIN_PRESS_SP</span><span class="p">:</span> <span class="n">REAL</span> <span class="o">:=</span> <span class="mi">15</span><span class="p">;</span>

    <span class="o">//</span> <span class="n">Maximum</span> <span class="n">pressure</span> <span class="n">setpoint</span> <span class="ow">in</span> <span class="n">Psi</span>
    <span class="n">CDA_SENS_MAX_PRESS_SP</span><span class="p">:</span> <span class="n">REAL</span> <span class="o">:=</span> <span class="mi">160</span><span class="p">;</span>
    <span class="n">NITR_SENS_MAX_PRESS_SP</span><span class="p">:</span> <span class="n">REAL</span> <span class="o">:=</span> <span class="mi">55</span><span class="p">;</span>
    <span class="n">H2O_SENS_MAX_PRESS_SP</span><span class="p">:</span> <span class="n">REAL</span> <span class="o">:=</span> <span class="mi">80</span><span class="p">;</span>

    <span class="o">//</span> <span class="n">Press</span> <span class="n">default</span> <span class="n">setpoint</span> <span class="ow">in</span> <span class="n">Psi</span>
    <span class="n">CDA_SENS_DEFAULT_SP</span><span class="p">:</span> <span class="n">REAL</span> <span class="o">:=</span> <span class="mi">60</span><span class="p">;</span>
    <span class="n">NITR_SENS_DEFAULT_SP</span><span class="p">:</span> <span class="n">REAL</span> <span class="o">:=</span> <span class="mi">25</span><span class="p">;</span>
    <span class="n">H2O_SENS_DEFAULT_SP</span><span class="p">:</span> <span class="n">REAL</span> <span class="o">:=</span> <span class="mi">30</span><span class="p">;</span>


<span class="n">END_VAR</span>
<span class="n">GEM1_AIR_1</span><span class="p">(</span><span class="n">rDefaultSP</span><span class="o">:=</span> <span class="n">CDA_SENS_DEFAULT_SP</span><span class="p">);</span>
<span class="n">GEM1_AIR_2</span><span class="p">(</span><span class="n">rDefaultSP</span><span class="o">:=</span> <span class="n">CDA_SENS_DEFAULT_SP</span><span class="p">);</span>

<span class="n">GEM2_N2_1</span> <span class="p">(</span><span class="n">rDefaultSP</span><span class="o">:=</span> <span class="n">NITR_SENS_DEFAULT_SP</span><span class="p">);</span>
<span class="n">GEM2_N2_2</span> <span class="p">(</span><span class="n">rDefaultSP</span><span class="o">:=</span> <span class="n">NITR_SENS_DEFAULT_SP</span><span class="p">);</span>

<span class="n">END_PROGRAM</span>
</pre></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="plc-lfe-gem_plc_lfe_gem_epics.html" class="btn btn-neutral float-left" title="Data Types" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, SLAC National Accelerator Laboratory.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>